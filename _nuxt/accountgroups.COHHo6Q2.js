import{u as r}from"./CustomFetch.ggXvTdIz.js";import{l as o}from"./entry.32UGFqj-.js";const u=o("accountGroupStore",{state:()=>({accountGroup:{id:null,name:null},list:[],pagination:{},getParams:{},errorMessage:"",successMessage:"",isLoading:!1,isEdit:!1}),actions:{async getAccountGroups(){this.isLoading=!0;const{data:s,error:a}=await r("/api/account-group",{method:"GET",params:this.getParams,onResponse:({response:e})=>{this.isLoading=!1,this.list=e._data.data.data,this.pagination={first_page:e._data.first_page_url,pages:e._data.links,last_page:e._data.last_page_url}}});if(s)return s;if(a)return a},async showAccountGroup(s){const{data:a,error:e}=await r("/api/account-group/"+s,{method:"GET",params:this.getParams,onResponse:({response:t})=>{this.accountGroup=t._data}});if(a)return a;if(e)return e},async createAccountGroup(){this.successMessage="",this.errorMessage="",await r("/api/account-group",{method:"POST",body:this.accountGroup,watch:!1,onResponse:({response:s})=>{s.ok?(this.getAccountGroups(),this.successMessage=s._data.message):this.errorMessage=s._data.message}})},async editAccountGroup(){this.successMessage="",this.errorMessage="";const{data:s,error:a}=await r("/api/account-group/"+this.accountGroup.id,{method:"PATCH",body:this.accountGroup,watch:!1});if(s.value)return this.getAccountGroups(),this.successMessage=s.value.message,s;if(a.value)return this.errorMessage=a.value.data.message,a},async deleteAccountGroup(s){this.isLoading=!0;const{data:a,error:e}=await r("/api/account-group/"+s,{method:"DELETE",body:this.accountGroup,watch:!1,onResponse:({response:t})=>{this.isLoading=!1,t._data.success?this.successMessage=t._data.message:this.errorMessage=t._data.message}});if(a.value)return this.getAccountGroups(),this.successMessage=a.value.message,a;if(e.value)return this.errorMessage="Something went wrong",e},clearMessages(){this.errorMessage="",this.successMessage=""},reset(){this.accountGroup={id:null,name:null},this.successMessage="",this.errorMessage=""}}});export{u};
