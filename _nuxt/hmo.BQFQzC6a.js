import{ab as i,l as h,O as m}from"./entry.R6V7NTxy.js";import{h as o,c as l,b as u}from"./CustomFetch.BRBLzGci.js";const{token:a}=i(),t=m(),d=h("hmo",{state:()=>({isEdit:!1,hmoMemberList:null,hmo:{id:null,hmo_name:null,hmo_start:null,hmo_end:null,employee_share:0,employer_share:0,hmo_members:[]},editingItem:{hmo_id:null,hmo_name:null,hmo_employee:null,hmo_employeeShare:null},hmolist:[],getParams:{},errorMessage:"",successMessage:""}),actions:{async getHmo(){const{data:s,error:e}=await o("/api/hmo/resource",{baseURL:t.public.HRMS_API_URL,method:"GET",headers:{Authorization:a.value+"",Accept:"application/json"},params:this.getParams},"$Jf4MXnAmHj");if(s.value)return this.hmolist=s.value.data.data,s;if(e.value)return e},async getHmoMembers(s){this.successMessage="",this.errorMessage="",await l("api/hmo/resource/"+s,{method:"GET",params:this.getParams,onResponse:({response:e})=>{if(e.ok)this.hmoMemberList=e._data.data;else throw this.errorMessage=e._data.message,new Error(e._data.message)}})},async createHmo(){this.successMessage="",this.errorMessage="";const{data:s,error:e}=await o("/api/hmo/resource",{baseURL:t.public.HRMS_API_URL,method:"POST",headers:{Authorization:a.value+"",Accept:"application/json"},body:this.hmo,watch:!1},"$ON6cthlLl9");if(s.value)return this.getHmo(),this.reset(),this.successMessage=s.value.message,s;if(e.value)return this.errorMessage=e.value.data.message,e},async editHmo(){this.successMessage="",this.errorMessage="";const{data:s,error:e}=await o("/api/hmo/resource"+this.hmo.hmo_id,{baseURL:t.public.HRMS_API_URL,method:"PATCH",headers:{Authorization:a.value+"",Accept:"application/json"},body:this.hmo,watch:!1},"$vyu3ikBNKf");if(s.value)return this.successMessage=s.value.message,this.getHmo(),s;if(e.value)return this.errorMessage=e.value.data.message,e},async deleteHmo(s){const{data:e,error:r}=await o("/api/hmo/resource/"+s,{baseURL:t.public.HRMS_API_URL,method:"DELETE",headers:{Authorization:a.value+"",Accept:"application/json"},watch:!1},"$Dw5yscL093");if(e.value)return this.successMessage=e.value.message,this.getHmo(),e;if(r.value)return r},async showHmo(s){await u("/api/hmo/resource/"+s,{baseURL:t.public.HRMS_API_URL,method:"GET",headers:{Authorization:a.value+"",Accept:"application/json"},watch:!1,onResponseError:({response:e})=>{throw new Error(e._data.message)},onResponse:({response:e})=>{e.ok&&(this.hmo=e._data.data??{})}})},reset(){this.hmo={hmo_id:null,hmo_name:null},this.isEdit=!1,this.successMessage="",this.errorMessage=""}}});export{d as u};
