import{_ as M}from"./PsTextInput.vue.DFQbUHfC.js";import{_ as Y}from"./PsNumberInput.vue.d-XJnO9O.js";import{_ as W}from"./PsEmailInput.C1lCeCZc.js";import{u as L}from"./id.Dwf9xs1O.js";import{f as I,q as R,o as _,c as y,a as e,u as i,x as $,D as Q,n as z,A as J,s as U,ax as B,B as E,b as a,y as X,r as S,w as N,v as Z,F as T,i as q,t as O,O as ee,m as D,j as te,h as le,g as oe}from"./entry.R6V7NTxy.js";import{_ as H}from"./PsSelect.vue.LvmGGEOJ.js";import{_ as ae}from"./PsDateInput.vue.DLxIFRYj.js";import se from"./Icon.DcF_NU9d.js";import{_ as re}from"./PsModal.DW9SixU3.js";import{u as P,A as ne}from"./suppliers.Jeng9i7R.js";import{_ as ue}from"./LayoutBoards.vue.1keADq5t.js";import{_ as ie}from"./ApprovalsList.GUTJciN1.js";import{u as de}from"./approvals.Db95ZdMZ.js";const me=["for"],ce=["id"],pe=e("option",{class:"uppercase cursor-pointer hover:bg-slate-100 px-3 py-1 border-b",value:"Single Proprietorship"}," Single Proprietorship ",-1),fe=e("option",{class:"uppercase cursor-pointer hover:bg-slate-100 px-3 py-1 border-b",value:"Partnership"}," Partnership ",-1),_e=e("option",{class:"uppercase cursor-pointer hover:bg-slate-100 px-3 py-1 border-b",value:"Corporation"}," Corporation ",-1),ye=[pe,fe,_e],ve=I({__name:"SupplierTypeOfOwnership",props:{modelValue:{required:!1,type:String,default:""}},emits:["update:modelValue"],setup(v){const r=R(v,"modelValue"),s=L("$h33Bc5hbHN");return(d,n)=>(_(),y("div",null,[e("label",{for:i(s),class:"block mb-1 text-sm font-medium text-gray-900 dark:text-white"}," Type of Ownership ",8,me),$(e("select",{id:i(s),"onUpdate:modelValue":n[0]||(n[0]=p=>r.value=p),class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},ye,8,ce),[[Q,r.value]])]))}}),be={class:"PsTextAreaInputTemplate"},ge=["id","placeholder","required"],he=I({__name:"PsTextAreaCommon",props:z({title:{type:String,required:!0},required:{type:Boolean,required:!1,default:!1}},{modelValue:{required:!0,type:String,default:null}}),emits:["update:modelValue"],setup(v){const r=L("$c8Dm03cHKd"),s=R(v,"modelValue");return(d,n)=>(_(),y("div",be,[$(e("textarea",{id:i(r),"onUpdate:modelValue":n[0]||(n[0]=p=>s.value=p),placeholder:v.title,required:v.required,class:"w-full bg-gray-80 border border-gray-300 text-gray-900 sm:text-sm focus:ring-primary-600 focus:border-primary-600 block"},null,8,ge),[[J,s.value]])]))}}),xe={class:"flex flex-row gap-4 justify-start mt-4"},we={class:"w-full"},Ve=e("label",{class:"block mb-1 text-sm font-medium text-gray-900"}," File ",-1),Se=I({__name:"SupplierAttachmentForm",setup(v){const r=P(),{attachments:s}=U(r),d=B(),n=E(),p=(u,m)=>{try{const f=u.target.files[0];m.form.file=f}catch(f){n.add({type:"error",text:f})}},t=async()=>{try{const u=new FormData;s.value.form.attachment_name==="OTHERS"?u.append("attachment_name",s.value.form.other_type):u.append("attachment_name",s.value.form.attachment_name),u.append("file",s.value.form.file),d.query.key&&u.append("request_supplier_id",d.query.key),await r.updateAttachments(u),r.errorMessage!==""?n.add({type:"error",text:r.errorMessage}):r.successMessage!==""&&n.add({type:"success",text:r.successMessage})}catch(u){n.add({type:"error",text:u})}};return(u,m)=>{const f=H,g=M;return _(),y("div",xe,[a(f,{modelValue:i(s).form.attachment_name,"onUpdate:modelValue":m[0]||(m[0]=b=>i(s).form.attachment_name=b),"options-list":["BANK DETAILS","CERTIFICATE OF REGISTRATION WITH SEC/DTI REGISTRATION","CITY/MUNICIPAL PERMIT","BIR 2303 CERTIFICATE OF REGISTRATION","CERTIFICATE OF PRODUCT/MSDS","CERTIFICATE OF DELEARSHIP/DISTRIBUTORSHIP","DENR PERMITS","TRADE TEST RESULTS","PRICE LIST/QUOTATION","OTHERS"],class:"w-full",title:"Attachment Type"},null,8,["modelValue"]),$(a(g,{modelValue:i(s).form.other_type,"onUpdate:modelValue":m[1]||(m[1]=b=>i(s).form.other_type=b),class:"w-full",title:"File Name"},null,8,["modelValue"]),[[X,i(s).form.attachment_name=="OTHERS"]]),e("div",we,[Ve,e("input",{class:"w-full mb-1 text-xs text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"file_input_help",type:"file",accept:".doc, .docx, .pdf",placeholder:"Please Specify Attachment Type",title:"File",onChange:m[2]||(m[2]=b=>p(b,i(s)))},null,32)]),e("button",{type:"button",class:"flex-1 text-white p-2 rounded-lg bg-teal-600 content-center mt-5 max-w-max",onClick:t}," Save ")])}}}),Te={class:"flex flex-col gap-4 justify-center items-center h-full mt-5"},Ie=e("div",{class:"flex justify-center h-full"},[e("h2",{class:"text-lg"}," Are your sure you want to delete the attachment? ")],-1),Ae={class:"p-2 flex flex-row gap-4"},ke={class:"flex flex-col full gap-2 max-w-5xl"},Ce=e("label",{class:"block mb-1 text-sm font-medium text-gray-900"},"Attachments:",-1),qe={class:"pb-2 text-gray-500 overflow-x-auto mb-4"},Re={class:"table-auto w-full border-collapse"},$e={class:"p-3"},Ue={class:"p-2 flex gap-2 justify-center"},Ee={class:"flex flex-row gap-2"},Pe=["href"],Fe=["onClick"],Ne=I({__name:"SupplierAttachment",setup(v){const r=P(),{attachments:s}=U(r),d=ee(),n=E(),p=S(!1),t=S(null),u=S(!1),m=[{name:"Attachment"},{name:"Action"}],f=w=>{t.value=w,u.value=!0},g=()=>{u.value=!1},b=async()=>{try{await r.deleteAttachment(t.value),r.errorMessage!==""?n.add({type:"error",text:r.errorMessage}):n.add({type:"success",text:r.successMessage}),u.value=!1,t.value=null}catch{n.add({type:"error",text:r.errorMessage}),u.value=!1}};return(w,l)=>{const c=se,V=re,A=Se,k=ue;return _(),y(T,null,[a(V,{"show-modal":i(u),"onUpdate:showModal":l[0]||(l[0]=h=>Z(u)?u.value=h:null),"is-loading":i(p),title:"Delete Attachment"},{body:N(()=>[e("div",Te,[Ie,e("div",Ae,[e("button",{type:"button",onClick:b},[a(c,{name:"material-symbols:check",class:"hover:border-green-600 bg-green-600 h-8 w-8 p-1 text-white"})]),e("button",{type:"button",onClick:g},[a(c,{name:"material-symbols:close",color:"white",class:"bg-red-500 rounded h-8 w-8 p-1 text-white"})])])])]),_:1},8,["show-modal","is-loading"]),e("div",ke,[Ce,a(A)]),e("div",qe,[a(k,{class:"w-full",loading:i(s).isLoading},{default:N(()=>[e("table",Re,[e("thead",null,[e("tr",null,[(_(),y(T,null,q(m,(h,x)=>e("th",{key:x,scope:"col",class:"p-2 border-0 border-b text-sm"},O(h.name),1)),64))])]),e("tbody",null,[(_(!0),y(T,null,q(i(s).data,(h,x)=>(_(),y("tr",{key:x,class:"border text-center"},[e("td",$e,O(h.attachment_name),1),e("td",Ue,[e("div",Ee,[e("a",{target:"_blank",href:i(d).public.INVENTORY_API_URL+i(s).data[x].file_location,class:"block text-sm font-medium text-gray-100 text-center cursor-pointer border rounded"},[a(c,{name:"mage:file-download-fill",class:"hover:border-green-600 bg-green-600 h-8 w-8 p-1"})],8,Pe),e("button",{type:"button",onClick:F=>f(i(s).data[x].id)},[a(c,{name:"ion:trash",color:"white",class:"bg-red-500 rounded h-8 w-8 p-1"})],8,Fe)])])]))),128))])])]),_:1},8,["loading"])])],64)}}}),Oe={class:"text-gray-500 p-2"},De=["onSubmit"],Me={class:"flex flex-col gap-4 pt-4 w-full"},Le={class:"flex flex-col gap-4 mb-5"},Be={class:"w-full flex justify-end"},He=e("div",{class:"w-full"},[e("p",{class:"font-bold"}," Please accomplish this form completely and submit the required documents listed below. The information given would serve as basis for accreditation. ")],-1),je={class:"flex flex-row items-center gap-4"},Ge={class:"flex flex-row items-center gap-4"},Ke={class:"flex flex-row items-center gap-4"},Ye={class:"flex flex-row items-center gap-4"},We=e("label",{class:"block mb-1 text-sm font-medium text-gray-900"}," Terms and Conditions ",-1),Qe=e("div",{class:"w-full"},[e("p",{class:"font-bold"}," I/We hereby certify that the information furnished are in all respect true and correct. It is agreed that ECDC may inquire into the accuracy of the information submitted. It is further agreed that these information shall remain the property of ECDC whether or not the accreditation applied for is granted ")],-1),ze=e("div",{class:"w-full"},[e("p",{class:"font-bold"}," Any information/document found to be false and incorrect shall be sufficient ground for disapproval of this application for accreditation. ")],-1),Je={class:"w-full flex flex-row gap-4"},Xe={key:0,class:"flex flex-col full gap-2"},Ze={class:"w-full"},et={class:"w-full"},tt=e("label",{class:"block mb-1 text-sm font-medium text-gray-900"}," Remarks ",-1),lt={class:"flex w-full"},ot={class:"pt-5 w-full mb-2 rounded-lg p-4 bg-slate-100"},at=e("label",{for:"approved_by",class:"block text-sm font-medium text-gray-900 dark:text-white"}," Approval:",-1),st=e("div",{class:"flex w-full items-center gap-4"},[e("button",{type:"submit",class:"text-white bg-emerald-700 hover:bg-emerald-800 focus:ring-4 focus:outline-none focus:ring-emerald-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"}," Submit ")],-1),gt={__name:"SupplierForm",props:{modelValue:{required:!0,type:Object}},emits:["update:modelValue"],async setup(v){let r,s;const d=P(),{approvalList:n,editRequest:p}=U(d),t=R(v,"modelValue"),u=de();n.value.list=([r,s]=D(()=>u.getApprovalByName(ne)),r=await r,s(),r);const m=E(),f=B(),g=S(!1);f.query.key?([r,s]=D(()=>d.editOne(f.query.key)),await r,s(),p.value.form=p.value.details,p.value.form.attachments=[],g.value=!0):g.value=!1;const b=async()=>{try{g.value?await d.updateSupplierRequest(f.query.key):(t.value.company_contact_number=t.value.company_contact_number.toString(),t.value.contact_person_number=t.value.contact_person_number.toString(),t.value.tin=t.value.tin.toString(),t.value.approvals=n.value.list,await d.storeRequest()),d.errorMessage!==""?m.add({type:"error",text:d.errorMessage}):m.add({type:"success",text:d.successMessage})}catch(w){m.add({type:"error",text:w})}};return(w,l)=>{const c=M,V=Y,A=W,k=ve,h=H,x=he,F=ae,j=Ne,G=ie;return _(),y("div",Oe,[e("form",{onSubmit:oe(b,["prevent"])},[e("div",Me,[e("div",Le,[e("div",Be,[a(c,{modelValue:t.value.supplier_code,"onUpdate:modelValue":l[0]||(l[0]=o=>t.value.supplier_code=o),required:!0,title:"Supplier Code"},null,8,["modelValue"])]),He,a(c,{modelValue:t.value.company_name,"onUpdate:modelValue":l[1]||(l[1]=o=>t.value.company_name=o),required:!0,class:"w-full",title:"Company Name"},null,8,["modelValue"]),a(c,{modelValue:t.value.company_address,"onUpdate:modelValue":l[2]||(l[2]=o=>t.value.company_address=o),required:!0,class:"w-full",title:"Company Address"},null,8,["modelValue"]),e("div",je,[a(V,{modelValue:t.value.company_contact_number,"onUpdate:modelValue":l[3]||(l[3]=o=>t.value.company_contact_number=o),required:!0,class:"w-full",title:"Contact Number"},null,8,["modelValue"]),a(A,{modelValue:t.value.company_email,"onUpdate:modelValue":l[4]||(l[4]=o=>t.value.company_email=o),required:!0,class:"w-full",title:"Company Email"},null,8,["modelValue"])]),e("div",Ge,[a(c,{modelValue:t.value.contact_person_name,"onUpdate:modelValue":l[5]||(l[5]=o=>t.value.contact_person_name=o),required:!0,class:"w-full",title:"Contact Person Name"},null,8,["modelValue"]),a(V,{modelValue:t.value.contact_person_number,"onUpdate:modelValue":l[6]||(l[6]=o=>t.value.contact_person_number=o),required:!0,class:"w-full",title:"Contact Person Number"},null,8,["modelValue"]),a(c,{modelValue:t.value.contact_person_designation,"onUpdate:modelValue":l[7]||(l[7]=o=>t.value.contact_person_designation=o),required:!0,class:"w-full",title:"Contact Person Designation"},null,8,["modelValue"])]),a(k,{modelValue:t.value.type_of_ownership,"onUpdate:modelValue":l[8]||(l[8]=o=>t.value.type_of_ownership=o)},null,8,["modelValue"]),e("div",Ke,[a(c,{modelValue:t.value.nature_of_business,"onUpdate:modelValue":l[9]||(l[9]=o=>t.value.nature_of_business=o),required:!0,class:"w-full",title:"Nature of Business"},null,8,["modelValue"]),a(c,{modelValue:t.value.products_services,"onUpdate:modelValue":l[10]||(l[10]=o=>t.value.products_services=o),required:!0,class:"w-full",title:"Products/Services"},null,8,["modelValue"])]),e("div",Ye,[a(h,{modelValue:t.value.classification,"onUpdate:modelValue":l[11]||(l[11]=o=>t.value.classification=o),required:!0,"options-list":["VAT","NON-VAT"],class:"w-full",title:"Classification"},null,8,["modelValue"]),a(V,{modelValue:t.value.tin,"onUpdate:modelValue":l[12]||(l[12]=o=>t.value.tin=o),required:!0,class:"w-full",title:"TIN"},null,8,["modelValue"])]),e("div",null,[We,a(x,{modelValue:t.value.terms_and_conditions,"onUpdate:modelValue":l[13]||(l[13]=o=>t.value.terms_and_conditions=o),required:!0,class:"w-full block mb-1 text-sm font-medium text-gray-900"},null,8,["modelValue"])]),Qe,ze,e("div",Je,[a(c,{modelValue:t.value.filled_by,"onUpdate:modelValue":l[14]||(l[14]=o=>t.value.filled_by=o),required:!0,class:"w-full",title:"Filled By"},null,8,["modelValue"]),a(c,{modelValue:t.value.filled_designation,"onUpdate:modelValue":l[15]||(l[15]=o=>t.value.filled_designation=o),required:!0,class:"w-full",title:"Filled Designation"},null,8,["modelValue"]),a(F,{modelValue:t.value.filled_date,"onUpdate:modelValue":l[16]||(l[16]=o=>t.value.filled_date=o),required:!0,class:"w-full",title:"Filled Date"},null,8,["modelValue"])]),i(g)?(_(),y("div",Xe,[a(j)])):te("",!0),e("div",Ze,[a(h,{modelValue:t.value.requirements_complete,"onUpdate:modelValue":l[17]||(l[17]=o=>t.value.requirements_complete=o),required:!0,"options-list":["Yes","No"],class:"w-full",title:"Requirements Complete"},null,8,["modelValue"])]),e("div",et,[tt,a(x,{modelValue:t.value.remarks,"onUpdate:modelValue":l[18]||(l[18]=o=>t.value.remarks=o),title:"Remarks"},null,8,["modelValue"])])]),e("div",lt,[e("div",ot,[at,(_(!0),y(T,null,q(i(n).list,(o,C)=>(_(),le(G,{key:"hrmsetupapprovallist"+C,modelValue:i(n).list[C],"onUpdate:modelValue":K=>i(n).list[C]=K},null,8,["modelValue","onUpdate:modelValue"]))),128))])]),st])],40,De)])}}};export{ve as _,gt as a};
