import{u as G,_ as K}from"./AccountCreate.CVoK3ccJ.js";import{_ as Q}from"./editBoards.vue.DA5g6BdX.js";import{_ as I,s as R,B as D,r as q,o as m,h as L,w as M,a as e,g as W,x as i,u as t,A as E,c as S,F as V,i as U,t as y,D as F,G as j,y as w,p as X,e as Y,C as Z,b as g}from"./entry.32UGFqj-.js";import{u as B,e as tt}from"./Utilities.DofxnkSu.js";import{u as N}from"./account.DlLCDtuY.js";import{u as $}from"./accounttype.CipmD3GR.js";import{_ as et}from"./PsTextInput.vue.C7eOWbog.js";import{_ as st}from"./PsTable.BPIFONj1.js";import{_ as ot}from"./CustomPagination.C91H0oe5.js";import{_ as ct}from"./LayoutBoards.vue.D_rbqYxd.js";import{_ as nt}from"./AcessContainer.Dum7aOuo.js";import{u as at}from"./vue.f36acd1f.Ds2AlAv6.js";import{u as it,A as rt}from"./Accessibilities.xGffDRXj.js";import"./CustomFetch.ggXvTdIz.js";import"./loader.BQ9QddgL.js";import"./id.WqrvI90c.js";import"./client-only.CuVny2dr.js";import"./Icon.CrHlyQOo.js";import"./index.T-zbMaZc.js";import"./nuxt-link.C5IpI_HT.js";import"./users.G4iuGzk0.js";const x=f=>(X("data-v-cf94fc1b"),f=f(),Y(),f),lt={class:"text-gray-500"},ut=["onSubmit"],dt={class:"flex flex-col gap-2"},pt=x(()=>e("label",{for:"account_no",class:"text-xs italic"},"Account No",-1)),_t=x(()=>e("label",{for:"account_name",class:"text-xs italic"},"Account Name",-1)),mt=x(()=>e("label",{for:"account_type",class:"text-xs italic"},"Account Type",-1)),ft=["value"],yt=x(()=>e("label",{for:"account_type",class:"text-xs italic"},"Report Group",-1)),gt=["value"],xt=x(()=>e("label",{for:"account_name",class:"text-xs italic"},"Description",-1)),bt=x(()=>e("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-teal-600 content-center mt-5 hover:bg-teal-500"}," Save ",-1)),At={__name:"AccountEdit",setup(f){const s=N(),b=$(),A=G(),{account:o,errorMessage:u,successMessage:d}=R(s),r=D(),p=q(!1),v=async()=>{try{p.value=!0,await s.editAccount(),s.errorMessage!==""?r.add({type:"error",text:s.errorMessage}):r.add({type:"success",text:s.successMessage})}catch{u.value=u,r.add({type:"error",text:s.errorMessage})}finally{s.clearMessages(),p.value=!1}},T=()=>{s.isEdit=!1,s.reset()};return(_,n)=>{const C=Q;return m(),L(C,{title:"Edit Account",loading:t(p)},{default:M(()=>[e("div",lt,[e("form",{onSubmit:W(v,["prevent"])},[e("div",dt,[e("div",null,[pt,i(e("input",{id:"accountNo","onUpdate:modelValue":n[0]||(n[0]=c=>t(o).account_number=c),type:"text",class:"w-full rounded-lg",required:""},null,512),[[E,t(o).account_number]])]),e("div",null,[_t,i(e("input",{id:"accountName","onUpdate:modelValue":n[1]||(n[1]=c=>t(o).account_name=c),type:"text",class:"w-full rounded-lg",required:""},null,512),[[E,t(o).account_name]])]),e("div",null,[mt,i(e("select",{id:"accountType","onUpdate:modelValue":n[2]||(n[2]=c=>t(o).account_type_id=c),class:"w-full rounded-lg",required:""},[(m(!0),S(V,null,U(t(b).list,(c,h)=>(m(),S("option",{key:h,value:c.id},y(("upperFirst"in _?_.upperFirst:t(B))(c.account_type)),9,ft))),128))],512),[[F,t(o).account_type_id]])]),e("div",null,[yt,i(e("select",{id:"accountType","onUpdate:modelValue":n[3]||(n[3]=c=>t(o).report_group_id=c),class:"w-full rounded-lg",required:""},[(m(!0),S(V,null,U(t(A).list,(c,h)=>(m(),S("option",{key:h,value:c.id},y(("upperFirst"in _?_.upperFirst:t(B))(c.name)),9,gt))),128))],512),[[F,t(o).report_group_id]])]),e("div",null,[xt,i(e("textarea",{id:"accountName","onUpdate:modelValue":n[4]||(n[4]=c=>t(o).account_description=c),class:"w-full rounded-lg resize-none h-24"},null,512),[[E,t(o).account_description]])])]),e("div",{class:"flex justify-end gap-2"},[bt,e("button",{type:"button",class:"flex-1 text-white p-2 rounded bg-gray-700 content-center mt-5 hover:bg-gray-500",onClick:T}," Cancel ")])],40,ut),e("p",{hidden:"",class:j(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!t(u)}])},y(t(u)),3),i(e("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic transition-opacity delay-1000"},y(t(d)),513),[[w,t(d)]])])]),_:1},8,["loading"])}}},vt=I(At,[["__scopeId","data-v-cf94fc1b"]]),ht={class:"w-1/2 flex px-4"},St={class:"pb-2 text-gray-500"},wt={class:"flex justify-center mx-auto"},Tt={__name:"AccountList",setup(f){const s=N(),b=$(),{isEdit:A,getParams:o,pagination:u,errorMessage:d,successMessage:r}=R(s),p=a=>{A.value=!0,s.account=a},v=async a=>{try{P.value=!0,await s.deleteAccount(a.id),h.add({type:"success",text:s.successMessage})}finally{P.value=!1}},T=a=>{o.value.page=a.page??"",s.getAccounts()},_=[{name:"Account No",id:"account_number"},{name:"Account Name",id:"account_name"},{name:"Account Type",id:"type_name"}],n={edit:!0,delete:!0},C=a=>{var l;return(l=b.list.filter(k=>a===k.id)[0])==null?void 0:l.account_type},c=Z(()=>{const a=tt(s.list);return a.forEach(l=>{l.type_name=C(l.account_type_id)}),a}),h=D(),P=q(!1);return(a,l)=>{const k=et,z=st,O=ot,H=ct;return m(),L(H,{title:"Accounts List",class:"w-full",loading:t(s).isLoading.list},{default:M(()=>[e("div",ht,[g(k,{modelValue:t(s).getParams.key,"onUpdate:modelValue":l[0]||(l[0]=J=>t(s).getParams.key=J),title:"Search Account",class:"w-full"},null,8,["modelValue"])]),e("div",St,[g(z,{"header-columns":_,datas:t(c),actions:n,onEditRow:p,onDeleteRow:v},null,8,["datas"])]),e("div",wt,[g(O,{links:t(u),onChangeParams:T},null,8,["links"])]),e("p",{hidden:"",class:j(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!t(d)}])},y(t(d)),3),i(e("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic"},y(t(r)),513),[[w,t(r)]])]),_:1},8,["loading"])}}},Ct={class:"flex flex-col md:flex-row gap-4"},kt={__name:"index",setup(f){const s=N(),b=$(),A=G();return b.getAccountTypes(),A.getReportGroups(),s.getAccounts(),at({title:"Account"}),(o,u)=>{const d=K,r=vt,p=Tt,v=nt;return m(),L(v,{"if-access":("useCheckAccessibility"in o?o.useCheckAccessibility:t(it))([("AccessibilityTypes"in o?o.AccessibilityTypes:t(rt)).ACCOUNTING_SETUP_ACCOUNTS])},{default:M(()=>[e("div",Ct,[i(g(d,{class:"flex-1"},null,512),[[w,!t(s).isEdit]]),i(g(r,{class:"flex-1"},null,512),[[w,t(s).isEdit]]),g(p,{class:"flex-2"})])]),_:1},8,["if-access"])}}},Qt=I(kt,[["__scopeId","data-v-28df0588"]]);export{Qt as default};
