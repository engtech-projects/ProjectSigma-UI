import{_ as tt}from"./StatusRibbon.BqmJwJoR.js";import{_ as et,a as st,b as ot}from"./MainContainer.Do3EBfoz.js";import{_ as z}from"./ListView.CUwkSJ9r.js";import{ab as Q,B as X,k as at,o as r,c as l,b as p,w as A,a as t,x as J,u as a,A as W,t as s,g as nt,C as I,d as C,F as O,i as F,j as M,f as rt,p as ct,e as lt,_ as dt,n as it,r as L,q as ut,s as pt,L as _t,h as G,v as ht}from"./entry.32UGFqj-.js";import{u as Z}from"./voucher.78ogiQaK.js";import{a as P,f as B,j as K}from"./Utilities.DofxnkSu.js";import{_ as yt}from"./JournalEntryInfo.BdvFoyxc.js";import{_ as mt}from"./TransactionFlow.BAsXA0hD.js";import{_ as xt}from"./IsoHeader.vue.AGltULgl.js";import{_ as gt}from"./FormSignatory.BMtK-lzR.js";import{u as bt}from"./enums.DZVv3ml5.js";import{_ as ft}from"./LayoutPrint.BjcxelaN.js";import{_ as vt}from"./ApprovalDenyButton.2aaI0auR.js";import wt from"./Icon.CrHlyQOo.js";import{_ as $t}from"./PsModal.Bk3xu63Y.js";import{a as Ct}from"./Accessibilities.xGffDRXj.js";const Dt={class:"flex flex-col gap-4 mt-5 py-4 border-t border-dashed border-gray-950"},kt=t("h1",null," CASH RECEIPT FORM ",-1),Tt={class:"grid grid-cols-1 gap-4"},Rt=t("label",{for:"receipt_no",class:"text-xs italic"},"Receipt No.:",-1),Et={class:"grid grid-cols-2 gap-4"},At=t("label",{for:"received_by",class:"text-xs italic"},"Received By:",-1),It={class:"py-4"},Pt=t("label",{for:"received_date",class:"text-xs italic"},"Received Date:",-1),Nt=t("div",{class:"flex justify-end"},[t("div",null,[t("button",{type:"submit",class:"w-full text-white p-2 rounded bg-teal-600 content-center mt-5"}," Received Cash ")])],-1),Vt={__name:"ReceivedForm",props:{voucherId:{type:Number,required:!0}},setup(e){const d=e,h=Z(),{data:v}=Q(),c=X(),m=async()=>{try{h.cashReceivedForm.voucher_id=d.voucherId,h.cashReceivedForm.received_by=v.value.employee.fullname_last,await h.cashReceived(),c.add({type:"success",text:h.successMessage})}catch{c.add({type:"error",text:h.errorMessage})}};return(_,x)=>{const w=at("Form");return r(),l("div",Dt,[kt,p(w,{onSubmit:nt(m,["prevent"])},{default:A(()=>[t("div",Tt,[t("div",null,[Rt,J(t("input",{id:"receipt_no","onUpdate:modelValue":x[0]||(x[0]=$=>a(h).cashReceivedForm.receipt_no=$),type:"text",class:"w-full rounded-lg",required:""},null,512),[[W,a(h).cashReceivedForm.receipt_no]])])]),t("div",Et,[t("div",null,[At,t("p",It,s(a(v).employee.fullname_last),1)]),t("div",null,[Pt,J(t("input",{id:"received_date","onUpdate:modelValue":x[1]||(x[1]=$=>a(h).cashReceivedForm.received_date=$),type:"date",class:"w-full rounded-lg",required:""},null,512),[[W,a(h).cashReceivedForm.received_date]])])]),Nt]),_:1},8,["onSubmit"])])}}},jt={class:"flex flex-col gap-4 mt-5 py-4 border-t border-dashed border-gray-950"},qt=t("h1",null," CASH RECEIPT ",-1),St={class:"flex gap-2 justify-between"},Mt={class:"text-left"},Ot=t("p",{class:"text-xs italic"}," Receipt No.: ",-1),Ft={class:"py-4"},Bt={class:"text-center"},Ut=t("p",{class:"text-xs italic"}," Received By: ",-1),Lt={class:"py-4"},Ht={class:"text-right"},Yt=t("p",{class:"text-xs italic"}," Received Date: ",-1),Jt={class:"py-4"},Wt={__name:"ReceivedView",props:{receivedData:{type:Object,required:!0}},setup(e){return(d,h)=>(r(),l("div",jt,[qt,t("div",St,[t("div",Mt,[Ot,t("p",Ft,s(e.receivedData.receipt_no),1)]),t("div",Bt,[Ut,t("p",Lt,s(e.receivedData.received_by),1)]),t("div",Ht,[Yt,t("p",Jt,s(e.receivedData.received_date),1)])])]))}},Gt=t("div",{class:"p-2 py-4 flex gap-2 w-full"},[t("span",{class:"text-gray-900 text-4xl text-center w-full block"},"Cash Voucher")],-1),Kt={class:"grid md:grid-cols-3 gap-2 md:justify-between"},zt={class:"p-2 flex gap-2"},Qt=t("span",{class:"text-teal-600 text-light"},"CV Number: ",-1),Xt={class:"text-gray-900"},Zt={class:"p-2 flex gap-2"},te=t("span",{class:"text-teal-600 text-light"},"Check No: ",-1),ee={class:"p-2 flex gap-2"},se=t("span",{class:"text-teal-600 text-light"},"Amount: ",-1),oe={class:"grid md:grid-cols-3 gap-2 md:justify-between"},ae={class:"p-2 flex gap-2"},ne=t("span",{class:"text-teal-600 text-light"},"Status: ",-1),re={class:"p-2 flex gap-2"},ce=t("span",{class:"text-teal-600 text-light"},"Date Encoded: ",-1),le={class:"p-2 flex gap-2"},de=t("span",{class:"text-teal-600 text-light"},"Voucher Date: ",-1),ie={class:"p-2 border border-gray-200 rounded-lg"},ue=t("h2",{class:"text-xl text-gray-800 tex-center font-bold p-2"}," Voucher Details ",-1),pe={class:"overflow-x-auto"},_e={class:"min-w-full overflow-hidden overflow-x-auto align-middle shadow sm:rounded-lg"},he={class:"min-w-full divide-y border border-gray-200"},ye=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Account Name "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Account Number "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Debit "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Credit ")])],-1),me={class:"bg-white divide-y divide-gray-200"},xe={class:"px-6 py-4 whitespace-nowrap"},ge={class:"text-sm text-gray-900"},be={class:"px-6 py-4 whitespace-nowrap"},fe={class:"text-sm text-gray-900"},ve={class:"px-6 py-4 whitespace-nowrap"},we={class:"text-sm text-gray-900"},$e={class:"px-6 py-4 whitespace-nowrap"},Ce={class:"text-sm text-gray-900"},De={class:"bg-gray-50"},ke=t("td",{class:"px-6 py-4 whitespace-nowrap",colspan:"2"},[t("div",{class:"text-sm font-bold text-gray-900"}," TOTAL ")],-1),Te={class:"px-6 py-4 whitespace-nowrap"},Re={class:"text-sm font-bold text-gray-900"},Ee={class:"px-6 py-4 whitespace-nowrap"},Ae={class:"text-sm font-bold text-gray-900"},Ie={class:"w-full"},Pe={key:0},Ne={class:"w-full"},Ve={class:"w-full"},je={__name:"CashVoucherInfo",props:{voucherData:{type:Object,default:null},signatories:{type:Array,default:null}},setup(e){const d=e,h=I(()=>{var m;let c=0;return(m=d.voucherData)==null||m.details.forEach(_=>{c+=parseFloat((_==null?void 0:_.debit)||0)}),c}),v=I(()=>{var m;let c=0;return(m=d.voucherData)==null||m.details.forEach(_=>{c+=parseFloat((_==null?void 0:_.credit)||0)}),c});return(c,m)=>{var $,o,n,i,b,u,k,R,N,V,j,q;const _=z,x=Vt,w=Wt;return r(),l("div",null,[Gt,t("div",Kt,[t("div",zt,[Qt,t("span",Xt,s(($=e.voucherData)==null?void 0:$.voucher_no),1)]),t("div",Zt,[te,C(" "+s((o=e.voucherData)==null?void 0:o.check_no),1)]),t("div",ee,[se,C(" "+s((n=e.voucherData)==null?void 0:n.net_amount),1)])]),t("div",oe,[t("div",ae,[ne,C(" "+s((i=e.voucherData)==null?void 0:i.request_status),1)]),t("div",re,[ce,C(" "+s((b=e.voucherData)==null?void 0:b.date_encoded),1)]),t("div",le,[de,C(" "+s((u=e.voucherData)==null?void 0:u.voucher_date),1)])]),t("div",ie,[ue,t("div",pe,[t("div",_e,[t("table",he,[ye,t("tbody",me,[(r(!0),l(O,null,F((k=e.voucherData)==null?void 0:k.details,y=>{var S,g;return r(),l("tr",{key:y.id},[t("td",xe,[t("div",ge,s((S=y==null?void 0:y.account)==null?void 0:S.account_name),1)]),t("td",be,[t("div",fe,s((g=y==null?void 0:y.account)==null?void 0:g.account_number),1)]),t("td",ve,[t("div",we,s(("accountingCurrency"in c?c.accountingCurrency:a(P))(y==null?void 0:y.debit)),1)]),t("td",$e,[t("div",Ce,s(("accountingCurrency"in c?c.accountingCurrency:a(P))(y==null?void 0:y.credit)),1)])])}),128)),t("tr",De,[ke,t("td",Te,[t("div",Re,s(("formatToCurrency"in c?c.formatToCurrency:a(B))(a(h))),1)]),t("td",Ee,[t("div",Ae,s(("formatToCurrency"in c?c.formatToCurrency:a(B))(a(v))),1)])])])])])])]),t("div",Ie,[p(_,{approvals:(R=e.voucherData)==null?void 0:R.approvals},null,8,["approvals"])]),((N=e.voucherData)==null?void 0:N.request_status.toLowerCase())==="approved"&&!((V=e.voucherData)!=null&&V.received_by)&&!((j=e.voucherData)!=null&&j.received_date)?(r(),l("div",Pe,[t("div",Ne,[p(x,{"voucher-id":(q=e.voucherData)==null?void 0:q.id},null,8,["voucher-id"])])])):M("",!0),t("div",null,[t("div",Ve,[p(w,{"received-data":e.voucherData},null,8,["received-data"])])])])}}},qe={key:0,class:"px-4"},Se={class:"w-3/4"},Me=t("div",{class:"p-2 py-4 flex gap-2 w-full mb-4"},[t("span",{class:"text-gray-900 text-4xl text-center w-full block flex-1"},"Payment Request")],-1),Oe={class:"grid md:grid-cols-3 gap-2 md:justify-between"},Fe={class:"p-2 flex gap-2"},Be=t("span",{class:"text-teal-600 text-light"},"PRF Number: ",-1),Ue={class:"text-gray-900"},Le={class:"p-2 flex gap-2"},He=t("span",{class:"text-teal-600 text-light"},"Payee: ",-1),Ye={class:"p-2 flex gap-2"},Je=t("span",{class:"text-teal-600 text-light"},"Amount: ",-1),We={class:"grid md:grid-cols-3 gap-2 md:justify-between"},Ge={class:"p-2 flex gap-2"},Ke=t("span",{class:"text-teal-600 text-light"},"Prepared by: ",-1),ze={class:"p-2 flex gap-2"},Qe=t("span",{class:"text-teal-600 text-light"},"Prepared on: ",-1),Xe={class:"p-2 flex gap-2"},Ze=t("span",{class:"text-teal-600 text-light"},"Status: ",-1),ts={class:"p-2 border border-gray-200 rounded-lg"},es=t("h2",{class:"text-xl text-gray-800 tex-center font-bold p-2"}," Payment Request Details ",-1),ss={class:"overflow-x-auto"},os={class:"min-w-full overflow-hidden overflow-x-auto align-middle shadow sm:rounded-lg"},as={class:"min-w-full divide-y border border-gray-200"},ns=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," Particulars "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," Project/Section Code "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," Cost "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," Total Vat "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," Total Amount ")])],-1),rs={class:"bg-white divide-y divide-gray-200"},cs={class:"px-6 py-4 whitespace-nowrap"},ls={class:"text-sm text-gray-600"},ds={class:"px-6 py-4 whitespace-nowrap"},is={class:"text-sm text-gray-600"},us={class:"px-6 py-4 whitespace-nowrap"},ps={class:"text-sm text-gray-600"},_s={class:"px-6 py-4 whitespace-nowrap"},hs={class:"text-sm text-gray-600"},ys={class:"px-6 py-4 whitespace-nowrap"},ms={class:"text-sm text-gray-600"},xs={class:"w-full"},gs={class:"w-1/4"},bs={__name:"PaymentRequestInfo",props:{paymentData:{type:Object,default:null},signatories:{type:Object,default:null}},setup(e){return(d,h)=>{var m,_,x,w,$,o,n,i,b;const v=z,c=mt;return d.printPreview?M("",!0):(r(),l("div",qe,[t("div",Se,[Me,t("div",Oe,[t("div",Fe,[Be,t("span",Ue,s((m=e.paymentData)==null?void 0:m.prf_no),1)]),t("div",Le,[He,C(" "+s((x=(_=e.paymentData)==null?void 0:_.stakeholder)==null?void 0:x.name),1)]),t("div",Ye,[Je,C(" "+s(("accountingCurrency"in d?d.accountingCurrency:a(P))((w=e.paymentData)==null?void 0:w.total)),1)])]),t("div",We,[t("div",Ge,[Ke,C(" "+s(($=e.paymentData)==null?void 0:$.created_by_user),1)]),t("div",ze,[Qe,C(" "+s((o=e.paymentData)==null?void 0:o.date_filed),1)]),t("div",Xe,[Ze,C(" "+s((n=e.paymentData)==null?void 0:n.request_status),1)])]),t("div",ts,[es,t("div",ss,[t("div",os,[t("table",as,[ns,t("tbody",rs,[(r(!0),l(O,null,F((i=e.paymentData)==null?void 0:i.details,u=>(r(),l("tr",{key:u.id},[t("td",cs,[t("div",ls,s(u==null?void 0:u.particulars),1)]),t("td",ds,[t("div",is,s(u==null?void 0:u.stakeholder.name),1)]),t("td",us,[t("div",ps,s(("accountingCurrency"in d?d.accountingCurrency:a(P))(u==null?void 0:u.cost)),1)]),t("td",_s,[t("div",hs,s(("accountingCurrency"in d?d.accountingCurrency:a(P))(u==null?void 0:u.total_vat_amount)),1)]),t("td",ys,[t("div",ms,s(("accountingCurrency"in d?d.accountingCurrency:a(P))(u==null?void 0:u.amount)),1)])]))),128))])])])])]),t("div",xs,[p(v,{approvals:(b=e.paymentData)==null?void 0:b.approvals},null,8,["approvals"])])]),t("div",gs,[p(c,{"transaction-option":"view","transaction-flow-model-list":e.paymentData.transaction_flow},null,8,["transaction-flow-model-list"])])]))}}},f=e=>(ct("data-v-faa07e1f"),e=e(),lt(),e),fs={id:"toPrint",class:"flex flex-col gap-2 bg-white left-0 top-0 w-screen max-w-[100%] p-2"},vs={key:0,id:"headText",class:"text-2xl text-center font-bold text-block border-b-2 pb-2 border-black"},ws={key:1,class:"flex flex-col gap-2 !text-xs"},$s={class:"flex justify-end gap-4 mb-4 my-4"},Cs=f(()=>t("h3",{class:"font-bold"}," CHECK NO. ",-1)),Ds={class:"border-b-2 border-gray-800"},ks=f(()=>t("h3",{class:"font-bold"}," REFERENCE NO. ",-1)),Ts={class:"border-b-2 border-gray-800"},Rs={class:"border border-black"},Es=f(()=>t("td",{class:"border border-black pl-2 py-1 text-xs bg-blue-300"}," PAYEE : ",-1)),As={class:"border border-black pl-2 py-1 text-xs"},Is=f(()=>t("td",{class:"border border-black pl-2 py-1 text-xs bg-blue-300"}," ENCODED DATE : ",-1)),Ps={class:"border border-black pl-2 py-1 text-xs"},Ns=f(()=>t("td",{class:"border border-black pl-2 py-1 text-xs bg-blue-300"}," PARTICULARS : ",-1)),Vs={class:"border border-black pl-2 py-1 text-xs"},js=f(()=>t("td",{class:"border border-black pl-2 py-1 text-xs bg-blue-300"}," ENTRY DATE : ",-1)),qs={class:"border border-black pl-2 py-1 text-xs"},Ss=f(()=>t("td",{class:"border border-black pl-2 py-1 text-xs bg-blue-300"}," AMOUNT IN WORDS : ",-1)),Ms={class:"border border-black pl-2 py-1 text-xs"},Os=f(()=>t("td",{class:"border border-black pl-2 py-1 text-xs bg-blue-300"}," NET AMOUNT ",-1)),Fs={class:"border border-black pl-2 py-1 text-xs"},Bs={class:"flex flex-col gap-4 justify-between flex-1"},Us={class:"flex flex-col"},Ls=f(()=>t("h2",{class:"text-2xl text-center font-bold my-4 mb-6"}," ACCOUNTING ENTRIES ",-1)),Hs={class:"flex-1"},Ys={key:0,class:"w-full"},Js=f(()=>t("thead",null,[t("tr",null,[t("th",{class:"border border-gray-800 font-normal text-xs"}," ACCOUNT CODE "),t("th",{class:"border border-gray-800 font-normal text-xs w-1/3"}," ACCOUNT NAME "),t("th",{class:"border border-gray-800 font-normal text-xs"}," PROJECT/SECTION CODE "),t("th",{class:"border border-gray-800 font-normal text-xs w-24"}," DEBIT "),t("th",{class:"border border-black border-b-gray-800 font-normal text-xs w-24"}," CREDIT ")])],-1)),Ws={class:"border px-4 py-1 border-gray-800 text-xs relative"},Gs={class:"border px-4 py-1 border-gray-800 text-xs"},Ks={class:"border px-4 py-1 border-gray-800 text-xs"},zs={class:"border px-4 py-1 border-gray-800 text-xs text-right"},Qs={class:"border px-4 py-1 border-gray-800 border-y-gray-800 text-xs text-right"},Xs=f(()=>t("td",{class:"border px-4 py-1 border-gray-800 text-xs relative"},null,-1)),Zs=f(()=>t("td",{class:"border px-4 py-1 border-gray-800 text-xs"},null,-1)),to=f(()=>t("td",{class:"border px-4 py-1 border-gray-800 text-xs"},null,-1)),eo=f(()=>t("td",{class:"border px-4 py-1 border-gray-800 text-xs"},null,-1)),so=f(()=>t("td",{class:"border px-4 py-1 border-gray-800 border-y-gray-800 text-xs"},null,-1)),oo=[Xs,Zs,to,eo,so],ao={class:"border-none"},no=f(()=>t("td",{colspan:"3",class:"py-2 px-4 text-right pr-24 text-xs"}," TOTAL ",-1)),ro={class:"border-b-2 border-black py-2 px-4 text-xs"},co={class:"border-b-2 border-black py-2 px-4 text-xs"},lo={key:1,class:"block text-center text-gray-600"},io={key:0,class:"flex justify-around"},uo=rt({__name:"PrintForm",props:{data:{type:Object,default:null}},setup(e){const d=e,{data:h}=Q(),v=I(()=>{let o=0;return _.value.forEach(n=>{o+=parseFloat(n==null?void 0:n.debit)}),o}),c=I(()=>{let o=0;return _.value.forEach(n=>{o+=parseFloat(n==null?void 0:n.credit)}),o}),m=I(()=>{const o=[];return d.data.approvals.forEach(n=>{const i={name:n==null?void 0:n.employee_name,title:n==null?void 0:n.employee_position,signature:n==null?void 0:n.employee_signature};o.push(i)}),o}),_=I(()=>d.data.details),x=I(()=>_.value.length>12?0:12-_.value.length),w=I(()=>$(_.value,12));function $(o,n){const i=[];for(let b=0;b<o.length;b+=n)i.push(o.slice(b,b+n));return i}return(o,n)=>{const i=xt,b=gt;return r(),l("div",fs,[(r(!0),l(O,null,F(a(w),(u,k)=>{var R,N,V,j,q,y,S;return r(),l("div",{key:k,class:"flex flex-col gap-2 pt-8 relative border-2 border-black pb-4 min-h-[1000px]"},[p(i,{page:{currentPage:k+1,totalPages:a(w).length},"document-code":("useAccountingDocCodeEnums"in o?o.useAccountingDocCodeEnums:a(bt)).cv,class:"pb-4 border-b-4 border-green-400 mb-8"},null,8,["page","document-code"]),k===0?(r(),l("h1",vs," CASH VOUCHER ")):M("",!0),k===0?(r(),l("div",ws,[t("div",$s,[Cs,t("span",Ds,s((R=d.data)==null?void 0:R.check_no),1),ks,t("span",Ts,s((N=d.data)==null?void 0:N.voucher_no),1)]),t("table",Rs,[t("tbody",null,[t("tr",null,[Es,t("td",As,s((j=(V=e.data.payment_request)==null?void 0:V.stakeholder)==null?void 0:j.name),1),Is,t("td",Ps,s(("dateToString"in o?o.dateToString:a(K))(new Date(e.data.date_encoded))),1)]),t("tr",null,[Ns,t("td",Vs,s(e.data.particulars),1),js,t("td",qs,s(("dateToString"in o?o.dateToString:a(K))(new Date(e.data.voucher_date))),1)]),t("tr",null,[Ss,t("td",Ms,s(e.data.amount_in_words),1),Os,t("td",Fs,s(("formatToCurrency"in o?o.formatToCurrency:a(B))(e.data.net_amount)),1)])])])])):M("",!0),t("div",Bs,[t("div",Us,[Ls,t("div",Hs,[d.data.details.length>0?(r(),l("table",Ys,[Js,t("tbody",null,[(r(!0),l(O,null,F(u,(g,U)=>{var T,E,D;return r(),l("tr",{key:U,class:"hover:bg-gray-100 cursor-pointer"},[t("td",Ws,s((T=g.account)==null?void 0:T.account_number),1),t("td",Gs,s((E=g.account)==null?void 0:E.account_name),1),t("td",Ks,s((D=g==null?void 0:g.stakeholder)==null?void 0:D.name),1),t("td",zs,s(g.debit>0?("formatToCurrency"in o?o.formatToCurrency:a(B))(g.debit):"-"),1),t("td",Qs,s(g.credit>0?("formatToCurrency"in o?o.formatToCurrency:a(B))(g.credit):"-"),1)])}),128)),(r(!0),l(O,null,F(a(x),g=>(r(),l("tr",{key:g,class:"hover:bg-gray-100 cursor-pointer h-6"},oo))),128)),t("tr",ao,[no,t("td",ro,s(("accountingCurrency"in o?o.accountingCurrency:a(P))(a(v))),1),t("td",co,s(("accountingCurrency"in o?o.accountingCurrency:a(P))(a(c))),1)])])])):M("",!0),d.data.details.length===0?(r(),l("span",lo," No entries yet. ")):M("",!0)])]),k===a(w).length-1?(r(),l("div",io,[p(b,{label:"PREPARED BY",signatory:{name:(q=d.data.payment_request)==null?void 0:q.created_by_user,title:""}},null,8,["signatory"]),p(b,{label:"REVIEWED BY",signatory:{name:(S=(y=a(h))==null?void 0:y.employee)==null?void 0:S.fullname_last,title:"Accounting Specialist"}},null,8,["signatory"]),p(b,{label:"APPROVED BY",signatories:a(m)},null,8,["signatories"])])):M("",!0)])])}),128))])}}}),po=dt(uo,[["__scopeId","data-v-faa07e1f"]]),_o={key:0,class:"px-4"},ho={key:0,class:"flex gap-2 p-2 justify-end relative"},yo={key:1,class:"flex gap-2 justify-end w-full p-8"},Po={__name:"InfoModal",props:it({voucherData:{type:Object,required:!1,default:null},fillable:{type:Boolean,required:!1,default:!1}},{showModal:{required:!1,type:Boolean}}),emits:["update:showModal"],setup(e){const d=L({pending:"warning",approved:"success",denied:"error"}),h=ut(e,"showModal"),v=L(!1),c=Z(),{remarks:m}=pt(c),_=X(),x=L(!1),w=()=>{h.value=!1},$=async n=>{try{x.value=!0,await c.approveCashVoucher(n),_.add({type:"success",text:c.successMessage}),w()}catch(i){_.add({type:"error",text:i||"something went wrong."})}finally{x.value=!1}},o=async n=>{try{x.value=!0,await c.denyCashVoucher(n),_.add({type:"success",text:c.successMessage}),w()}catch(i){_.add({type:"error",text:i||"something went wrong."})}finally{x.value=!1}};return _t(h,n=>{n||(v.value=!1)}),(n,i)=>{const b=tt,u=et,k=je,R=st,N=yt,V=bs,j=ot,q=po,y=ft,S=vt,g=wt,U=$t;return r(),G(U,{"show-modal":h.value,"onUpdate:showModal":i[3]||(i[3]=T=>h.value=T),"is-loading":a(x),title:""},{body:A(()=>{var T,E;return[p(b,{type:a(d)[(T=e.voucherData)==null?void 0:T.request_status.toLowerCase()],position:"top-left",status:(E=e.voucherData)==null?void 0:E.request_status,class:"z-30"},null,8,["type","status"]),a(v)?(r(),G(y,{key:1},{default:A(()=>[p(q,{data:e.voucherData},null,8,["data"])]),_:1})):(r(),l("div",_o,[p(j,{"justify-end":!0,class:"w-full"},{"tab-titles":A(()=>[p(u,{title:"Voucher Info","target-id":"voucherInfo"}),p(u,{title:"Journal Entry Info","target-id":"journalEntryInfo"}),p(u,{title:"Payment Request Info","target-id":"paymentRequestInfo"})]),"tab-containers":A(()=>[p(R,{id:"voucherInfo"},{default:A(()=>{var D;return[p(k,{"voucher-data":e.voucherData,signatories:(D=e.voucherData)==null?void 0:D.step_approval},null,8,["voucher-data","signatories"])]}),_:1}),p(R,{id:"journalEntryInfo"},{default:A(()=>{var D;return[p(N,{"entry-data":(D=e.voucherData)==null?void 0:D.journal_entry},null,8,["entry-data"])]}),_:1}),p(R,{id:"paymentRequestInfo"},{default:A(()=>{var D,H,Y;return[p(V,{"payment-data":(H=(D=e.voucherData)==null?void 0:D.journal_entry)==null?void 0:H.payment_request,signatories:(Y=e.voucherData)==null?void 0:Y.step_approval},null,8,["payment-data","signatories"])]}),_:1})]),_:1})]))]}),footer:A(()=>{var T;return[e.voucherData.next_approval&&("useCheckIsCurrentUser"in n?n.useCheckIsCurrentUser:a(Ct))((T=e.voucherData.next_approval)==null?void 0:T.user_id)?(r(),l("div",ho,[p(S,{"deny-remarks":a(m),"onUpdate:denyRemarks":i[0]||(i[0]=E=>ht(m)?m.value=E:null),"request-id":e.voucherData.id,onApprove:$,onDeny:o},null,8,["deny-remarks","request-id"])])):(r(),l("div",yo,[a(v)?(r(),l("button",{key:1,class:"flex items-center gap-1 justify-center bg-orange-600 p-2 hover:bg-orange-900 text-white rounded-md w-32 text-sm",onClick:i[2]||(i[2]=E=>v.value=!1)},[p(g,{name:"iconoir:printing-page"}),C(" Hide Preview ")])):(r(),l("button",{key:0,class:"flex items-center gap-1 justify-center bg-gray-600 p-2 hover:bg-gray-900 text-white rounded-md w-32 text-sm",onClick:i[1]||(i[1]=E=>v.value=!0)},[p(g,{name:"iconoir:printing-page"}),C(" Print Preview ")]))]))]}),_:1},8,["show-modal","is-loading"])}}};export{Po as _};
