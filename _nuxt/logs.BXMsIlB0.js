import{_ as P}from"./SearchEmployeeSelector.vue.CmWr4DqB.js";import{_ as $}from"./PsDateInput.vue.DLxIFRYj.js";import{q as j,x as V,D as F,o as d,c as N,a,B as S,s as U,r as R,h as u,w as f,b as i,u as t,v as B,j as E}from"./entry.R6V7NTxy.js";import{_ as H}from"./DepartmentProjectSelector.CDYdLlti.js";import{_ as I}from"./PsTable.CTJad9K5.js";import{_ as M}from"./CustomPagination.CR9ildFS.js";import{_ as g}from"./AcessContainer.DJcSsti6.js";import{u as _,A as y}from"./Accessibilities.uaboihcy.js";import{u as q}from"./attendancePortal.DpGy-9h9.js";import{u as O}from"./vue.f36acd1f.Dv_A-myg.js";import"./PsSelectSearch.vue.CrY1IpH8.js";import"./Icon.DcF_NU9d.js";import"./index.T-zbMaZc.js";import"./employeeSearch.CBgiOO3V.js";import"./CustomFetch.BRBLzGci.js";import"./id.Dwf9xs1O.js";import"./client-only.QuN6N-R_.js";import"./DepartmentSelector.vue.Cl6IMdR7.js";import"./enum.D7iLG1Bk.js";import"./ProjectSelector.vue.DM9e2bZy.js";import"./nuxt-link.drPfi767.js";import"./Utilities.Cbr1Z9cn.js";import"./users.D5_vMoUK.js";const Q=a("option",{value:null,disabled:"",selected:""}," Choose Attendance Type ",-1),G=a("option",{value:"All"}," All ",-1),z=a("option",{value:"Facial"}," Facial ",-1),J=a("option",{value:"QR Code"}," QR Code ",-1),K=[Q,G,z,J],W={__name:"AttendanceTypeSelector",props:{attendanceType:{required:!1,type:String,default:"all"}},emits:["update:attendanceType"],setup(m){const n=j(m,"attendanceType");return(r,e)=>V((d(),N("select",{"onUpdate:modelValue":e[0]||(e[0]=c=>n.value=c),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},K,512)),[[F,n.value]])}},X={class:"w-full bg-white p-2"},Y=a("p",{class:"w-full p-4 text-xl text-gray-500"}," ATTENDANCE LOG INFORMATION ",-1),Z={class:"w-full flex flex-col md:flex-row gap-2 md:justify-between p-2"},ee={class:"w-full"},te={class:"w-full"},ae={class:"w-full md:w-1/2 px-2"},se={class:"w-full px-2"},oe={class:"flex justify-center mx-auto"},ne={__name:"AttendanceLogs",setup(m){const n=S(),r=q();r.getSearchAttedanceLog();const{attendanceLogs:e}=U(r),c=[{name:"Employee Name",id:"employee.fullname_first"},{name:"Assigment Designation",id:"assignment"},{name:"Date",id:"date"},{name:"Time",id:"time_human"},{name:"Description",id:"log_type"},{name:"Attendance Type",id:"attendance_type"},{name:"Portal Location",id:"portal_name"},{name:"Deleted",id:"deleted_at"}],b={delete:_([y.hrms_attendance_attendance_logs_delete])},h=l=>{e.value.params.page=l.page??""},A=async l=>{try{await r.deleteLog(l.id),n.add({type:"success",text:r.successMessage})}catch(s){n.add({type:"error",text:s||"Failed to Delete."})}},v=()=>{e.value.params.date=null,e.value.params.employee_id=null},p=R(null);return(l,s)=>{const k=P,w=$,T=W,C=H,x=I,L=M,D=g;return d(),u(D,{"if-access":("useCheckAccessibility"in l?l.useCheckAccessibility:t(_))([("AccessibilityTypes"in l?l.AccessibilityTypes:t(y)).hrms_attendance_attendance_logs])},{default:f(()=>[a("div",X,[Y,a("div",Z,[a("div",ee,[i(k,{modelValue:t(e).params.employee_id,"onUpdate:modelValue":s[0]||(s[0]=o=>t(e).params.employee_id=o),title:""},null,8,["modelValue"])]),i(w,{modelValue:t(e).params.date,"onUpdate:modelValue":s[1]||(s[1]=o=>t(e).params.date=o),title:""},null,8,["modelValue"]),a("div",te,[i(T,{"attendance-type":t(e).params.attendance_type,"onUpdate:attendanceType":s[2]||(s[2]=o=>t(e).params.attendance_type=o)},null,8,["attendance-type"])]),a("div",{class:"w-full"},[a("button",{class:"text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",onClick:v}," Clear Filter ")])]),a("div",ae,[i(C,{"select-type":t(p),"onUpdate:selectType":s[3]||(s[3]=o=>B(p)?p.value=o:null),"department-id":t(e).params.department_id,"onUpdate:departmentId":s[4]||(s[4]=o=>t(e).params.department_id=o),"project-id":t(e).params.project_id,"onUpdate:projectId":s[5]||(s[5]=o=>t(e).params.project_id=o),title:"Filter Department/Project"},null,8,["select-type","department-id","project-id"])]),a("div",se,[i(x,{id:"listTable","header-columns":c,actions:b,datas:t(e).list,onDeleteRow:A},null,8,["datas"]),a("div",oe,[t(e).list.length?(d(),u(L,{key:0,links:t(e).pagination,onChangeParams:h},null,8,["links"])):E("",!0)])])])]),_:1},8,["if-access"])}}},Pe={__name:"logs",setup(m){return O({title:"Attendance Logs",meta:[{name:"description",content:""}]}),(n,r)=>{const e=ne,c=g;return d(),u(c,{"if-access":("useCheckAccessibility"in n?n.useCheckAccessibility:t(_))([("AccessibilityTypes"in n?n.AccessibilityTypes:t(y)).hrms_attendance_attendance_logs])},{default:f(()=>[a("div",null,[i(e)])]),_:1},8,["if-access"])}}};export{Pe as default};
