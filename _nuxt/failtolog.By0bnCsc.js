import{_ as q}from"./SearchEmployeeSelector.vue.B5O7htiL.js";import{_ as G}from"./PsDateInput.vue.Dioz8erE.js";import{_ as W}from"./DepartmentProjectSelector.BGO9zzOz.js";import{_ as Y}from"./PsTextInput.vue.C7eOWbog.js";import{_ as z}from"./ApprovalsList.aVDiIVet.js";import{_ as $}from"./LayoutBoards.vue.D_rbqYxd.js";import{f as E,s as P,m as J,B,o as y,h as M,w as f,a as s,g as K,b as a,u as e,x as D,c as A,F as C,i as U,t as Q,D as X,A as Z,p as ee,e as te,_ as oe,r as b,v as R}from"./entry.32UGFqj-.js";import{u as T,L as ae,_ as F}from"./InfoModal.CQATCw12.js";import{u as se,c as ne}from"./approvals.89EhJm5V.js";import{_ as le,a as ie,b as de}from"./MainContainer.BswisYLp.js";import{_ as I}from"./PsTable.BPIFONj1.js";import{_ as H}from"./CustomPagination.C91H0oe5.js";import{_ as re}from"./AcessContainer.Dum7aOuo.js";import{u as me}from"./vue.f36acd1f.Ds2AlAv6.js";import{u as ce,A as pe}from"./Accessibilities.xGffDRXj.js";import"./PsSelectSearch.vue.CT-F0Leg.js";import"./Icon.CrHlyQOo.js";import"./index.T-zbMaZc.js";import"./employeeSearch.AgeAeP2j.js";import"./CustomFetch.ggXvTdIz.js";import"./id.WqrvI90c.js";import"./client-only.CuVny2dr.js";import"./DepartmentSelector.vue.D5_eirUz.js";import"./enum.M1X5V5yu.js";import"./ProjectSelector.vue.D_IMAiNS.js";import"./UserEmployeeSelector.vue.CW0bAtx_.js";import"./loader.BQ9QddgL.js";import"./ListView.CUwkSJ9r.js";import"./ApprovalDenyButton.2aaI0auR.js";import"./PsModal.Bk3xu63Y.js";import"./nuxt-link.C5IpI_HT.js";import"./Utilities.DofxnkSu.js";import"./users.G4iuGzk0.js";const k=h=>(ee("data-v-ec518e98"),h=h(),te(),h),ue=["onSubmit"],_e={class:"w-full p-2"},ge={class:"mt-2 grid gap-2 mb-2 md:grid-cols-2"},fe={class:"w-full"},ye=k(()=>s("label",{for:"department",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Log Type",-1)),be=k(()=>s("option",{value:"",disabled:"",selected:""}," Choose Log Type ",-1)),he=["value"],ve=k(()=>s("label",{for:"time",class:"block mb-1 text-sm font-medium text-gray-900 dark:text-white"},"Time",-1)),we={class:"w-full"},xe={class:"w-full"},Le={class:"pt-5 w-full mb-2 rounded-lg p-4 bg-slate-100"},Ae=k(()=>s("label",{for:"approved_by",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Approvals:",-1)),Te=k(()=>s("div",{class:"max-w-full flex flex-row-reverse mt-5"},[s("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add ")],-1)),ke=E({__name:"FormLog",async setup(h){let i,l;const m=T(),{createRequestData:t}=P(m),p=se();t.value.data.approvals=([i,l]=J(()=>p.getApprovalByName(ne)),i=await i,l(),i);const d=B(),g=async()=>{try{const u=t.value.data.employee_id;await m.createLog(),d.add({type:"success",text:t.value.successMessage}),t.value.data.employee_id=u}catch{d.add({type:"error",text:t.value.errorMessage??"Something Went Wrong"})}finally{m.clearMessages()}};return(u,n)=>{const r=q,_=G,v=W,w=Y,x=z,c=$;return y(),M(c,{title:"Failure to Log Form",class:"mt-2 edit-item w-full max-w-full",loading:e(t).isLoading},{default:f(()=>[s("form",{onSubmit:K(g,["prevent"])},[s("div",_e,[s("div",ge,[a(r,{modelValue:e(t).data.employee_id,"onUpdate:modelValue":n[0]||(n[0]=o=>e(t).data.employee_id=o)},null,8,["modelValue"]),s("div",fe,[ye,D(s("select",{"onUpdate:modelValue":n[1]||(n[1]=o=>e(t).data.log_type=o),name:"",class:"border border-gray-500 rounded-md"},[be,(y(!0),A(C,null,U(e(ae),(o,L)=>(y(),A("option",{key:L,value:o},Q(o),9,he))),128))],512),[[X,e(t).data.log_type]])]),s("div",null,[a(_,{modelValue:e(t).data.date,"onUpdate:modelValue":n[2]||(n[2]=o=>e(t).data.date=o),title:"Date",required:""},null,8,["modelValue"])]),s("div",null,[ve,D(s("input",{id:"time","onUpdate:modelValue":n[3]||(n[3]=o=>e(t).data.time=o),type:"time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full md:w-1/2 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[Z,e(t).data.time]])]),a(v,{"select-type":e(t).data.charging_type,"onUpdate:selectType":n[4]||(n[4]=o=>e(t).data.charging_type=o),"department-id":e(t).data.department_id,"onUpdate:departmentId":n[5]||(n[5]=o=>e(t).data.department_id=o),"project-id":e(t).data.project_id,"onUpdate:projectId":n[6]||(n[6]=o=>e(t).data.project_id=o),title:"Charging",class:"p-2"},null,8,["select-type","department-id","project-id"]),s("div",we,[a(w,{modelValue:e(t).data.reason,"onUpdate:modelValue":n[7]||(n[7]=o=>e(t).data.reason=o),title:"Reason"},null,8,["modelValue"])])]),s("div",xe,[s("div",Le,[Ae,(y(!0),A(C,null,U(e(t).data.approvals,(o,L)=>(y(),M(x,{key:"hrmsetupapprovallist"+L,modelValue:e(t).data.approvals[L],"onUpdate:modelValue":S=>e(t).data.approvals[L]=S},null,8,["modelValue","onUpdate:modelValue"]))),128))])]),Te])],40,ue)]),_:1},8,["loading"])}}}),Me=oe(ke,[["__scopeId","data-v-ec518e98"]]),Ce={class:"pb-2 text-gray-500 p-2"},$e={class:"flex justify-center mx-auto"},Pe={__name:"AllList",setup(h){const i=T(),{failtolog:l,allRequests:m,isEdit:t}=P(i),p=[{name:"Date",id:"date_human"},{name:"Time",id:"time_human"},{name:"Employee",id:"employee.fullname_last"},{name:"Charging",id:"charging_designation"},{name:"Log Type",id:"log_type"},{name:"Reason",id:"reason"}],d={showTable:!0},g=b({}),u=b(!1),n=c=>{g.value=c,u.value=!0},r=B(),_=b(!1),v=c=>{t.value=!0,l.value=c},w=async c=>{try{_.value=!0,await i.deleteLog(c.id),r.add({type:"success",text:i.successMessage})}finally{_.value=!1}},x=c=>{m.value.params.page=c.page??""};return(c,o)=>{const L=q,S=I,j=H,O=F,N=$;return y(),M(N,{class:"w-full",loading:e(_)},{default:f(()=>[a(L,{modelValue:e(m).params.employee_id,"onUpdate:modelValue":o[0]||(o[0]=V=>e(m).params.employee_id=V)},null,8,["modelValue"]),s("div",Ce,[a(S,{"header-columns":p,datas:e(m).list,actions:d,onEditRow:v,onDeleteRow:w,onShowTable:n},null,8,["datas"])]),s("div",$e,[a(j,{links:e(m).pagination,onChangeParams:x},null,8,["links"])]),a(O,{"show-modal":e(u),"onUpdate:showModal":o[1]||(o[1]=V=>R(u)?u.value=V:null),data:e(g)},null,8,["show-modal","data"])]),_:1},8,["loading"])}}},Se={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},Ve={class:"flex justify-center mx-auto"},Re={__name:"MyRequests",setup(h){const i=T(),{myRequests:l}=P(i),m=[{name:"Date",id:"date_human"},{name:"Time",id:"time_human"},{name:"Employee",id:"employee.fullname_last"},{name:"Charging",id:"charging_designation"},{name:"Log Type",id:"log_type"},{name:"Reason",id:"reason"}],t={showTable:!0},p=b({}),d=b(!1),g=r=>{p.value=r,d.value=!0},u=b(!1),n=r=>{l.value.params.page=r.page??""};return(r,_)=>{const v=I,w=H,x=$,c=F;return y(),A(C,null,[a(x,{title:"",class:"w-full",loading:e(u)},{default:f(()=>[s("div",Se,[a(v,{"header-columns":m,actions:t,datas:e(l).list,onShowTable:g},null,8,["datas"])]),s("div",Ve,[a(w,{links:e(l).pagination,onChangeParams:n},null,8,["links"])])]),_:1},8,["loading"]),a(c,{"show-modal":e(d),"onUpdate:showModal":_[0]||(_[0]=o=>R(d)?d.value=o:null),data:e(p)},null,8,["show-modal","data"])],64)}}},Fe={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},Ie={class:"flex justify-center mx-auto"},He={__name:"MyApprovals",setup(h){const i=T(),{myApprovals:l}=P(i),m=[{name:"Date",id:"date_human"},{name:"Time",id:"time_human"},{name:"Employee",id:"employee.fullname_last"},{name:"Charging",id:"charging_designation"},{name:"Log Type",id:"log_type"},{name:"Reason",id:"reason"}],t={showTable:!0},p=b({}),d=b(!1),g=r=>{p.value=r,d.value=!0},u=b(!1),n=r=>{l.value.params.page=r.page??""};return(r,_)=>{const v=I,w=H,x=$,c=F;return y(),A(C,null,[a(x,{title:"",class:"w-full",loading:e(u)},{default:f(()=>[s("div",Fe,[a(v,{"header-columns":m,actions:t,datas:e(l).list,onShowTable:g},null,8,["datas"])]),s("div",Ie,[a(w,{links:e(l).pagination,onChangeParams:n},null,8,["links"])])]),_:1},8,["loading"]),a(c,{"show-modal":e(d),"onUpdate:showModal":_[0]||(_[0]=o=>R(d)?d.value=o:null),data:e(p)},null,8,["show-modal","data"])],64)}}},De={class:"md:flex gap-2"},Ue={class:"md:w-1/2 p-2 w-full"},bt=E({__name:"failtolog",setup(h){const i=T();return i.getAllList(),i.getMyApprovalRequests(),i.getMyRequests(),me({title:"Failure To Log",meta:[{name:"description",content:""}]}),(l,m)=>{const t=Me,p=le,d=Pe,g=ie,u=Re,n=He,r=de,_=re;return y(),M(_,{"if-access":("useCheckAccessibility"in l?l.useCheckAccessibility:e(ce))([("AccessibilityTypes"in l?l.AccessibilityTypes:e(pe)).hrms_attendance_failure_to_log])},{default:f(()=>[s("div",De,[a(t,{class:"md:w-1/2"}),s("div",Ue,[a(r,null,{"tab-titles":f(()=>[a(p,{"target-id":"allList",title:"All List"}),a(p,{"target-id":"myRequestList",title:"My Request"}),a(p,{"target-id":"myApprovalsList",title:"My Approvals"})]),"tab-containers":f(()=>[a(g,{id:"allList"},{default:f(()=>[a(d)]),_:1}),a(g,{id:"myRequestList"},{default:f(()=>[a(u)]),_:1}),a(g,{id:"myApprovalsList"},{default:f(()=>[a(n)]),_:1})]),_:1})])])]),_:1},8,["if-access"])}}});export{bt as default};
