import{_ as oe}from"./ItemTh.vue.DHCZWLF-.js";import T from"./Icon.DcF_NU9d.js";import{f as G,r as A,o as r,c,a as e,x as w,A as M,u as p,v as F,F as C,i as q,b as f,d as L,n as ae,q as V,ab as re,l as ne,s as z,j as S,t as H,aa as le,B as ie,h as $,w as J,y as B,m as ce}from"./entry.R6V7NTxy.js";import{_ as de}from"./CustomPagination.CR9ildFS.js";import{_ as ue}from"./loader.C2wIXBoB.js";import{e as U,b as D}from"./CustomFetch.BRBLzGci.js";import{_ as me}from"./AcessContainer.DJcSsti6.js";import{u as pe}from"./vue.f36acd1f.Dv_A-myg.js";import{u as fe,A as ge}from"./Accessibilities.uaboihcy.js";import{u as he}from"./enum.C7gxcjUu.js";import"./index.T-zbMaZc.js";import"./users.D5_vMoUK.js";const _e={class:"p-3 border-0 border-b border-r font-medium text-gray-900 whitespace-nowrap text-center"},be={class:"flex flex-col"},xe={class:"flex flex-row justify-start w-full gap-1"},ye={class:"flex flex-col w-full"},ve={class:"w-full flex flex-row gap-2 items-center py-2"},we=e("label",{for:"new-item",class:"text-xs font-bold m-0 p-0"},"New Item :",-1),Ie={class:"pl-12 flex flex-row"},ke={class:"w-full flex flex-row gap-2 items-center py-2"},$e=e("label",{for:"new-item",class:"text-xs font-bold m-0 p-0"},"Sub Item :",-1),Se=["onUpdate:modelValue"],Ae={class:"cancel-control flex items-center"},Ce=["onClick"],Ge={class:"flex flex-row justify-end mt-4"},Ee={class:"flex flex-row justify-center items-center px-2 font-medium text-gray-900 whitespace-nowrap text-center"},Me={class:"save-control"},Te={class:"cancel-control"},je=G({__name:"AppendItemTable",props:{subitemholder:{type:Array,required:!0}},emits:["addItem","hideItem"],setup(t,{emit:s}){const o=A(""),n=l=>{s("addItem",l),o.value=""},d=()=>{s("hideItem")},i=l=>{l.push({name:""})},g=(l,a)=>{a.splice(l,1)};return(l,a)=>{const h=T;return r(),c(C,null,[e("td",_e,[e("div",be,[e("div",xe,[e("div",ye,[e("div",ve,[we,w(e("input",{"onUpdate:modelValue":a[0]||(a[0]=_=>F(o)?o.value=_:null),type:"text",class:"block p-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-cyan-600 m-0"},null,512),[[M,p(o)]])]),(r(!0),c(C,null,q(t.subitemholder,(_,x)=>(r(),c("div",{key:x,class:"subItem w-full"},[e("div",Ie,[e("div",ke,[$e,w(e("input",{"onUpdate:modelValue":j=>_.name=j,type:"text",class:"block p-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-cyan-600 m-0"},null,8,Se),[[M,_.name]])]),e("div",Ae,[e("button",{class:"text-red-700 font-medium rounded-lg text-lg hover:text-white hover:bg-red-700 px-2",onClick:j=>g(x,t.subitemholder)},[f(h,{name:"mdi:remove",class:"h-5 w-5 lg:h-5 lg:w-5"})],8,Ce)])])]))),128)),e("div",Ge,[e("button",{class:"bg-emerald-800 px-2 py-1 text-white text-xs text-left mb-4",onClick:a[1]||(a[1]=_=>i(t.subitemholder))},[f(h,{name:"mdi:plus",class:"h-5 w-5 lg:h-5 lg:w-5"}),L(" Sub Group ")])])])])])]),e("td",Ee,[e("div",Me,[e("button",{class:"text-emerald-700 font-medium rounded-lg text-lg hover:text-white hover:bg-emerald-700 px-2 py-1",onClick:a[2]||(a[2]=_=>n(p(o)))},[f(h,{name:"mdi:plus",class:"h-5 w-5 lg:h-5 lg:w-5"})])]),e("div",Te,[e("button",{class:"text-red-700 font-medium rounded-lg text-lg hover:text-white hover:bg-red-700 px-2 py-1",onClick:d},[f(h,{name:"mdi:remove",class:"h-5 w-5 lg:h-5 lg:w-5"})])])])],64)}}}),Pe={class:"p-3 border-0 border-b border-r font-medium text-gray-900 whitespace-nowrap text-center"},Ue={class:"flex flex-col"},qe={class:"flex flex-row justify-start w-full gap-1"},Re={class:"flex flex-col w-full"},Be={class:"w-full flex flex-row gap-2 items-center py-2"},He=e("label",{for:"new-item",class:"text-xs font-bold m-0 p-0"},"Edit Item :",-1),Le={class:"pl-12 flex flex-row"},Ne={class:"w-full flex flex-row gap-2 items-center py-2"},Oe=e("label",{for:"new-item",class:"text-xs font-bold m-0 p-0"},"Edit Sub Item :",-1),De=["onUpdate:modelValue"],Fe={class:"cancel-control flex items-center"},Ve=["onClick"],ze={class:"flex flex-row justify-end mt-4"},Je=G({__name:"EditItemTable",props:ae({subgroup:{type:Array,required:!0}},{name:{type:String,required:!0}}),emits:["update:name"],setup(t){const s=V(t,"name"),o=d=>{d.push({name:""})},n=(d,i)=>{i.splice(d,1)};return(d,i)=>{const g=T;return r(),c("td",Pe,[e("div",Ue,[e("div",qe,[e("div",Re,[e("div",Be,[He,w(e("input",{"onUpdate:modelValue":i[0]||(i[0]=l=>s.value=l),type:"text",class:"block p-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-cyan-600 m-0"},null,512),[[M,s.value]])]),(r(!0),c(C,null,q(t.subgroup,(l,a)=>(r(),c("div",{key:a,class:"subItem w-full"},[e("div",Le,[e("div",Ne,[Oe,w((r(),c("input",{key:a,"onUpdate:modelValue":h=>l.name=h,type:"text",class:"block p-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-cyan-600 m-0"},null,8,De)),[[M,l.name]])]),e("div",Fe,[e("button",{class:"text-red-700 font-medium rounded-lg text-lg hover:text-white hover:bg-red-700 px-2",onClick:h=>n(a,t.subgroup)},[f(g,{name:"mdi:remove",class:"h-5 w-5 lg:h-5 lg:w-5"})],8,Ve)])])]))),128)),e("div",ze,[e("button",{class:"bg-emerald-800 px-2 py-1 text-white text-xs text-left mb-4",onClick:i[1]||(i[1]=l=>o(t.subgroup))},[f(g,{name:"mdi:plus",class:"h-5 w-5 lg:h-5 lg:w-5"}),L(" Sub Group ")])])])])])])}}}),Ke={class:"flex flex-row justify-center items-center px-2 font-medium text-gray-900 whitespace-nowrap text-center"},Qe={class:"save-control"},We={class:"cancel-control"},Xe=G({__name:"ItemGroupEdit",props:{data:{type:Object,required:!0}},emits:["hideEdit","updateItemgroup"],setup(t,{emit:s}){const o=t,n=A([]),d=A(o.data.name);o.data.sub_groups.forEach(l=>{n.value.push({name:l})});const i=()=>{s("hideEdit")},g=(l,a,h)=>{s("updateItemgroup",l,a,h)};return(l,a)=>{const h=Je,_=T;return r(),c(C,null,[f(h,{name:p(d),"onUpdate:name":a[0]||(a[0]=x=>F(d)?d.value=x:null),subgroup:p(n)},null,8,["name","subgroup"]),e("td",Ke,[e("div",Qe,[e("button",{class:"text-emerald-700 font-medium rounded-lg text-lg hover:text-white hover:bg-emerald-700 px-2 py-1",onClick:a[1]||(a[1]=x=>g(t.data.id,p(d),p(n)))},[f(_,{name:"mdi:check",class:"h-5 w-5 lg:h-5 lg:w-5"})])]),e("div",We,[e("button",{class:"text-red-700 font-medium rounded-lg text-lg hover:text-white hover:bg-red-700 px-2 py-1",onClick:i},[f(_,{name:"mdi:remove",class:"h-5 w-5 lg:h-5 lg:w-5"})])])])],64)}}}),Ye={class:"search-field"},Ze=G({__name:"itemSearch",props:{searchInput:{type:String,required:!0}},emits:["update:searchInput"],setup(t){const s=V(t,"searchInput");return(o,n)=>(r(),c("div",Ye,[w(e("input",{"onUpdate:modelValue":n[0]||(n[0]=d=>s.value=d),type:"text",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-cyan-600 peer",placeholder:"Search"},null,512),[[M,s.value]])]))}}),{token:et}=re(),N=ne("itemgroups",{state:()=>({isEdit:!1,formApproval:{},list:[],searchItemParams:{query:""},itemgroup:{},subitemgroup:[],pagination:{},getParams:{},errorMessage:"",successMessage:""}),actions:{async getItemGroups(){const{data:t,error:s}=await U("/api/item-group/resource",{method:"GET",params:this.getParams,onResponse:({response:o})=>{o.ok?(this.list=o._data.data.data.map(n=>({id:n.id,name:n.name,expand:!0,edit:!1,sub_groups:n.sub_groups})),this.pagination={first_page:o._data.data.links.first,pages:o._data.data.meta.links,last_page:o._data.data.links.last}):this.errorMessage=o._data.message}});if(t)return t;if(s)return s},async createItemGroup(){this.successMessage="",this.errorMessage="",await U("/api/item-group/resource",{method:"POST",body:this.itemgroup,watch:!1,onResponse:({response:t})=>{t.ok?(this.reset(),this.successMessage=t._data.message,this.getItemGroups()):(this.reset(),this.errorMessage=t._data.message)}})},async updateItemGroup(t){this.successMessage="",this.errorMessage="",await U("/api/item-group/resource/"+t,{method:"PATCH",body:this.itemgroup,watch:!1,onResponse:({response:s})=>{s.ok?(this.reset(),this.successMessage=s._data.message,this.getItemGroups()):(this.reset(),this.errorMessage=s._data.message,this.getItemGroups())}})},async searchItemGroup(){await U("/api/item-group/search",{method:"GET",headers:{Authorization:et.value+"",Accept:"application/json"},params:this.searchItemParams,onResponse:({response:t})=>{var s;t.ok&&(this.list=(s=t._data)==null?void 0:s.data)}})},async editApprovals(){this.successMessage="",this.errorMessage="",await D("/api/approvals/"+this.formApproval.id,{method:"PATCH",body:this.formApproval,watch:!1,onResponse:({response:t})=>{t.ok?(this.reset(),this.successMessage=t._data.message):this.errorMessage=t._data.message}})},async deleteApproval(t){await D("/api/approvals/"+t,{method:"DELETE",watch:!1,onResponse:({response:s})=>{s.ok?(this.reset(),this.successMessage=s._data.message):(this.reset(),this.errorMessage=s._data.message)},onResponseError:({response:s})=>{this.errorMessage=s._data.message}})},reset(){this.itemgroup={},this.successMessage="",this.errorMessage=""}}}),tt={class:"relative LayoutBoards"},st={key:0,class:"absolute bg-slate-200/50 rounded-lg w-full h-full flex items-center justify-center"},ot=e("img",{class:"flex justify-center w-28 rounded-md",src:ue,alt:"logo"},null,-1),at=[ot],rt={class:"h-full w-full bg-white border border-gray-200 rounded-lg shadow-md sm:p-6 md:p-2 dark:bg-gray-800 dark:border-gray-700"},nt={class:"flex flex-col border-b gap-4 mb-2 p-2"},lt={key:0,class:"text-xl font-medium text-gray-900 dark:text-white border-0 border-b pb-2"},it={class:"flex flex-row justify-between flex-nowrap"},ct={class:"h-full"},dt=G({__name:"InventoryBoards",props:{title:{type:String,required:!1,default:""},loading:{type:Boolean,default:!1}},emits:["action"],setup(t,{emit:s}){const o=N();o.searchItemGroup();const{searchItemParams:n}=z(o),d=()=>{s("action")};return(i,g)=>{const l=T,a=Ze;return r(),c("div",tt,[t.loading?(r(),c("div",st,at)):S("",!0),e("div",rt,[e("div",nt,[t.title?(r(),c("h5",lt,H(t.title),1)):S("",!0),e("div",it,[e("div",null,[e("button",{type:"button",class:"text-white bg-emerald-700 hover:bg-emerald-800 focus:ring-4 focus:ring-blue-300 font-semibold text-sm px-3 py-2 me-2 mb-2 flex justify-center",onClick:d},[f(l,{name:"mdi:plus",class:"h-5 w-5 text-white"}),L(" Add Item ")])]),f(a,{"search-input":p(n).query,"onUpdate:searchInput":g[0]||(g[0]=h=>p(n).query=h)},null,8,["search-input"])])]),e("div",ct,[le(i.$slots,"default")])])])}}}),ut={class:"pb-2 text-gray-500"},mt={class:"table-auto w-full border-collapse"},pt={class:"border-b-2 border-gray-300"},ft={key:1,class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},gt={class:"flex flex-col gap-1 my-2","data-accordion":"collapse"},ht={class:"text-lg flex flex-row gap-1 items-center"},_t={class:"text-md"},bt=["id","aria-labelledby"],xt={class:"text-sm"},yt={key:2,class:"px-2 font-medium text-gray-900 whitespace-nowrap text-center"},vt=["onClick"],wt={class:"flex justify-center mx-auto"},It=G({__name:"ItemGroupTable",props:{actions:{type:Object,required:!1,default:null}},setup(t){const s=N(),{list:o,subitemgroup:n,getParams:d,itemgroup:i,errorMessage:g,successMessage:l,pagination:a}=z(s),h=u=>{d.value.page=u.page??""},_=A(!1),x=A(!1),j=A(!1),P=ie(),K=async u=>{_.value=!1;const m=[];n.value.forEach(I=>{m.push(I.name)}),i.value.name=u,i.value.sub_groups=m,await s.createItemGroup(),g.value!==""?P.add({type:"error",text:g.value}):P.add({type:"success",text:l.value}),s.reset(),n.value=[]},Q=async(u,m,I)=>{const E=[];I.forEach(y=>{E.push(y.name)}),i.value.name=m,i.value.sub_groups=E,x.value=!1,await s.updateItemGroup(u),g.value!==""?P.add({type:"error",text:g.value}):(P.add({type:"success",text:l.value}),o.value.map(function(y){return y.id===u&&(y.name=m,y.sub_groups=E,y.edit=!1),y}))},W=()=>{_.value=!0},X=()=>{_.value=!1,n.value=[]},Y=async u=>{await o.value[u]&&(o.value[u].edit?o.value[u].edit=!1:o.value[u].edit=!0),x.value=!0},Z=u=>{u.edit=!1,x.value=!1},O=async u=>{const m=u.target.id;await o.value[m]&&(o.value[m].expand?o.value[m].expand=!1:o.value[m].expand=!0)};return(u,m)=>{const I=oe,E=je,y=Xe,R=T,ee=de,te=dt;return r(),$(te,{title:"Item Group",class:"w-full",loading:p(j),onAction:W},{default:J(()=>[e("div",ut,[e("table",mt,[e("thead",null,[e("tr",null,[f(I,{title:"Items"}),f(I,{title:"Actions"})])]),e("tbody",null,[w(e("tr",pt,[f(E,{subitemholder:p(n),onAddItem:K,onHideItem:X},null,8,["subitemholder"])],512),[[B,p(_)]]),(r(!0),c(C,null,q(p(o),(v,b)=>(r(),c("tr",{key:b,class:"bg-white border-b"},[v.edit?(r(),$(y,{key:0,data:v,onUpdateItemgroup:Q,onHideEdit:k=>Z(v)},null,8,["data","onHideEdit"])):S("",!0),v.edit?S("",!0):(r(),c("td",ft,[e("div",gt,[e("div",ht,[w((r(),$(R,{id:b,key:b,name:"mdi:minus",class:"cursor-pointer h-5 w-5 lg:h-5 lg:w-5","data-accordion-target":"#acbody-"+String(b),"aria-expanded":"true","aria-controls":"#acbody-"+String(b),onClick:m[0]||(m[0]=k=>O(k))},null,8,["id","data-accordion-target","aria-controls"])),[[B,!v.expand]]),w((r(),$(R,{id:b,key:String(b)+"plus",name:"mdi:plus",class:"cursor-pointer h-5 w-5 lg:h-5 lg:w-5","data-accordion-target":"#acbody-"+String(b),"aria-expanded":"true","aria-controls":"#acbody-"+String(b),onClick:m[1]||(m[1]=k=>O(k))},null,8,["id","data-accordion-target","aria-controls"])),[[B,v.expand]]),e("p",_t,H(v.name),1)]),(r(),c("div",{id:"acbody-"+String(b),key:b,class:"hidden flex flex-col ps-7 text-sm relative before:absolute before:top-0 before:start-3 before:w-0.5 before:-ms-px before:h-full before:bg-gray-200","aria-labelledby":"acbody-"+String(b)},[(r(!0),c(C,null,q(v.sub_groups,(k,se)=>(r(),c("span",{key:se,class:"flex flex-row gap-1"},[e("p",xt,H(k),1)]))),128))],8,bt))])])),v.edit?S("",!0):(r(),c("td",yt,[e("button",{class:"text-blue-500 bg-transparent font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2",onClick:k=>Y(b)},[f(R,{name:"ion:pencil",class:"h-5 w-5 lg:h-5 lg:w-5"})],8,vt)]))]))),128))])])]),e("div",wt,[p(o).length?(r(),$(ee,{key:0,links:p(a),onChangeParams:h},null,8,["links"])):S("",!0)])]),_:1},8,["loading"])}}}),kt={class:"flex flex-col md:flex-row gap-4"},$t={class:"w-2/3 mx-auto"},Bt={__name:"item-group",async setup(t){let s,o;const n=N();return[s,o]=ce(()=>n.getItemGroups()),await s,o(),he().getUserEmployeeEnums(),pe({title:"Item Group"}),(i,g)=>{const l=It,a=me;return r(),$(a,{"if-access":("useCheckAccessibility"in i?i.useCheckAccessibility:p(fe))([("AccessibilityTypes"in i?i.AccessibilityTypes:p(ge)).inventory_setup_item_group])},{default:J(()=>[e("div",kt,[e("div",$t,[f(l)])])]),_:1},8,["if-access"])}}};export{Bt as default};
