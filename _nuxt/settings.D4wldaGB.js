import{_ as R,a as w,b as F}from"./MainContainer.BswisYLp.js";import{l as Y,s as C,B as v,o as u,c as d,F as g,i as P,a as l,t as h,u as t,x as E,A as O,j as y,G as U,K as D,D as I,h as f,w as A,b as L}from"./entry.32UGFqj-.js";import{b as k}from"./CustomFetch.ggXvTdIz.js";import{u as M}from"./id.WqrvI90c.js";import{u as T,A as b}from"./Accessibilities.xGffDRXj.js";import{_ as N}from"./AcessContainer.Dum7aOuo.js";import{u as K}from"./vue.f36acd1f.Ds2AlAv6.js";import"./LayoutBoards.vue.D_rbqYxd.js";import"./loader.BQ9QddgL.js";import"./client-only.CuVny2dr.js";import"./users.G4iuGzk0.js";const r={EARLY_LOGIN:"Early login",LATE_LOGOUT:"Late logout",LATE_ALLOWANCE:"Late allowance min",LATE_ABSENT:"Late halfday min",PAYROLL_20TH_LOCKUP_DAY_LIMIT:"Payroll 20th Lockup Cutoff End",PAYROLL_20TH_LOCKUP_SCHEDULE_DAY_OF_MONTH:"Payroll 20th Lockup Day Schedule",PAYROLL_20TH_LOCKUP_SCHEDULE_TIME_OF_DAY:"Payroll 20th Lockup Time Schedule",PAYROLL_5TH_LOCKUP_DAY_LIMIT:"Payroll 5th Lockup Cutoff End",PAYROLL_5TH_LOCKUP_SCHEDULE_DAY_OF_MONTH:"Payroll 5th Lockup Day Schedule",PAYROLL_5TH_LOCKUP_SCHEDULE_TIME_OF_DAY:"Payroll 5th Lockup Time Schedule",LOGOUT_CHANGE_PASSWORD:"Logout change password",SINGLE_DEVICE_LOGIN:"Single device login",USER_201_EDITOR:"User 201 editor",USER_SALARY_GRADE_SETTER:"User salary grade setter"},H=Y("hrmsSettings",{state:()=>({allSettings:{isLoading:!1,data:[],successMessage:""}}),actions:{async getAllSettings(){await k("/api/setup/settings",{onRequest:()=>{this.allSettings.isLoading=!0},onResponseError:({request:m})=>{throw this.allSettings.isLoading=!1,new Error(m._data.message)},onResponse:({response:m})=>{this.allSettings.isLoading=!1,this.allSettings.data=m._data.data,this.allSettings.successMessage=m._data.message}})},async updateSetting(m,c){return await k("/api/setup/settings/"+m,{method:"PATCH",body:{value:c},onRequest:()=>{this.allSettings.isLoading=!0},onResponseError:({response:n})=>{throw this.allSettings.isLoading=!1,new Error(n._data.message)},onResponse:()=>{this.getAllSettings()}})}}}),G={class:"space-y-2 p-2"},V={class:"text-sm font-medium"},x={class:"flex flex-col"},B={class:"flex flex-row gap-2"},W=["onUpdate:modelValue","onFocusin","onFocusout"],q=["onUpdate:modelValue","onFocusin","onFocusout"],j=["onClick"],z={__name:"PayrollLockupSettings",setup(m){const c=H(),{allSettings:n}=C(c),o=v(),p=[{name:r.PAYROLL_20TH_LOCKUP_DAY_LIMIT,description:"The days before this day will be locked for 20th Payroll Lockup"},{name:r.PAYROLL_20TH_LOCKUP_SCHEDULE_DAY_OF_MONTH,description:"The day of the month to schedule 20th Payroll Lockup"},{name:r.PAYROLL_20TH_LOCKUP_SCHEDULE_TIME_OF_DAY,description:"The time of day to schedule 20th Payroll Lockup"},{name:r.PAYROLL_5TH_LOCKUP_DAY_LIMIT,description:"The days before this day will be locked for 5th Payroll Lockup"},{name:r.PAYROLL_5TH_LOCKUP_SCHEDULE_DAY_OF_MONTH,description:"The day of the month to schedule 5th Payroll Lockup"},{name:r.PAYROLL_5TH_LOCKUP_SCHEDULE_TIME_OF_DAY,description:"The time of day to schedule 5th Payroll Lockup"}],S=async(a,_)=>{try{await c.updateSetting(a,_),o.add({type:"success",text:"Setting updated successfully"})}catch(e){o.add({type:"error",text:e||"Something went wrong"})}};return(a,_)=>(u(),d("div",G,[(u(!0),d(g,null,P(t(n).data,(e,i)=>(u(),d(g,null,[p.find(s=>s.name===e.setting_name)?(u(),d("div",{key:e.id,class:"space-y-1"},[l("span",V,h(e.setting_name),1),l("div",x,[l("div",B,[[("HrmsSetupSettingsEnums"in a?a.HrmsSetupSettingsEnums:t(r)).PAYROLL_20TH_LOCKUP_DAY_LIMIT,("HrmsSetupSettingsEnums"in a?a.HrmsSetupSettingsEnums:t(r)).PAYROLL_20TH_LOCKUP_SCHEDULE_DAY_OF_MONTH,("HrmsSetupSettingsEnums"in a?a.HrmsSetupSettingsEnums:t(r)).PAYROLL_5TH_LOCKUP_DAY_LIMIT,("HrmsSetupSettingsEnums"in a?a.HrmsSetupSettingsEnums:t(r)).PAYROLL_5TH_LOCKUP_SCHEDULE_DAY_OF_MONTH].includes(e.setting_name)?E((u(),d("input",{key:0,"onUpdate:modelValue":s=>t(n).data[i].value=s,type:"number",class:"input rounded-lg w-1/3",min:"0",max:"23",onFocusin:s=>t(n).data[i].focus=!0,onFocusout:s=>t(n).data[i].focus=!1},null,40,W)),[[O,t(n).data[i].value]]):y("",!0),[("HrmsSetupSettingsEnums"in a?a.HrmsSetupSettingsEnums:t(r)).PAYROLL_20TH_LOCKUP_SCHEDULE_TIME_OF_DAY,("HrmsSetupSettingsEnums"in a?a.HrmsSetupSettingsEnums:t(r)).PAYROLL_5TH_LOCKUP_SCHEDULE_TIME_OF_DAY].includes(e.setting_name)?E((u(),d("input",{key:1,"onUpdate:modelValue":s=>t(n).data[i].value=s,type:"time",class:"input rounded-lg w-1/3",step:"60",pattern:"[0-9]{2}:[0-9]{2}",onFocusin:s=>t(n).data[i].focus=!0,onFocusout:s=>t(n).data[i].focus=!1},null,40,q)),[[O,t(n).data[i].value]]):y("",!0),l("button",{class:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",onClick:s=>S(e.id,e.value)}," Set ",8,j)]),l("span",{class:U(["text-xs text-gray-500 opacity-0 transition-opacity duration-300",{"opacity-100":e.focus}])},h(p.find(s=>s.name===e.setting_name).description),3)])])):y("",!0)],64))),256))]))}},J={class:"space-y-2 p-2"},Q={class:"text-sm font-medium"},X={class:"flex flex-col"},Z={class:"flex flex-row gap-2"},tt=["onUpdate:modelValue","onFocusin","onFocusout"],et=["onUpdate:modelValue","onFocusin","onFocusout"],st=["onClick"],nt={__name:"AttendanceSettings",setup(m){const c=H(),{allSettings:n}=C(c),o=v();D(async()=>{await c.getAllSettings()});const p=[{name:r.LATE_ALLOWANCE,description:"Minutes late allowed before being considered late."},{name:r.LATE_ABSENT,description:"Minutes late allowed before being considered absent."}],S=async(a,_)=>{try{await c.updateSetting(a,_),o.add({type:"success",text:"Setting updated successfully"})}catch(e){o.add({type:"error",text:e||"Something went wrong"})}};return(a,_)=>(u(),d("div",J,[(u(!0),d(g,null,P(t(n).data,(e,i)=>(u(),d(g,null,[p.find(s=>s.name===e.setting_name)?(u(),d("div",{key:e.id,class:"space-y-1"},[l("span",Q,h(e.setting_name),1),l("div",X,[l("div",Z,[[("HrmsSetupSettingsEnums"in a?a.HrmsSetupSettingsEnums:t(r)).EARLY_LOGIN,("HrmsSetupSettingsEnums"in a?a.HrmsSetupSettingsEnums:t(r)).LATE_LOGOUT].includes(e.setting_name)?E((u(),d("input",{key:0,"onUpdate:modelValue":s=>t(n).data[i].value=s,type:"number",class:"input rounded-lg w-1/3",min:"0",max:"23",onFocusin:s=>t(n).data[i].focus=!0,onFocusout:s=>t(n).data[i].focus=!1},null,40,tt)),[[O,t(n).data[i].value]]):[("HrmsSetupSettingsEnums"in a?a.HrmsSetupSettingsEnums:t(r)).LATE_ALLOWANCE,("HrmsSetupSettingsEnums"in a?a.HrmsSetupSettingsEnums:t(r)).LATE_ABSENT].includes(e.setting_name)?E((u(),d("input",{key:1,"onUpdate:modelValue":s=>t(n).data[i].value=s,type:"number",class:"input rounded-lg w-1/3",onFocusin:s=>t(n).data[i].focus=!0,onFocusout:s=>t(n).data[i].focus=!1},null,40,et)),[[O,t(n).data[i].value]]):y("",!0),l("button",{class:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",onClick:s=>S(e.id,e.value)}," Set ",8,st)]),l("span",{class:U(["text-xs text-gray-500 opacity-0 transition-opacity duration-300",{"opacity-100":e.focus}])},h(p.find(s=>s.name===e.setting_name).description),3)])])):y("",!0)],64))),256))]))}},at={class:"space-y-2 p-2"},ot={class:"text-sm font-medium"},it={class:"flex flex-col"},ct={class:"flex flex-row"},ut=["onUpdate:modelValue","onFocusin","onFocusout"],lt=l("option",{value:1}," True ",-1),rt=l("option",{value:0}," False ",-1),dt=[lt,rt],_t=["onClick"],pt={__name:"GeneralAccount",setup(m){const c=H(),{allSettings:n}=C(c),o=v(),p=[{name:r.LOGOUT_CHANGE_PASSWORD,description:"Logout all other sessions when a user changes their password."},{name:r.SINGLE_DEVICE_LOGIN,description:"Only one instance of the application can be logged in at a time."}],S=async(a,_)=>{try{await c.updateSetting(a,_),o.add({type:"success",text:"Setting updated successfully"})}catch(e){o.add({type:"error",text:e||"Something went wrong"})}};return(a,_)=>(u(),d("div",at,[(u(!0),d(g,null,P(t(n).data,(e,i)=>(u(),d(g,null,[p.find(s=>s.name===e.setting_name)?(u(),d("div",{key:e.id,class:"space-y-1"},[l("span",ot,h(e.setting_name),1),l("div",it,[l("div",ct,[E(l("select",{"onUpdate:modelValue":s=>t(n).data[i].value=s,class:"input rounded-lg w-1/3",onFocusin:s=>t(n).data[i].focus=!0,onFocusout:s=>t(n).data[i].focus=!1},dt,40,ut),[[I,t(n).data[i].value]]),l("button",{class:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",onClick:s=>S(e.id,e.value)}," Set ",8,_t)]),l("span",{class:U(["text-xs text-gray-500 opacity-0 transition-opacity duration-300",{"opacity-100":e.focus}])},h(p.find(s=>s.name===e.setting_name).description),3)])])):y("",!0)],64))),256))]))}},mt={class:"space-y-2 p-2"},St={class:"text-sm font-medium"},yt={class:"flex flex-col"},Lt={class:"flex flex-row"},gt=["onUpdate:modelValue","onFocusin","onFocusout"],ht=["onClick"],At={__name:"SpecialAccessibility",setup(m){const c=H(),{allSettings:n}=C(c),o=v(),p=[{name:r.USER_201_EDITOR,description:"User accounts that can set edit 201 data accessibility."},{name:r.USER_SALARY_GRADE_SETTER,description:"User accounts that can set setup salary grade accessibility."}],S=async(a,_)=>{try{await c.updateSetting(a,_),o.add({type:"success",text:"Setting updated successfully"})}catch(e){o.add({type:"error",text:e||"Something went wrong"})}};return(a,_)=>(u(),d("div",mt,[(u(!0),d(g,null,P(t(n).data,(e,i)=>(u(),d(g,null,[p.find(s=>s.name===e.setting_name)?(u(),d("div",{key:e.id,class:"space-y-1"},[l("span",St,h(e.setting_name),1),l("div",yt,[l("div",Lt,[E(l("input",{"onUpdate:modelValue":s=>t(n).data[i].value=s,type:"text",class:"input rounded-lg w-1/3",onFocusin:s=>t(n).data[i].focus=!0,onFocusout:s=>t(n).data[i].focus=!1},null,40,gt),[[O,t(n).data[i].value]]),l("button",{class:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",onClick:s=>S(e.id,e.value)}," Set ",8,ht)]),l("span",{class:U(["text-xs text-gray-500 opacity-0 transition-opacity duration-300",{"opacity-100":e.focus}])},h(p.find(s=>s.name===e.setting_name).description),3)])])):y("",!0)],64))),256))]))}},ft={__name:"EditSettingsForm",setup(m){const c=M("$x0D96buouh"),n=H();return D(async()=>{await n.getAllSettings()}),(o,p)=>{const S=R,a=z,_=w,e=nt,i=pt,s=At,$=F;return u(),f($,null,{"tab-titles":A(()=>[("useCheckAccessibility"in o?o.useCheckAccessibility:t(T))([("AccessibilityTypes"in o?o.AccessibilityTypes:t(b)).hrms_setup_settings])?(u(),f(S,{key:0,title:"Payroll Lockup","target-id":"tab1"+t(c)},null,8,["target-id"])):y("",!0),("useCheckAccessibility"in o?o.useCheckAccessibility:t(T))([("AccessibilityTypes"in o?o.AccessibilityTypes:t(b)).hrms_setup_settings])?(u(),f(S,{key:1,title:"Attendance","target-id":"tab2"+t(c)},null,8,["target-id"])):y("",!0),("useCheckAccessibility"in o?o.useCheckAccessibility:t(T))([("AccessibilityTypes"in o?o.AccessibilityTypes:t(b)).SUPERADMIN])?(u(),f(S,{key:2,title:"General Account Settings","target-id":"tab3"+t(c)},null,8,["target-id"])):y("",!0),("useCheckAccessibility"in o?o.useCheckAccessibility:t(T))([("AccessibilityTypes"in o?o.AccessibilityTypes:t(b)).SUPERADMIN])?(u(),f(S,{key:3,title:"Special Accessibility","target-id":"tab4"+t(c)},null,8,["target-id"])):y("",!0)]),"tab-containers":A(()=>[L(_,{id:"tab1"+t(c)},{default:A(()=>[L(a)]),_:1},8,["id"]),L(_,{id:"tab2"+t(c)},{default:A(()=>[L(e)]),_:1},8,["id"]),L(_,{id:"tab3"+t(c)},{default:A(()=>[L(i)]),_:1},8,["id"]),L(_,{id:"tab4"+t(c)},{default:A(()=>[L(s)]),_:1},8,["id"])]),_:1})}}},Et={class:"flex flex-col gap-3"},Rt={__name:"settings",setup(m){return K({title:"Settings"}),(c,n)=>{const o=ft,p=N;return u(),f(p,{"if-access":("useCheckAccessibility"in c?c.useCheckAccessibility:t(T))([("AccessibilityTypes"in c?c.AccessibilityTypes:t(b)).hrms_setup_settings])},{default:A(()=>[l("div",Et,[L(o)])]),_:1},8,["if-access"])}}};export{Rt as default};
