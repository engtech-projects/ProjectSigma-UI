import{a as e,u as s}from"./CustomFetch.BRBLzGci.js";import{l as i}from"./entry.R6V7NTxy.js";const o=i("journalStore",{state:()=>({journal:{isLoading:!1,isLoaded:!1,id:null,journal_no:"",voucher_id:"",entry_date:"",status:"open",period_id:"",remarks:"",total:0,reference_no:"",details:[],errorMessage:"",successMessage:""},paymentRequestEntries:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{},errorMessage:"",successMessage:""},postedEntries:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{},errorMessage:"",successMessage:""},unpostedEntries:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{},errorMessage:"",successMessage:""},openEntries:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{},errorMessage:"",successMessage:""},forPaymentEntries:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{},errorMessage:"",successMessage:""},disbursementEntries:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{},errorMessage:"",successMessage:""},cashEntries:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{},errorMessage:"",successMessage:""},voidEntries:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{},errorMessage:"",successMessage:""},forDisbursementVoucherEntries:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{},errorMessage:"",successMessage:""},forCashVoucherEntries:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{},errorMessage:"",successMessage:""},draftedEntries:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{},errorMessage:"",successMessage:""}}),getters:{},actions:{async addJournal(){this.journal.successMessage="",this.journal.errorMessage="",await e("/api/journal-entry/resource",{method:"POST",body:this.journal,watch:!1,onRequest:()=>{this.journal.isLoading=!0},onResponseError:({response:a})=>{throw this.journal.errorMessage=a._data.message,new Error(a._data.message)},onResponse:({response:a})=>{if(this.journal.isLoading=!1,a.ok)this.reloadResources(),this.journal.successMessage=a._data.message;else throw this.journal.errorMessage=a._data.message,new Error(a._data.message)}})},async getPaymentRequestEntries(){this.paymentRequestEntries.isLoaded=!0,await s("/api/journal-entry/payment-request-entries",{method:"GET",params:this.paymentRequestEntries.params,onRequest:()=>{this.paymentRequestEntries.isLoading=!0},onResponse:({response:a})=>{this.paymentRequestEntries.isLoading=!1,a.ok&&(this.paymentRequestEntries.list=a._data.data.data,this.paymentRequestEntries.pagination={first_page:a._data.data.links.first,pages:a._data.data.meta.links,last_page:a._data.data.links.last})}})},async getOpenEntries(){this.openEntries.isLoaded=!0,await s("/api/journal-entry/open-entries",{method:"GET",params:this.openEntries.params,onRequest:()=>{this.openEntries.isLoading=!0},onResponse:({response:a})=>{this.openEntries.isLoading=!1,a.ok&&(this.openEntries.list=a._data.data.data,this.openEntries.pagination={first_page:a._data.data.links.first,pages:a._data.data.meta.links,last_page:a._data.data.links.last})}})},async getCashJournalEntries(){this.cashEntries.isLoaded=!0,await s("/api/journal-entry/cash-entries",{method:"GET",params:this.cashEntries.params,onRequest:()=>{this.cashEntries.isLoading=!0},onResponse:({response:a})=>{this.cashEntries.isLoading=!1,a.ok&&(this.cashEntries.list=a._data.data.data,this.cashEntries.pagination={first_page:a._data.data.links.first,pages:a._data.data.meta.links,last_page:a._data.data.links.last})}})},async getDisbursementJournalEntries(){this.disbursementEntries.isLoaded=!0,await s("/api/journal-entry/disbursement-entries",{method:"GET",params:this.disbursementEntries.params,onRequest:()=>{this.disbursementEntries.isLoading=!0},onResponse:({response:a})=>{this.disbursementEntries.isLoading=!1,a.ok&&(this.disbursementEntries.list=a._data.data.data,this.disbursementEntries.pagination={first_page:a._data.data.links.first,pages:a._data.data.meta.links,last_page:a._data.data.links.last})}})},async getForPaymentJournalEntries(){this.forPaymentEntries.isLoaded=!0,await s("/api/journal-entry/for-payment-entries",{method:"GET",params:this.forPaymentEntries.params,onRequest:()=>{this.forPaymentEntries.isLoading=!0},onResponse:({response:a})=>{this.forPaymentEntries.isLoading=!1,a.ok&&(this.forPaymentEntries.list=a._data.data.data,this.forPaymentEntries.pagination={first_page:a._data.data.links.first,pages:a._data.data.meta.links,last_page:a._data.data.links.last})}})},async getVoidEntries(){this.voidEntries.isLoaded=!0,await s("/api/journal-entry/void-entries",{method:"GET",params:this.voidEntries.params,onRequest:()=>{this.voidEntries.isLoading=!0},onResponse:({response:a})=>{this.voidEntries.isLoading=!1,a.ok&&(this.voidEntries.list=a._data.data.data,this.voidEntries.pagination={first_page:a._data.data.links.first,pages:a._data.data.meta.links,last_page:a._data.data.links.last})}})},async getPostedEntries(){this.postedEntries.isLoaded=!0,await s("/api/journal-entry/posted-entries",{method:"GET",params:this.postedEntries.params,onRequest:()=>{this.postedEntries.isLoading=!0},onResponse:({response:a})=>{this.postedEntries.isLoading=!1,a.ok&&(this.postedEntries.list=a._data.data.data,this.postedEntries.pagination={first_page:a._data.data.links.first,pages:a._data.data.meta.links,last_page:a._data.data.links.last})}})},async getUnpostedEntries(){this.unpostedEntries.isLoaded=!0,await s("/api/journal-entry/unposted-entries",{method:"GET",params:this.unpostedEntries.params,onRequest:()=>{this.unpostedEntries.isLoading=!0},onResponse:({response:a})=>{this.unpostedEntries.isLoading=!1,a.ok&&(this.unpostedEntries.list=a._data.data.data,this.unpostedEntries.pagination={first_page:a._data.data.links.first,pages:a._data.data.meta.links,last_page:a._data.data.links.last})}})},async getForDisbursementVoucherEntries(){this.forDisbursementVoucherEntries.isLoaded=!0,await s("/api/journal-entry/for-voucher-entries-disbursement",{method:"GET",params:this.forDisbursementVoucherEntries.params,onRequest:()=>{this.forDisbursementVoucherEntries.isLoading=!0},onResponse:({response:a})=>{this.forDisbursementVoucherEntries.isLoading=!1,a.ok&&(this.forDisbursementVoucherEntries.list=a._data.data.data,this.forDisbursementVoucherEntries.pagination={first_page:a._data.data.links.first,pages:a._data.data.meta.links,last_page:a._data.data.links.last})}})},async getForCashVoucherEntries(){this.forCashVoucherEntries.isLoaded=!0,await s("/api/journal-entry/for-voucher-entries-cash",{method:"GET",params:this.forCashVoucherEntries.params,onRequest:()=>{this.forCashVoucherEntries.isLoading=!0},onResponse:({response:a})=>{this.forCashVoucherEntries.isLoading=!1,a.ok&&(this.forCashVoucherEntries.list=a._data.data.data,this.forCashVoucherEntries.pagination={first_page:a._data.data.links.first,pages:a._data.data.meta.links,last_page:a._data.data.links.last})}})},async generateJournalNumber(){await s("/api/journal-entry/generate-journal-number",{method:"GET",onResponse:({response:a})=>{a.ok&&(this.journal.journal_no=a._data.data)}})},reloadResources(){const a=[];this.openEntries.isLoaded&&a.push(this.getOpenEntries),this.paymentRequestEntries.isLoaded&&a.push(this.getPaymentRequestEntries),this.voidEntries.isLoaded&&a.push(this.getVoidEntries),this.postedEntries.isLoaded&&a.push(this.getPostedEntries),this.forDisbursementVoucherEntries.isLoaded&&a.push(this.getForDisbursementVoucherEntries),this.forCashVoucherEntries.isLoaded&&a.push(this.getForCashVoucherEntries),this.$reset(),a.forEach(t=>{t()})}}});export{o as u};
