import{_ as z}from"./SearchProfile.ahiduUkZ.js";import H from"./Icon.CrHlyQOo.js";import{_ as M}from"./LayoutPrint.BjcxelaN.js";import{f as U,s as S,o,h as C,w as N,a as t,t as r,u as e,c as d,F as l,i as g,d as I,j as P,p as B,e as F,_ as j,B as G,g as J,x as $,A as R,b as x}from"./entry.32UGFqj-.js";import{k as Y}from"./Utilities.DofxnkSu.js";import{_ as K}from"./evenpar.CfYVxA5n.js";import{u as q}from"./dtr.D7KnLZZR.js";import{_ as Q}from"./nuxt-link.C5IpI_HT.js";import{_ as W}from"./LayoutBoards.vue.D_rbqYxd.js";import{u as V,A as L}from"./Accessibilities.xGffDRXj.js";import{u as X}from"./search-bar.vue.DimEkj6Y.js";import{_ as Z}from"./AcessContainer.Dum7aOuo.js";import{u as tt}from"./vue.f36acd1f.Ds2AlAv6.js";import"./index.T-zbMaZc.js";import"./id.WqrvI90c.js";import"./client-only.CuVny2dr.js";import"./CustomFetch.ggXvTdIz.js";import"./loader.BQ9QddgL.js";import"./users.G4iuGzk0.js";import"./PsSelectSearch.vue.CT-F0Leg.js";import"./employeeSearch.AgeAeP2j.js";const _=f=>(B("data-v-e8b6d179"),f=f(),F(),f),et={id:"table-to-print",class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},st={class:"text-black pb-2"},ot=_(()=>t("div",{class:"text-center block overflow-hidden"},[t("div",{class:"flex items-center justify-center"},[t("div",{class:"text-lg font-bold mx-auto"},[I(" EVENPAR CONSTRUCTION AND DEVELOPMENT CORPORATION "),t("div",{class:"text-sm text-center indent-4 font-medium"},[t("p",null,"P-1, Poblacion 8, Buenavista, Agusan Del Norte"),t("p",null,"Email add: evenparcorporation@gmail.com"),t("p",null,"DAILY ATTENDANCE/ACCOMPLISHMENT REPORT")])]),t("img",{src:K,alt:"Header Image",class:"w-20 ml-4 justify-end"})])],-1)),rt=_(()=>t("br",null,null,-1)),at={class:"flex justify-between items-center"},dt={class:"text-sm"},ct=_(()=>t("span",{class:"font-bold"},"NAME:",-1)),nt={class:"font-bold"},it=_(()=>t("br",null,null,-1)),lt=_(()=>t("span",{class:"font-bold"},"DESIGNATION:",-1)),_t={class:"font-bold"},mt={class:"text-sm"},pt=_(()=>t("span",{class:"font-bold"},"PERIOD COVERED:",-1)),ut={class:"font-bold"},ht={class:"text-sm"},bt=_(()=>t("span",{class:"font-bold"},"SCHEDULES APPLIED:",-1)),ft={class:"font-bold"},yt={class:"table-auto w-full border-collapse"},gt={class:"bg-gray-900"},vt=_(()=>t("th",{scope:"col",rowspan:"3",class:"text-white p-2 border-solid border border-zinc-700"}," Date ",-1)),kt=_(()=>t("th",{scope:"col",rowspan:"3",class:"text-white p-2 border-solid border border-zinc-700"}," DESIGNATION / PROJECT CODE ",-1)),wt=["colspan"],xt=["colspan"],At=_(()=>t("th",{scope:"col",colspan:"1",rowspan:"2",class:"text-white p-2 border-solid border border-zinc-700"}," Total Hours ",-1)),Tt={scope:"col",colspan:"1",class:"text-white p-2 border-solid border border-zinc-700"},Dt={scope:"col",colspan:"1",class:"text-white p-2 border-solid border border-zinc-700"},Et={scope:"col",colspan:"1",class:"text-white p-2 border-solid border border-zinc-700"},Nt={scope:"col",colspan:"1",class:"text-white p-2 border-solid border border-zinc-700"},It=_(()=>t("th",{scope:"col",colspan:"1",rowspan:"2",class:"text-white p-2 border-solid border border-zinc-700"}," Total Hours ",-1)),Ot={class:"border text-center border-b"},St={class:"p-2"},Ct={class:"p-2"},$t={class:"TimeIn p-2"},Rt={class:"TimeOut p-2"},Ut=_(()=>t("td",{class:"p-2"}," N/A ",-1)),Pt=_(()=>t("td",{class:"p-2"}," N/A ",-1)),qt={class:"p-2"},Vt={class:"p-2"},Lt={class:"p-2"},zt=_(()=>t("td",{class:"p-2"}," N/A ",-1)),Ht=_(()=>t("td",{class:"p-2"}," N/A ",-1)),Mt={class:"p-2"},Bt=U({__name:"AttendanceTable",setup(f){const c=q(),{getEmployeeDTRv2Data:m}=S(c),u=[],v=(n,h)=>!u.includes(n)&&!h?(u.push(n),n):(h&&u.splice(0,u.length),null);return(n,h)=>{const O=M;return o(),C(O,null,{default:N(()=>{var p,b,A,T,D,E;return[t("div",et,[t("div",st,[ot,rt,t("div",at,[t("div",null,[t("p",dt,[ct,t("span",nt,r((p=e(m).data)==null?void 0:p.fullname_last),1),it,lt,t("span",_t,r(((b=e(m).data)==null?void 0:b.current_position)??""),1)])]),t("div",null,[t("p",mt,[pt,t("span",ut,r(("useFormatDateRange"in n?n.useFormatDateRange:e(Y))((A=e(m).data)==null?void 0:A.date_from,(T=e(m).data)==null?void 0:T.date_to)),1)]),t("p",ht,[bt,t("span",ft,r(e(c).dtrUniqueScheduleNamesV2??"NO SCHEDULE FOUND"),1)])])])]),t("table",yt,[t("thead",gt,[t("tr",null,[vt,kt,t("th",{scope:"col",colspan:e(c).dtrUniqueSchedulesV2.length*2+1,class:"text-white p-2 border-solid border border-zinc-700"}," Regular Time ",8,wt),t("th",{scope:"col",colspan:e(c).dtrUniqueOvertimeV2.length*2+1,rowspan:"2",class:"text-white p-2 border-solid border border-zinc-700"}," Overtime ",8,xt)]),t("tr",null,[(o(!0),d(l,null,g(e(c).dtrUniqueSchedulesV2,s=>(o(),d("th",{key:"schedampm"+s,id:"schedampmAM",scope:"col",colspan:"2",class:"text-white p-2 border-solid border border-zinc-700"},r(s.start_time_sched.split(" ")[1]),1))),128)),At]),t("tr",null,[(o(!0),d(l,null,g(e(c).dtrUniqueSchedulesV2,(s,y)=>(o(),d(l,{key:"sched"+y},[t("th",Tt," IN "+r(s.start_time_sched),1),t("th",Dt," OUT "+r(s.end_time_sched),1)],64))),128)),(o(!0),d(l,null,g(e(c).dtrUniqueOvertimeV2,(s,y)=>(o(),d(l,{key:"overtime"+y},[t("th",Et," IN "+r(s.start_time_sched),1),t("th",Nt," OUT "+r(s.end_time_sched),1)],64))),128)),It])]),t("tbody",null,[(D=e(m).data)!=null&&D.dtr?(o(!0),d(l,{key:0},g((E=e(m).data)==null?void 0:E.dtr,(s,y)=>(o(),d(l,{key:y},[t("tr",Ot,[t("td",St,r(y),1),t("td",Ct,r(s.metadata.summary.charging_names),1),(o(!0),d(l,null,g(e(c).dtrUniqueSchedulesV2,i=>{var k,w;return o(),d(l,{key:"sched-data-"+i},[s.metadata.summary.schedules.find(a=>a.start_time_sched===i.start_time_sched&&a.end_time_sched===i.end_time_sched)?(o(),d(l,{key:0},[t("td",$t,r((k=s.metadata.summary.schedules.find(a=>a.start_time_sched===i.start_time_sched&&a.end_time_sched===i.end_time_sched))==null?void 0:k.start_time_log),1),t("td",Rt,r((w=s.metadata.summary.schedules.find(a=>a.start_time_sched===i.start_time_sched&&a.end_time_sched===i.end_time_sched))==null?void 0:w.end_time_log),1)],64)):(o(),d(l,{key:1},[Ut,Pt],64))],64)}),128)),t("td",qt,r(s.metadata.total.reg_hrs),1),(o(!0),d(l,null,g(e(c).dtrUniqueOvertimeV2,i=>{var k,w;return o(),d(l,{key:"overtime-data-"+i},[s.metadata.summary.overtimes.find(a=>a.start_time_sched===i.start_time_sched&&a.end_time_sched===i.end_time_sched)?(o(),d(l,{key:0},[t("td",Vt,r((k=s.metadata.summary.overtimes.find(a=>a.start_time_sched===i.start_time_sched&&a.end_time_sched===i.end_time_sched))==null?void 0:k.start_time_log),1),t("td",Lt,r((w=s.metadata.summary.overtimes.find(a=>a.start_time_sched===i.start_time_sched&&a.end_time_sched===i.end_time_sched))==null?void 0:w.end_time_log),1)],64)):(o(),d(l,{key:1},[zt,Ht],64))],64)}),128)),t("td",Mt,r(s.metadata.total.overtime),1)]),I(" "+r(v("",!0)),1)],64))),128)):P("",!0)])])])]}),_:1})}}}),Ft=j(Bt,[["__scopeId","data-v-e8b6d179"]]),jt={class:"flex w-full mb-4"},Gt={class:"div"},Jt=["onSubmit"],Yt={class:"div"},Kt=t("label",{for:"date_requested",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Date From:",-1),Qt={class:"div"},Wt=t("label",{for:"date_required",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Date To:",-1),Xt={class:"div flex items-end"},Zt={type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 font-medium text-sm px-2.5 py-2 text-center rounded-lg"},te={key:0},ee={__name:"InOut",setup(f){const c=X(),m=q(),{employeeIsSearched:u,information:v}=S(c),{getEmployeeDTRv2Data:n}=S(m),h=G(),O=async()=>{try{n.value.params.employee_id=v.value.id,u.value?(await m.getEmployeeDTRV2(),h.add({type:"success",text:n.value.successMessage})):h.add({type:"warning",text:"Please select a Employee."})}catch(p){h.add({type:"error",text:p})}};return(p,b)=>{const A=H,T=Ft,D=Q,E=W;return o(),C(E,{loading:e(n).isLoading},{default:N(()=>[t("div",jt,[t("div",Gt,[t("form",{class:"w-full grid grid-cols-2 gap-4 md:grid-cols-3 p-2",onSubmit:J(O,["prevent"])},[t("div",Yt,[Kt,$(t("input",{id:"date_requested","onUpdate:modelValue":b[0]||(b[0]=s=>e(n).params.cutoff_start=s),type:"date",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[R,e(n).params.cutoff_start]])]),t("div",Qt,[Wt,$(t("input",{id:"date_required","onUpdate:modelValue":b[1]||(b[1]=s=>e(n).params.cutoff_end=s),type:"date",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[R,e(n).params.cutoff_end]])]),t("div",Xt,[t("button",Zt,[x(A,{name:"ion:search",color:"white",class:"rounded h-7 w-8 p-1"})])])],40,Jt)])]),t("div",null,[x(T)]),("useCheckAccessibility"in p?p.useCheckAccessibility:e(V))([("AccessibilityTypes"in p?p.AccessibilityTypes:e(L)).admin])?(o(),d("p",te,[I(" Having Problems? "),x(D,{to:"/hrms/attendance/dtr",class:"text-blue-500 mouse-pointer"},{default:N(()=>[I(" Try Version 1 ")]),_:1})])):P("",!0)]),_:1},8,["loading"])}}},se={class:"mt-10 md:mt-0 md:flex gap-2"},oe={class:"w-full md:w-1/3"},Te=U({__name:"dtr-v2",setup(f){return tt({title:"Daily Time Record V2",meta:[{name:"description",content:""}]}),(c,m)=>{const u=z,v=ee,n=Z;return o(),C(n,{"if-access":("useCheckAccessibility"in c?c.useCheckAccessibility:e(V))([("AccessibilityTypes"in c?c.AccessibilityTypes:e(L)).hrms_attendance_dtr])},{default:N(()=>[t("div",se,[t("div",oe,[x(u)]),x(v)])]),_:1},8,["if-access"])}}});export{Te as default};
