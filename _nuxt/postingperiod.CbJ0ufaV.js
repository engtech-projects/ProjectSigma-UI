import{u as i}from"./CustomFetch.ggXvTdIz.js";import{l as o}from"./entry.32UGFqj-.js";const n=o("postingPeriodStore",{state:()=>({postingPeriod:{id:null,posting_period_id:null,period_start:null,period_end:null},list:[],pagination:{},getParams:{},errorMessage:"",successMessage:"",isLoading:!1,isEdit:!1}),actions:{async getPostingPeriods(){this.isLoading=!0;const{data:s,error:e}=await i("/api/posting-period",{method:"GET",params:this.getParams,onResponse:({response:t})=>{this.isLoading=!1,this.list=t._data.data.data,this.pagination={first_page:t._data.data.links.first,pages:t._data.data.meta.links,last_page:t._data.data.links.last}}});if(s)return s;if(e)return e},async createPostingPeriod(){this.successMessage="",this.errorMessage="",await i("/api/periods",{method:"POST",body:this.postingPeriod,watch:!1,onResponse:({response:s})=>{s.ok?(this.getPostingPeriods(),this.reset(),this.successMessage=s._data.message):this.errorMessage=s._data.message}})},async editPostingPeriod(){this.successMessage="",this.errorMessage="";const{data:s,error:e}=await i("/api/posting-period/"+this.postingPeriod.id,{method:"PATCH",body:this.postingPeriod,watch:!1});if(s.value)return this.getPostingPeriods(),this.successMessage=s.value.message,s;if(e.value)return this.errorMessage=e.value.data.message,e},async deletePostingPeriod(s){const{data:e,error:t}=await i("/api/posting-period/"+s,{method:"DELETE",body:this.postingPeriod,watch:!1,onResponse:({response:a})=>{this.successMessage=a._data.message}});if(e.value)return this.getPostingPeriods(),this.successMessage=e.value.message,e;if(t.value)return this.errorMessage="Error",t},reset(){this.postingPeriod={id:null,posting_period_id:null,period_start:null,period_end:null},this.successMessage="",this.errorMessage=""}}});export{n as u};
