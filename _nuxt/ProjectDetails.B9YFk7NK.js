import{_ as W}from"./LoadScreen.Ckg45_qm.js";import Ft from"./Icon.CrHlyQOo.js";import{o as i,c as f,a as t,t as l,j as A,f as O,r as R,h as S,w as C,u as e,b as _,G as zt,C as G,B as H,F as U,i as V,x,v as Jt,aE as Kt,A as v,aA as Yt,H as qt,g as Zt,y as Xt,_ as Dt,ax as Qt,d as Vt,R as te,E as ee}from"./entry.32UGFqj-.js";import{_ as re,a as se,b as oe}from"./MainContainer.Do3EBfoz.js";import{_ as Ht}from"./PsButton.Cqg1ndZS.js";import{_ as ae,a as de,b as le}from"./SummaryOfBid.vue.CjaAtsWE.js";import{_ as ce}from"./ModalContainer.C773N-tg.js";import{c as Q}from"./enums.DZVv3ml5.js";import{u as ne,g as Gt,a as ie}from"./Utilities.DofxnkSu.js";import{u as N}from"./projects.BWwh_Xrk.js";import{_ as be}from"./FormSignatory.BMtK-lzR.js";import{_ as Wt}from"./LayoutPrintAdvanced.BMLOtvVg.js";import{e as ue,F as pe}from"./FileSaver.min.B12ME4da.js";import{u as I,A as L}from"./Accessibilities.xGffDRXj.js";const me={class:"flex flex-col gap-3"},ge={class:"flex items-first gap-1"},_e={class:"text-black uppercase font-semibold text-lg"},fe={class:"flex flex-col mb-8"},he={class:"flex items-start gap-4"},ye=t("span",{class:"text-gray-500 uppercase w-[140px] text-text-left block font-medium whitespace-nowrap"}," Contract ID: ",-1),xe={class:"text-black text-md uppercase flex-1 font-semibold"},we={class:"flex items-end gap-4"},ve=t("span",{class:"text-gray-500 uppercase w-[140px] text-text-left whitespace-nowrap"}," Project Name: ",-1),Ce={class:"text-black text-md flex-1 font-semibold"},Ae={key:0,class:"flex items-end gap-4"},ke=t("span",{class:"text-gray-500 uppercase w-[140px] text-text-left whitespace-nowrap"}," Project Code: ",-1),Te={class:"text-black text-md uppercase flex-1 font-semibold"},Se={class:"flex items-end gap-4"},$e=t("span",{class:"text-gray-500 uppercase w-[140px] text-text-left"}," Location: ",-1),Me={class:"text-black text-md flex-1 font-semibold"},Ee={class:"flex items-end gap-4"},Re=t("span",{class:"text-gray-500 uppercase w-[140px] text-text-left whitespace-nowrap"}," License: ",-1),Oe={class:"text-black text-md flex-1 font-semibold"},Ne={key:1,class:"flex items-center gap-4"},Pe=t("span",{class:"text-gray-500 uppercase w-[140px] text-text-left"}," Stage Status: ",-1),Ue={class:"text-black text-md uppercase flex-1 font-semibold"},Ie={__name:"informationProject",props:{label:{type:String,required:!1,default:"Project Information"},contractId:{type:String,required:!1,default:null},code:{type:String,required:!1,default:null},name:{type:String,required:!1,default:null},location:{type:String,required:!1,default:null},license:{type:String,required:!1,default:null},stageStatus:{type:String,required:!1,default:null}},setup(u){return(r,p)=>(i(),f("div",null,[t("div",me,[t("div",ge,[t("h1",_e,l(u.label),1)]),t("div",fe,[t("div",he,[ye,t("span",xe,l(u.contractId??"No project yet."),1)]),t("div",we,[ve,t("span",Ce,l(u.name),1)]),u.code?(i(),f("div",Ae,[ke,t("span",Te,l(u.code),1)])):A("",!0),t("div",Se,[$e,t("span",Me,l(u.location),1)]),t("div",Ee,[Re,t("span",Oe,l(u.license),1)]),u.stageStatus?(i(),f("div",Ne,[Pe,t("span",Ue,l(u.stageStatus==="generate_to_tss"?"Generate To TSS":u.stageStatus),1)])):A("",!0)])])]))}},Le={key:0,class:"bg-white w-full p-4 transition-transform scale-100 max-h-[80vh] overflow-y-auto"},je=t("h2",{class:"text-xl font-semibold text-gray-800 mb-4"}," Confirm Stage Update ",-1),Be={key:0,class:"w-full"},Fe={class:"text-gray text-600 text-xl mb-6 py-4"},qe=O({__name:"StageTransitionConfirmationModal",props:{showModal:{type:Boolean,required:!0,default:!1},stage:{type:String,required:!0,default:""}},emits:["hideModal","update-stage"],setup(u,{emit:r}){const p=R(!1);return(c,a)=>{const g=ae,o=ce;return i(),S(o,{show:u.showModal,local:!0,header:!1,bg:"bg-gray-50",size:"modal-md",onHide:a[2]||(a[2]=s=>r("hideModal"))},{default:C(()=>[e(p)?A("",!0):(i(),f("div",Le,[je,u.stage==="generate_to_tss"?(i(),f("div",Be,[_(g)])):A("",!0),t("p",Fe," Are you sure you want to update the stage to "+l(u.stage)+"? ",1),t("div",{class:zt(["flex justify-end space-x-4 bottom-0 bg-white pt-4",u.stage==="generate_to_tss"?"sticky":""])},[t("button",{class:"px-8 py-2 text-sm font-medium rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition",onClick:a[0]||(a[0]=s=>c.$emit("hideModal"))}," No "),t("button",{class:"px-8 py-2 text-sm font-medium rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition",onClick:a[1]||(a[1]=s=>c.$emit("update-stage"))}," Yes ")],2)]))]),_:1},8,["show"])}}}),De=O({__name:"ProjectStageButton",props:{stage:{type:String,default:""}},emits:["updating-stage","update-success"],setup(u,{emit:r}){const p=u,c=N(),a=G(()=>{const d=Q.stages.findIndex(h=>h.toLowerCase()===p.stage.toLowerCase());return!(d===Q.stages.length-1)&&d!==-1?Q.stages[d+1]:""}),g=H(),o=R(!1),s=async()=>{var d;o.value=!1,r("updating-stage");try{if(!((d=c.information)!=null&&d.id)||!(a!=null&&a.value))throw new Error("Missing project ID or stage value");await c.updateProjectStage(c.information.id,a.value),c.errorMessage!==""?g.add({type:"error",text:c.errorMessage}):(g.add({type:"success",text:c.successMessage}),r("update-success")),await c.getProject(c.information.id)}catch(b){g.add({type:"error",text:b instanceof Error?b.message:String(b)})}finally{c.clearMessages()}},n=d=>({generate_to_tss:"Generate To TSS",awarded:"Awarded",draft:"Draft",proposal:"Proposal",bidding:"Bidding",archived:"Archived"})[d.toLowerCase()]||null;return(d,b)=>{const h=Ht,y=qe;return i(),f(U,null,[_(h,{"button-title":"Proceed to "+("upperFirst"in d?d.upperFirst:e(ne))(n(e(a))),onClick:b[0]||(b[0]=w=>o.value=!0)},null,8,["button-title"]),_(y,{"show-modal":e(o),stage:e(a),onUpdateStage:s,onHideModal:b[1]||(b[1]=w=>o.value=!1)},null,8,["show-modal","stage"])],64)}}}),Qe={class:"max-w-4xl mx-auto"},Ve=t("div",{class:"text-center mb-8"},[t("p",{class:"text-sm font-bold"}," Department of Public Works and Highways ")],-1),He={class:"grid grid-cols-2 gap-4 mb-8"},Ge=t("div",null,[t("p",{class:"text-sm"}," Contract ID "),t("p",{class:"text-sm"}," Contract Name "),t("p",{class:"text-sm"}," Contract Location ")],-1),We={class:"font-bold"},ze={class:"text-sm"},Je={class:"text-sm"},Ke={class:"text-sm"},Ye=t("p",{class:"text-lg font-bold text-center uppercase mb-8"}," SUMMARY OF RATES ",-1),Ze={class:"text-center mb-8"},Xe={class:"text-base font-bold uppercase"},tr={class:"space-y-1 text-sm"},er={class:"flex justify-between items-center"},rr={class:"flex items-center text-sm gap-4 mt-16"},sr=t("span",null,"DATE:",-1),or={class:"underline"},ar=O({__name:"SummaryofRates",setup(u){const r=N();return(p,c)=>{var g,o,s,n,d,b;const a=be;return i(),f("div",Qe,[Ve,t("div",He,[Ge,t("div",We,[t("p",ze,l(((g=e(r).information)==null?void 0:g.contract_id)??"N/A"),1),t("p",Je,l(((o=e(r).information)==null?void 0:o.name)??"N/A"),1),t("p",Ke,l(((s=e(r).information)==null?void 0:s.location)??"N/A"),1)])]),Ye,(i(!0),f(U,null,V(((n=e(r).information)==null?void 0:n.summary_of_rates)??[],(h,y)=>(i(),f("div",{key:y},[t("div",Ze,[t("p",Xe," COST OF "+l(y),1)]),t("div",tr,[(i(!0),f(U,null,V(h,(w,T)=>(i(),f("div",{key:T,class:"flex justify-between"},[t("span",null,l(T),1),t("span",null,l(w.resource_name),1)]))),128))])]))),128)),t("div",er,[_(a,{class:"mt-16",label:"Submitted By",align:"left",signatory:{name:"Angel A. Abrau",title:"Authorized Managing Officer",subtitle:(d=e(r).information)==null?void 0:d.license}},null,8,["signatory"]),t("div",rr,[sr,t("span",or,l(("fullDate"in p?p.fullDate:e(Gt))(new Date((b=e(r).information)==null?void 0:b.contract_date))),1)])])])}}}),dr=t("h1",{class:"text-2xl text-black uppercase font-semibold text-center mb-6"}," Summary of Rates ",-1),lr={class:"text-gray-500 uppercase text-md text-center"},cr={class:"flex flex-col border-t border-blue-500 border-dashed p-2"},nr={class:"w-3/12"},ir=["onDblclick"],br=["onKeyup"],ur={key:1,class:"flex-1 text-right"},pr=t("span",{class:"flex-1 text-center"},"/",-1),mr={class:"flex-1 text-left"},gr=O({__name:"SummaryOfRates",setup(u){const r=N(),p=R(null),c=R(0),a=d=>{d.target.tagName!=="INPUT"&&(p.value=null)},g=(d,b,h)=>{p.value=b,c.value=h.unit_cost,Yt(()=>{const w=d.currentTarget.querySelector("input");w&&(w.focus(),w.select())})},o=R(!1),s=H(),n=async d=>{if(c.value)try{o.value=!0,await r.editRates({ids:d.ids,unit_cost:c.value}),s.add({type:"success",text:r.successMessage})}catch{s.add({type:"error",text:r.errorMessage||"something went wrong."})}finally{d.unit_cost=c.value,o.value=!1,p.value=null}else c.value=d.unit_cost};return(d,b)=>{const h=W,y=ar,w=Wt;return i(),S(w,null,{"system-layout":C(()=>{var T;return[t("div",{class:"flex flex-col",onClick:b[1]||(b[1]=E=>a(E))},[_(h,{"is-loading":e(o)},null,8,["is-loading"]),dr,(i(!0),f(U,null,V(((T=e(r).information)==null?void 0:T.summary_of_rates)??[],(E,P)=>(i(),f("div",{key:P,class:"flex flex-col gap-2"},[t("h3",lr," Cost of "+l(P),1),t("div",cr,[t("table",null,[t("tbody",null,[(i(!0),f(U,null,V(E,($,M)=>(i(),f("tr",{key:M},[t("td",null,l(M),1),t("td",nr,[t("div",{class:"flex flex-between w-full",onDblclick:k=>g(k,M,$)},[e(p)===M?x((i(),f("input",{key:0,"onUpdate:modelValue":b[0]||(b[0]=k=>Jt(c)?c.value=k:null),type:"number",class:"border-0 bg-gray-100 h-7 w-24 text-right",onKeyup:Kt(k=>n($),["enter"])},null,40,br)),[[v,e(c)]]):(i(),f("span",ur,l(("accountingCurrency"in d?d.accountingCurrency:e(ie))($.unit_cost)),1)),pr,t("span",mr,l($.unit),1)],40,ir)])]))),128))])])])]))),128))])]}),"print-layout":C(()=>[_(y)]),_:1})}}}),_r={class:"max-w-4xl mx-auto"},fr={class:"text-center mb-8"},hr={class:"text-sm font-bold"},yr={class:"grid grid-cols-2 gap-4 mb-8 text-sm"},xr=t("div",null,[t("p",null,"Contract ID"),t("p",null,"Contract Name"),t("p",null,"Contract Location")],-1),wr={class:"font-bold"},vr=t("div",{class:"text-center mb-8"},[t("p",{class:"text-lg font-bold uppercase"}," CASH FLOW BY QUARTER AND PAYMENT SCHEDULE ")],-1),Cr={class:"table-auto w-full border border-black table-collapse text-sm mb-12"},Ar=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"p-2 border border-black text-left"}," PARTICULAR "),t("th",{class:"p-2 border border-black text-center"}," %WT "),t("th",{class:"p-2 border border-black text-center"}," 1ST QUARTER "),t("th",{class:"p-2 border border-black text-center"}," 2ND QUARTER "),t("th",{class:"p-2 border border-black text-center"}," 3RD QUARTER "),t("th",{class:"p-2 border border-black text-center"}," 4TH QUARTER ")])],-1),kr={class:"p-2 border border-black uppercase"},Tr={class:"p-2 border border-black text-center"},Sr={class:"p-2 border border-black text-center"},$r={class:"p-2 border border-black text-center"},Mr={class:"p-2 border border-black text-center"},Er={class:"p-2 border border-black text-center"},Rr={class:"flex flex-col gap-0 text-sm"},Or=t("span",{clas:""}," Submitted by: ",-1),Nr={class:"grid grid-cols-10 gap-1 mt-10 mb-4"},Pr=qt('<span class="col-span-2"> Name: </span><span class="col-span-8 font-bold underline"> ANGEL A. ABRAU </span><span class="col-span-2"> Position: </span><span class="col-span-8"> Authorized Managing Officer </span><span class="col-span-2"> Name of the Bidder: </span><span class="col-span-8"> ME3 CONSTRUCTION / EVENPAR CONSTRUCTION AND DEVELOPMENT CORPORATION (JOINT VENTURE) </span><span class="col-span-2"> Date: </span>',7),Ur={class:"col-span-8"},Ir=t("div",{class:"border-b border-black mb-2"},null,-1),Lr=t("div",{class:"flex justify-between items-end text-xs"},[t("p",null,"DPWH-INFR-19-2016"),t("p",null,"PAGE 1 OF 1")],-1),jr=O({__name:"CashFlow",setup(u){const r=N(),p=G(()=>{var g;const c=[],a=(g=r.information)==null?void 0:g.cash_flow;if(a!=null&&a.q1&&typeof a.q1=="object"){for(const o in a.q1)c.push({name:o,values:{}});for(const o in c){const s=c[o];for(const n in a)if(a[n]&&typeof a[n]=="object")for(const d in a[n])s.name===d&&(s.values[n]=a[n][d])}}return c});return(c,a)=>{var g,o,s,n;return i(),f("div",_r,[t("div",fr,[t("p",hr,l(((g=e(r).information)==null?void 0:g.license)??"N/A"),1)]),t("div",yr,[xr,t("div",wr,[t("p",null,l(((o=e(r).information)==null?void 0:o.id)??"N/A"),1),t("p",null,l(((s=e(r).information)==null?void 0:s.name)??"N/A"),1),t("p",null,l(((n=e(r).information)==null?void 0:n.location)??"N/A"),1)])]),vr,t("table",Cr,[Ar,t("tbody",null,[(i(!0),f(U,null,V(e(p)??[],d=>(i(),f("tr",{key:d.name},[t("td",kr,l(d.name),1),t("td",Tr,l(d.values.wt)+" % ",1),t("td",Sr,l(d.values.q1)+" % ",1),t("td",$r,l(d.values.q2)+" % ",1),t("td",Mr,l(d.values.q3)+" % ",1),t("td",Er,l(d.values.q4)+" % ",1)]))),128))])]),t("div",Rr,[Or,t("div",Nr,[Pr,t("span",Ur,l(("fullDate"in c?c.fullDate:e(Gt))(new Date)),1)])]),Ir,Lr])}}}),Br=O({__name:"ExcelCashFlow",props:{data:{type:Object,required:!0}},setup(u){const r=u;async function p(){const o=new ue.Workbook,s=o.addWorksheet("Cash Flow");s.mergeCells("A1:H1"),s.getCell("A1").value="ME3 CONSTRUCTION/EVENPAR CONSTRUCTION AND DEVELOPMENT CORPORATION (JOINT VENTURE)",s.getCell("A1").alignment={horizontal:"center"},s.getCell("A1").font={bold:!0},s.getCell("A3").value="Contract ID",s.getCell("B3").value=r.data.contract_id,s.getCell("B3").font={bold:!0},s.getCell("A4").value="Contract Name",s.getCell("B4").value=r.data.name,s.getCell("B4").font={bold:!0},s.getCell("A5").value="Contract Location",s.getCell("B5").value=r.data.location,s.getCell("B5").font={bold:!0},s.mergeCells("A7:H7"),s.getCell("A7").value="CASH FLOW BY QUARTER AND PAYMENT SCHEDULE",s.addRow([]),s.getCell("A7").alignment={horizontal:"center"},s.getCell("A7").font={bold:!0};const n=["PARTICULAR","%WT","1ST QUARTER","2ND QUARTER","3RD QUARTER","4TH QUARTER"];s.addRow(n),s.getRow(9).eachCell(h=>{h.font={bold:!0},h.alignment={horizontal:"left",vertical:"middle"},h.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},h.fill={type:"pattern",pattern:"solid",fgColor:{argb:"D9D9D9"}}}),s.addRows(a.value),s.eachRow((h,y)=>{y>=10&&h.eachCell(w=>{w.alignment={horizontal:"left",vertical:"middle"},w.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),s.getCell("A15").value="Submitted by:",s.getCell("A17").value="Name:",s.getCell("B17").value="ANGEL A. ABRAU",s.getCell("B17").font={bold:!0},s.getCell("A18").value="Position:",s.getCell("B18").value="Authorized Managing Officer",s.getCell("A19").value="Name of the Bidder:",s.getCell("B19").value="ME3 CONSTRUCTION / EVENPAR CONSTRUCTION AND DEVELOPMENT CORPORATION (JOINT VENTURE)",s.getCell("A20").value="Date:",s.getCell("B20").value="August 21, 2025",g(s);const b=await o.xlsx.writeBuffer();pe.saveAs(new Blob([b]),"CashFlow.xlsx")}const c=G(()=>{const o=[],s=r.data.cash_flow;if(s!=null&&s.q1&&typeof s.q1=="object"){for(const n in s.q1)o.push({name:n,values:{}});for(const n in o){const d=o[n];for(const b in s)if(s[b]&&typeof s[b]=="object")for(const h in s[b])d.name===h&&(d.values[b]=s[b][h])}}return o}),a=G(()=>{const o=[];return c.value.forEach(s=>{o.push([s.name.toUpperCase().replace("_"," "),s.values.wtax??"0 %",s.values.q1??"0 %",s.values.q2??"0 %",s.values.q3??"0 %",s.values.q4??"0 %"])}),o});function g(o){o.columns.forEach(s=>{let n=10;s.eachCell({includeEmpty:!0},d=>{const b=d.value?d.value.toString():"";n=Math.max(n,b.length)}),s.width=n+2})}return(o,s)=>{const n=Ht;return i(),S(n,{"button-title":"Export to Excel","button-icon":"mdi:file-excel-outline",onClick:p})}}}),Fr={class:"p-4 mx-auto"},qr=t("h1",{class:"text-2xl font-bold mb-4 text-center"}," CASHFLOW BY QUARTER AND PAYMENT SCHEDULE ",-1),Dr={class:"w-full border-collapse border border-gray-300 mb-8"},Qr=t("thead",null,[t("tr",null,[t("th",{class:"border border-gray-300 p-2 font-semibold"}," PARTICULAR "),t("th",{class:"border border-gray-300 p-2 font-semibold"}," %WT "),t("th",{class:"border border-gray-300 p-2 font-semibold"}," 1ST QUARTER "),t("th",{class:"border border-gray-300 p-2 font-semibold"}," 2ND QUARTER "),t("th",{class:"border border-gray-300 p-2 font-semibold"}," 3RD QUARTER "),t("th",{class:"border border-gray-300 p-2 font-semibold"}," 4TH QUARTER ")])],-1),Vr=t("td",{class:"border border-gray-300 p-2"}," ACCOMPLISHMENT ",-1),Hr={class:"border border-gray-300 p-2 text-right"},Gr={class:"border border-gray-300 p-2 text-right"},Wr={class:"border border-gray-300 p-2 text-right"},zr={class:"border border-gray-300 p-2 text-right"},Jr={class:"border border-gray-300 p-2 text-right"},Kr=t("td",{class:"border border-gray-300 p-2"}," CASH FLOW ",-1),Yr={class:"border border-gray-300 p-2 text-right"},Zr={class:"border border-gray-300 p-2 text-right"},Xr={class:"border border-gray-300 p-2 text-right"},ts={class:"border border-gray-300 p-2 text-right"},es={class:"border border-gray-300 p-2 text-right"},rs=t("td",{class:"border border-gray-300 p-2"}," CUMULATIVE ACCOMPLISHMENT ",-1),ss={class:"border border-gray-300 p-2 text-right"},os={class:"border border-gray-300 p-2 text-right"},as={class:"border border-gray-300 p-2 text-right"},ds={class:"border border-gray-300 p-2 text-right"},ls={class:"border border-gray-300 p-2 text-right"},cs=t("td",{class:"border border-gray-300 p-2"}," CUMULATIVE CASH FLOW ",-1),ns={class:"border border-gray-300 p-2 text-right"},is={class:"border border-gray-300 p-2 text-right"},bs={class:"border border-gray-300 p-2 text-right"},us={class:"border border-gray-300 p-2 text-right"},ps={class:"border border-gray-300 p-2 text-right"},ms=["onSubmit"],gs={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},_s={class:"border border-gray-300 p-4"},fs=t("h3",{class:"font-bold mb-2 text-4xl"}," Q1 ",-1),hs={class:"mb-2"},ys=t("label",{class:"block text-sm font-medium text-gray-700"},"ACCOMPLISHMENT",-1),xs={class:"mb-2"},ws=t("label",{class:"block text-sm font-medium text-gray-700"},"CASH FLOW",-1),vs={class:"mb-2"},Cs=t("label",{class:"block text-sm font-medium text-gray-700"},"CUMULATIVE ACCOMPLISHMENT",-1),As={class:"mb-2"},ks=t("label",{class:"block text-sm font-medium text-gray-700"},"CUMULATIVE CASHFLOW",-1),Ts={class:"border border-gray-300 p-4"},Ss=t("h3",{class:"font-bold mb-2 text-4xl"}," Q2 ",-1),$s={class:"mb-2"},Ms=t("label",{class:"block text-sm font-medium text-gray-700"},"ACCOMPLISHMENT",-1),Es={class:"mb-2"},Rs=t("label",{class:"block text-sm font-medium text-gray-700"},"CASH FLOW",-1),Os={class:"mb-2"},Ns=t("label",{class:"block text-sm font-medium text-gray-700"},"CUMULATIVE ACCOMPLISHMENT",-1),Ps={class:"mb-2"},Us=t("label",{class:"block text-sm font-medium text-gray-700"},"CUMULATIVE CASHFLOW",-1),Is={class:"border border-gray-300 p-4"},Ls=t("h3",{class:"font-bold mb-2 text-4xl"}," Q3 ",-1),js={class:"mb-2"},Bs=t("label",{class:"block text-sm font-medium text-gray-700"},"ACCOMPLISHMENT",-1),Fs={class:"mb-2"},qs=t("label",{class:"block text-sm font-medium text-gray-700"},"CASH FLOW",-1),Ds={class:"mb-2"},Qs=t("label",{class:"block text-sm font-medium text-gray-700"},"CUMULATIVE ACCOMPLISHMENT",-1),Vs={class:"mb-2"},Hs=t("label",{class:"block text-sm font-medium text-gray-700"},"CUMULATIVE CASHFLOW",-1),Gs={class:"border border-gray-300 p-4"},Ws=t("h3",{class:"font-bold mb-2 text-4xl"}," Q4 ",-1),zs={class:"mb-2"},Js=t("label",{class:"block text-sm font-medium text-gray-700"},"ACCOMPLISHMENT",-1),Ks={class:"mb-2"},Ys=t("label",{class:"block text-sm font-medium text-gray-700"},"CASH FLOW",-1),Zs={class:"mb-2"},Xs=t("label",{class:"block text-sm font-medium text-gray-700"},"CUMULATIVE ACCOMPLISHMENT",-1),to={class:"mb-2"},eo=t("label",{class:"block text-sm font-medium text-gray-700"},"CUMULATIVE CASHFLOW",-1),ro=t("div",{class:"flex justify-end my-8"},[t("button",{type:"submit",class:"flex justify-end items-center text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Save Cashflow Schedule ")],-1),so={__name:"CashFlow",setup(u){const r=N(),p=H(),c=R(!1),a=async()=>{try{c.value=!0,await r.updateCashFlow(),r.errorMessage!==""&&p.add({type:"error",text:r.errorMessage})}catch(g){p.add({type:"error",text:g.message||"An error occurred while updating cash flow."})}finally{c.value=!1}};return(g,o)=>{const s=W,n=jr,d=Wt,b=Br;return i(),f(U,null,[_(d,null,{"system-layout":C(()=>{var h,y,w,T,E,P,$,M,k,j,B,F,q,D,z,J,K,Y,Z,X,tt,et,rt,st,ot,at,dt,lt,ct,nt,it,bt,ut,pt,mt,gt,_t,ft,ht,yt,xt,wt,vt,Ct,At,kt,Tt,St,$t,Mt,Et,Rt,Ot,Nt,Pt,Ut,It,Lt,jt,Bt;return[_(s,{class:"z-50","is-loading":e(c)},null,8,["is-loading"]),t("div",Fr,[qr,t("table",Dr,[Qr,t("tbody",null,[t("tr",null,[Vr,t("td",Hr,l(((w=(y=(h=e(r).information)==null?void 0:h.cash_flow)==null?void 0:y.wtax)==null?void 0:w.accomplishment)??"-")+"% ",1),t("td",Gr,l(((P=(E=(T=e(r).information)==null?void 0:T.cash_flow)==null?void 0:E.q1)==null?void 0:P.accomplishment)??"-")+"% ",1),t("td",Wr,l(((k=(M=($=e(r).information)==null?void 0:$.cash_flow)==null?void 0:M.q2)==null?void 0:k.accomplishment)??"-")+"% ",1),t("td",zr,l(((F=(B=(j=e(r).information)==null?void 0:j.cash_flow)==null?void 0:B.q3)==null?void 0:F.accomplishment)??"-")+"% ",1),t("td",Jr,l(((z=(D=(q=e(r).information)==null?void 0:q.cash_flow)==null?void 0:D.q4)==null?void 0:z.accomplishment)??"-")+"% ",1)]),t("tr",null,[Kr,t("td",Yr,l(((Y=(K=(J=e(r).information)==null?void 0:J.cash_flow)==null?void 0:K.wtax)==null?void 0:Y.cash_flow)??"-")+"% ",1),t("td",Zr,l(((tt=(X=(Z=e(r).information)==null?void 0:Z.cash_flow)==null?void 0:X.q1)==null?void 0:tt.cash_flow)??"-")+"% ",1),t("td",Xr,l(((st=(rt=(et=e(r).information)==null?void 0:et.cash_flow)==null?void 0:rt.q2)==null?void 0:st.cash_flow)??"-")+"% ",1),t("td",ts,l(((dt=(at=(ot=e(r).information)==null?void 0:ot.cash_flow)==null?void 0:at.q3)==null?void 0:dt.cash_flow)??"-")+"% ",1),t("td",es,l(((nt=(ct=(lt=e(r).information)==null?void 0:lt.cash_flow)==null?void 0:ct.q4)==null?void 0:nt.cash_flow)??"-")+"% ",1)]),t("tr",null,[rs,t("td",ss,l(((ut=(bt=(it=e(r).information)==null?void 0:it.cash_flow)==null?void 0:bt.wtax)==null?void 0:ut.cumulative_accomplishment)??"-")+"% ",1),t("td",os,l(((gt=(mt=(pt=e(r).information)==null?void 0:pt.cash_flow)==null?void 0:mt.q1)==null?void 0:gt.cumulative_accomplishment)??"-")+"% ",1),t("td",as,l(((ht=(ft=(_t=e(r).information)==null?void 0:_t.cash_flow)==null?void 0:ft.q2)==null?void 0:ht.cumulative_accomplishment)??"-")+"% ",1),t("td",ds,l(((wt=(xt=(yt=e(r).information)==null?void 0:yt.cash_flow)==null?void 0:xt.q3)==null?void 0:wt.cumulative_accomplishment)??"-")+"% ",1),t("td",ls,l(((At=(Ct=(vt=e(r).information)==null?void 0:vt.cash_flow)==null?void 0:Ct.q4)==null?void 0:At.cumulative_accomplishment)??"-")+"% ",1)]),t("tr",null,[cs,t("td",ns,l(((St=(Tt=(kt=e(r).information)==null?void 0:kt.cash_flow)==null?void 0:Tt.wtax)==null?void 0:St.cumulative_cash_flow)??"-")+"% ",1),t("td",is,l(((Et=(Mt=($t=e(r).information)==null?void 0:$t.cash_flow)==null?void 0:Mt.q1)==null?void 0:Et.cumulative_cash_flow)??"-")+"% ",1),t("td",bs,l(((Nt=(Ot=(Rt=e(r).information)==null?void 0:Rt.cash_flow)==null?void 0:Ot.q2)==null?void 0:Nt.cumulative_cash_flow)??"-")+"% ",1),t("td",us,l(((It=(Ut=(Pt=e(r).information)==null?void 0:Pt.cash_flow)==null?void 0:Ut.q3)==null?void 0:It.cumulative_cash_flow)??"-")+"% ",1),t("td",ps,l(((Bt=(jt=(Lt=e(r).information)==null?void 0:Lt.cash_flow)==null?void 0:jt.q4)==null?void 0:Bt.cumulative_cash_flow)??"-")+"% ",1)])])]),x(t("form",{onSubmit:Zt(a,["prevent"])},[t("div",gs,[t("div",_s,[fs,t("div",hs,[ys,x(t("input",{"onUpdate:modelValue":o[0]||(o[0]=m=>e(r).cashFlowByQuarter.cash_flow.q1.accomplishment=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Percentage"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q1.accomplishment]])]),t("div",xs,[ws,x(t("input",{"onUpdate:modelValue":o[1]||(o[1]=m=>e(r).cashFlowByQuarter.cash_flow.q1.cash_flow=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Cashflow"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q1.cash_flow]])]),t("div",vs,[Cs,x(t("input",{"onUpdate:modelValue":o[2]||(o[2]=m=>e(r).cashFlowByQuarter.cash_flow.q1.cumulative_accomplishment=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Percentage"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q1.cumulative_accomplishment]])]),t("div",As,[ks,x(t("input",{"onUpdate:modelValue":o[3]||(o[3]=m=>e(r).cashFlowByQuarter.cash_flow.q1.cumulative_cash_flow=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Cashflow"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q1.cumulative_cash_flow]])])]),t("div",Ts,[Ss,t("div",$s,[Ms,x(t("input",{"onUpdate:modelValue":o[4]||(o[4]=m=>e(r).cashFlowByQuarter.cash_flow.q2.accomplishment=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Percentage"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q2.accomplishment]])]),t("div",Es,[Rs,x(t("input",{"onUpdate:modelValue":o[5]||(o[5]=m=>e(r).cashFlowByQuarter.cash_flow.q2.cash_flow=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Cashflow"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q2.cash_flow]])]),t("div",Os,[Ns,x(t("input",{"onUpdate:modelValue":o[6]||(o[6]=m=>e(r).cashFlowByQuarter.cash_flow.q2.cumulative_accomplishment=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Percentage"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q2.cumulative_accomplishment]])]),t("div",Ps,[Us,x(t("input",{"onUpdate:modelValue":o[7]||(o[7]=m=>e(r).cashFlowByQuarter.cash_flow.q2.cumulative_cash_flow=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Cashflow"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q2.cumulative_cash_flow]])])]),t("div",Is,[Ls,t("div",js,[Bs,x(t("input",{"onUpdate:modelValue":o[8]||(o[8]=m=>e(r).cashFlowByQuarter.cash_flow.q3.accomplishment=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Percentage"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q3.accomplishment]])]),t("div",Fs,[qs,x(t("input",{"onUpdate:modelValue":o[9]||(o[9]=m=>e(r).cashFlowByQuarter.cash_flow.q3.cash_flow=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Cashflow"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q3.cash_flow]])]),t("div",Ds,[Qs,x(t("input",{"onUpdate:modelValue":o[10]||(o[10]=m=>e(r).cashFlowByQuarter.cash_flow.q3.cumulative_accomplishment=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Percentage"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q3.cumulative_accomplishment]])]),t("div",Vs,[Hs,x(t("input",{"onUpdate:modelValue":o[11]||(o[11]=m=>e(r).cashFlowByQuarter.cash_flow.q3.cumulative_cash_flow=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Cashflow"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q3.cumulative_cash_flow]])])]),t("div",Gs,[Ws,t("div",zs,[Js,x(t("input",{"onUpdate:modelValue":o[12]||(o[12]=m=>e(r).cashFlowByQuarter.cash_flow.q4.accomplishment=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Percentage"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q4.accomplishment]])]),t("div",Ks,[Ys,x(t("input",{"onUpdate:modelValue":o[13]||(o[13]=m=>e(r).cashFlowByQuarter.cash_flow.q4.cash_flow=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Cashflow"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q4.cash_flow]])]),t("div",Zs,[Xs,x(t("input",{"onUpdate:modelValue":o[14]||(o[14]=m=>e(r).cashFlowByQuarter.cash_flow.q4.cumulative_accomplishment=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Percentage"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q4.cumulative_accomplishment]])]),t("div",to,[eo,x(t("input",{"onUpdate:modelValue":o[15]||(o[15]=m=>e(r).cashFlowByQuarter.cash_flow.q4.cumulative_cash_flow=m),type:"number",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Cashflow"},null,512),[[v,e(r).cashFlowByQuarter.cash_flow.q4.cumulative_cash_flow]])])])]),ro],40,ms),[[Xt,!e(r).viewState]])])]}),"print-layout":C(()=>[_(n)]),_:1}),_(b,{data:e(r).information,class:"mt-4"},null,8,["data"])],64)}}},oo={},ao={class:"mx-auto"},lo=qt('<h1 class="text-2xl font-bold text-center mb-4"> BILL OF MATERIALS </h1><p class="text-center mb-2"> Revision Original </p><table class="w-full border-collapse border border-gray-300"><thead><tr class="bg-gray-100"><th class="border border-gray-300 p-2 text-left"> ITEM </th><th class="border border-gray-300 p-2 text-left"> Unit </th><th class="border border-gray-300 p-2 text-left"> Original Quantity </th><th class="border border-gray-300 p-2 text-left"> Revised Quantity </th></tr></thead><tbody><tr><td class="border border-gray-300 p-2"> Cement </td><td class="border border-gray-300 p-2"> bag(s) </td><td class="border border-gray-300 p-2"> 12,065 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> G-1 </td><td class="border border-gray-300 p-2"> cu.m </td><td class="border border-gray-300 p-2"> 246 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Fine Sand </td><td class="border border-gray-300 p-2"> cu.m </td><td class="border border-gray-300 p-2"> 835 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> 3/4 Gravel </td><td class="border border-gray-300 p-2"> cu.m </td><td class="border border-gray-300 p-2"> 846 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Mountain Mix </td><td class="border border-gray-300 p-2"> cu.m </td><td class="border border-gray-300 p-2"> 10,524 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> River Mix </td><td class="border border-gray-300 p-2"> cu.m </td><td class="border border-gray-300 p-2"> 388 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Boulders </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 906 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Curing Compound </td><td class="border border-gray-300 p-2"> drum(s) </td><td class="border border-gray-300 p-2"> 1 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Deformed Bar </td><td class="border border-gray-300 p-2"> kg. </td><td class="border border-gray-300 p-2"> 17,844 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> H-Pile </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 16 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Z-Type Steel Sheet Pile </td><td class="border border-gray-300 p-2"> m. </td><td class="border border-gray-300 p-2"> 273 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Hard Asphalt </td><td class="border border-gray-300 p-2"> bag(s) </td><td class="border border-gray-300 p-2"> 20 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Sakoline </td><td class="border border-gray-300 p-2"> roll(s) </td><td class="border border-gray-300 p-2"> 10 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Tie Wire #16 </td><td class="border border-gray-300 p-2"> kgs. </td><td class="border border-gray-300 p-2"> 535 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Cut-Off Machine Blade #14 </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 12 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Hacksaw Blade </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 179 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Acetylene </td><td class="border border-gray-300 p-2"> tanks </td><td class="border border-gray-300 p-2"> 19 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Oxygen </td><td class="border border-gray-300 p-2"> tanks </td><td class="border border-gray-300 p-2"> 37 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Ordinary Plywood 4&#39;x8&#39;x1/2&quot; </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 302 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Coco Lumber 2x4x8 </td><td class="border border-gray-300 p-2"> bd. ft. </td><td class="border border-gray-300 p-2"> 8,659 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Coco Lumber 2x2x10 </td><td class="border border-gray-300 p-2"> bd. ft. </td><td class="border border-gray-300 p-2"> 5,330 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Coco Lumber 2x3x10 </td><td class="border border-gray-300 p-2"> bd. ft. </td><td class="border border-gray-300 p-2"> 1,500 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Coco Lumber 2x4x10 </td><td class="border border-gray-300 p-2"> bd. ft. </td><td class="border border-gray-300 p-2"> 2,040 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> G.i Corrugated Sheet- G26x12 </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 123 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Gemilina Stick </td><td class="border border-gray-300 p-2"> bdl </td><td class="border border-gray-300 p-2"> 10 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Plain Sheet </td><td class="border border-gray-300 p-2"> sheet </td><td class="border border-gray-300 p-2"> 5 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Common Wire Nails #4 </td><td class="border border-gray-300 p-2"> kg(s) </td><td class="border border-gray-300 p-2"> 369 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Common Wire Nails #2 </td><td class="border border-gray-300 p-2"> kg(s) </td><td class="border border-gray-300 p-2"> 70 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Common Wire Nails #1 1/2 </td><td class="border border-gray-300 p-2"> kg(s) </td><td class="border border-gray-300 p-2"> 266 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Umbrella nails </td><td class="border border-gray-300 p-2"> kg(s) </td><td class="border border-gray-300 p-2"> 20 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Uniform </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 60 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Hardhat </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 30 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Safety Vest </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 30 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Safety Gloves </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 120 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Rubber Boots </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 60 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Rain Coat </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 30 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Caution Tape #3 </td><td class="border border-gray-300 p-2"> roll(s) </td><td class="border border-gray-300 p-2"> 8 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> warning signs,safety sign,etc... </td><td class="border border-gray-300 p-2"> lot </td><td class="border border-gray-300 p-2"> 1 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> First Aide Medicine </td><td class="border border-gray-300 p-2"> lot </td><td class="border border-gray-300 p-2"> 1 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> A3 Printer </td><td class="border border-gray-300 p-2"> unit(s) </td><td class="border border-gray-300 p-2"> 2 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Preventive Maintenance </td><td class="border border-gray-300 p-2"> mo. </td><td class="border border-gray-300 p-2"> 8 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Office Supplies </td><td class="border border-gray-300 p-2"> mo(s) </td><td class="border border-gray-300 p-2"> 8 </td><td class="border border-gray-300 p-2"></td></tr><tr><td class="border border-gray-300 p-2"> Tires </td><td class="border border-gray-300 p-2"> pc(s) </td><td class="border border-gray-300 p-2"> 4 </td><td class="border border-gray-300 p-2"></td></tr></tbody></table>',3),co={class:"flex justify-end py-4 pt-6"},no={class:"bg-green-500 hover:bg-green-600 active:bg-green-700 select-none text-white rounded-lg text-sm w-12 h-8"};function io(u,r){const p=Ft;return i(),f("div",ao,[lo,t("div",co,[t("button",no,[_(p,{name:"ic:outline-local-printshop",class:"text-white h-6 w-6"})])])])}const bo=Dt(oo,[["render",io]]),uo={class:"flex flex-col gap-4"},po={class:"flex flex-row gap-4"},mo={class:"border border-gray-300 rounded-lg p-1"},go=t("label",{class:"block mb-1 text-md font-medium text-black"}," Upload Attachment ",-1),_o={key:0,class:"flex items-center gap-2 mt-2 text-sm text-gray-600"},fo=t("span",{class:"animate-spin border-2 border-gray-400 border-t-transparent rounded-full w-4 h-4"},null,-1),ho=O({__name:"ProjectAttachmentUploadButton",setup(u){const r=Qt(),p=H(),c=N(),a=R(!1),g=async o=>{try{const s=Number(r.query.id||r.params.id);if(!s||isNaN(s))throw new Error("Project ID not found in the route");const n=o.target,d=n.files;if(!d||d.length===0)throw new Error("No files selected");a.value=!0;const b=new FormData;for(const h of d)b.append("attachments[]",h);await c.uploadAttachments(s,b),p.add({type:"success",text:"File uploaded successfully"}),n.value="",c.attachments.list=[]}catch(s){p.add({type:"error",text:s.message||"Upload failed"})}finally{a.value=!1}};return(o,s)=>(i(),f("div",uo,[t("div",po,[t("div",mo,[go,t("input",{ref:"fileInput",class:"mb-1 text-xs text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50",type:"file",accept:".doc, .docx, .pdf, .png, .jpeg, .jpg, .csv, .xls, .xlsx, .txt, .zip, .rar, .7z",multiple:"",onChange:g},null,544),a.value?(i(),f("div",_o,[fo,Vt(" Uploading files... ")])):A("",!0)])])]))}}),yo={class:"flex flex-row gap-4"},xo=["disabled"],wo={key:0,class:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4 mr-2"},vo=O({__name:"ProjectAttachmentsViewButton",setup(u){const r=N(),p=H(),c=Qt(),a=R(!1),g=async()=>{var o,s;try{const n=Number(c.params.id||c.query.id);if(!n||isNaN(n))throw new Error("Missing or invalid project ID");p.add({type:"info",text:"Preparing attachments viewer..."}),a.value=!0,await r.viewAttachments(n),window.open(r.viewAttachments.url,"_blank")}catch(n){const d=((s=(o=n.response)==null?void 0:o._data)==null?void 0:s.message)||n.message||"Unexpected error occurred";p.add({type:"error",text:d})}finally{a.value=!1}};return(o,s)=>(i(),f("div",yo,[t("button",{class:"px-4 py-2 text-md font-medium text-white bg-gray-800 border border-gray-300 rounded-lg shadow-sm hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-700 transition-color",disabled:e(a),onClick:g},[e(a)?(i(),f("span",wo)):A("",!0),t("span",null,l(e(a)?"Opening...":"View Attachments"),1)],8,xo)]))}}),Co={},Ao={class:"flex gap-3 flex-col justify-start","aria-label":"Attachment actions"};function ko(u,r){const p=ho,c=vo;return i(),f("nav",Ao,[_(p,{"aria-label":"Upload new attachment",title:"Upload new attachment"}),_(c,{"aria-label":"View attachments",title:"View uploaded attachments"})])}const To=Dt(Co,[["render",ko]]),So={class:"flex flex-col gap-6 p-2 relative"},$o={class:"flex items-center"},Mo={class:"flex-1 flex items-center gap-2 text-gray-500"},Vo={__name:"ProjectDetails",props:{projectDetails:{type:Object,required:!0}},setup(u){const r=te(),p=N(),c=()=>{r.options.history.state.back?r.back():ee("/project-monitoring/marketing")};return(a,g)=>{const o=W,s=Ft,n=Ie,d=re,b=De,h=de,y=se,w=gr,T=le,E=so,P=bo,$=To,M=oe;return i(),f("div",So,[_(o,{class:"z-50","is-loading":e(p).information.isLoading},null,8,["is-loading"]),t("div",$o,[t("div",Mo,[t("div",{class:"flex items-center border hover:bg-gray-500 hover:text-white gap-1 bg-gray-100 rounded-lg px-4 py-1 cursor-pointer",onClick:c},[_(s,{name:"material-symbols:arrow-back-rounded"}),Vt(" BACK ")])])]),_(M,{class:"w-full"},{"info-details":C(()=>{var k,j,B,F,q,D;return[_(n,{label:"PROJECT INFORMATION DETAILS",name:(k=u.projectDetails)==null?void 0:k.name,code:(j=u.projectDetails)==null?void 0:j.code,location:(B=u.projectDetails)==null?void 0:B.location,license:(F=u.projectDetails)==null?void 0:F.license,"contract-id":(q=u.projectDetails)==null?void 0:q.contract_id,"stage-status":(D=u.projectDetails)==null?void 0:D.stage},null,8,["name","code","location","license","contract-id","stage-status"])]}),"tab-titles":C(()=>[("useCheckAccessibility"in a?a.useCheckAccessibility:e(I))([("AccessibilityTypes"in a?a.AccessibilityTypes:e(L)).PROJECTMONITORING_MARKETING_GROUP])?(i(),S(d,{key:0,title:"BILL OF QUANTITIES","target-id":"billOfQuantities"})):A("",!0),("useCheckAccessibility"in a?a.useCheckAccessibility:e(I))([("AccessibilityTypes"in a?a.AccessibilityTypes:e(L)).PROJECTMONITORING_MARKETING_GROUP])?(i(),S(d,{key:1,title:"SUMMARY OF RATES","target-id":"summaryRates"})):A("",!0),("useCheckAccessibility"in a?a.useCheckAccessibility:e(I))([("AccessibilityTypes"in a?a.AccessibilityTypes:e(L)).PROJECTMONITORING_MARKETING_GROUP])?(i(),S(d,{key:2,title:"SUMMARY OF BID","target-id":"bidSummary"})):A("",!0),("useCheckAccessibility"in a?a.useCheckAccessibility:e(I))([("AccessibilityTypes"in a?a.AccessibilityTypes:e(L)).PROJECTMONITORING_MARKETING_GROUP])?(i(),S(d,{key:3,title:"CASH FLOW","target-id":"cashFlow"})):A("",!0),("useCheckAccessibility"in a?a.useCheckAccessibility:e(I))([("AccessibilityTypes"in a?a.AccessibilityTypes:e(L)).PROJECTMONITORING_MARKETING_GROUP])?(i(),S(d,{key:4,title:"BILL OF MATERIALS","target-id":"billOfMaterials",class:"hidden"})):A("",!0),("useCheckAccessibility"in a?a.useCheckAccessibility:e(I))([("AccessibilityTypes"in a?a.AccessibilityTypes:e(L)).PROJECTMONITORING_MARKETING_GROUP])?(i(),S(d,{key:5,title:"ATTACHMENT","target-id":"attachment"})):A("",!0)]),"tab-options":C(()=>[!e(p).viewState&&e(p).information&&e(p).information.stage&&e(p).information.stage.toLowerCase()!==("useProjectMarketingStatusEnums"in a?a.useProjectMarketingStatusEnums:e(Q)).stages[("useProjectMarketingStatusEnums"in a?a.useProjectMarketingStatusEnums:e(Q)).stages.length-1].toLowerCase()?(i(),S(b,{key:0,stage:u.projectDetails.stage,onUpdatingStage:g[0]||(g[0]=k=>a.boardLoading=!0),onUpdateSuccess:g[1]||(g[1]=k=>a.boardLoading=!1)},null,8,["stage"])):A("",!0)]),"tab-containers":C(()=>[_(y,{id:"billOfQuantities"},{default:C(()=>[_(h)]),_:1}),_(y,{id:"summaryRates"},{default:C(()=>[_(w)]),_:1}),_(y,{id:"bidSummary"},{default:C(()=>[_(T)]),_:1}),_(y,{id:"cashFlow"},{default:C(()=>[_(E)]),_:1}),_(y,{id:"billOfMaterials",class:"hidden"},{default:C(()=>[_(P)]),_:1}),_(y,{id:"attachment",class:"hidden"},{default:C(()=>[_($)]),_:1})]),_:1})])}}};export{Vo as _};
