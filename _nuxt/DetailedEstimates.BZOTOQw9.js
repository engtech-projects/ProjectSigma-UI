import ie from"./Icon.DcF_NU9d.js";import{_ as ue}from"./LoadScreen.nbfquDjl.js";import{a as ce,u as de,M as N,_ as xe,c as $e}from"./ModalsTask.vue.C-5HMoFc.js";import{_ as ye}from"./ModalContainer.CDqF-arx.js";import{f as te,r as M,B as pe,o as a,h as me,w as le,a as e,b as $,u as t,g as Ce,c as r,x as S,A as re,j as k,F as q,i as j,t as l,D as he,s as _e,C as ge,d as R,R as ve,m as ke,E as we}from"./entry.R6V7NTxy.js";import{D as i}from"./enums.DZVv3ml5.js";import{a as h,g as De}from"./Utilities.Cbr1Z9cn.js";import{u as be}from"./projects.BzIGGuNp.js";import{_ as Ee}from"./LayoutPrintAdvanced.shu-O4kB.js";const Te={class:"flex flex-col p-4"},Me={class:"flex items-center justify-between mb-8"},qe=e("div",{class:"flex items-end gap-2"},[e("h1",{class:"text-3xl uppercase"}," Create Resource ")],-1),Le=["onSubmit"],Se={key:0,class:"grid grid-cols-2 gap-6 mb-4"},Ne={class:"flex flex-col"},Re={key:0,class:"text-md text-gray-700"},je={key:1,class:"text-md text-gray-700"},Xe={class:"grid grid-cols-2 gap-6 mb-4"},Ae={class:"flex flex-col"},Pe=e("label",{class:"text-md text-gray-700"}," Resource Name ",-1),Ue=e("option",{value:"",disabled:"",selected:""}," Select Resource Name ",-1),Ie=["value"],Oe={class:"flex flex-col"},He={key:0,class:"text-md text-gray-700"},Be={key:1,class:"text-md text-gray-700"},Ve={class:"grid grid-cols-2 gap-6 mb-4"},Fe={class:"flex flex-col"},Qe={key:0,class:"text-md text-gray-700"},ze={key:1,class:"text-md text-gray-700"},Ge={class:"flex flex-col"},We=e("label",{class:"text-md text-gray-700"}," Unit ",-1),Ke={key:0,value:"hourly"},Ye=e("option",{value:"",disabled:"",selected:""}," Select Unit ",-1),Je=["value"],Ze={class:"flex flex-col mb-4"},et=e("label",{class:"text-md text-gray-700"}," Description ",-1),tt={class:"flex justify-end"},st={key:0,class:"bg-green-500 hover:bg-green-600 active:bg-green-700 select-none text-white rounded-lg text-sm w-36 h-10",type:"submit"},ot={key:1,class:"bg-green-500 hover:bg-green-600 active:bg-green-700 select-none text-white rounded-lg text-sm w-36 h-10",type:"submit"},nt=te({__name:"ModalsResource",props:{showModal:{type:Boolean,required:!0,default:!1},taskId:{type:Number,required:!0}},emits:["hideModal"],setup(v,{emit:p}){const d=v,b=ce(),o=de(),m=M(!1),x=pe(),C=async()=>{try{m.value=!0,o.resource.task_id=d.taskId,o.resource.id?await o.editResource():await o.createResource(),o.errorMessage!==""?x.add({type:"error",text:o.errorMessage}):x.add({type:"success",text:o.successMessage})}catch{x.add({type:"error",text:o.errorMessage})}finally{m.value=!1,b.getTask(d.taskId),p("hideModal")}};return(s,c)=>{const w=ue,T=ie,D=ye;return a(),me(D,{show:v.showModal,local:!0,header:!1,bg:"bg-gray-50",size:"modal-lg",onHide:c[7]||(c[7]=u=>p("hideModal"))},{default:le(()=>[e("div",Te,[$(w,{"is-loading":t(m)},null,8,["is-loading"]),e("div",Me,[qe,$(T,{name:"material-symbols:close-rounded",class:"h-6 w-6 text-gray-500 hover:text-gray-800 cursor-pointer",onClick:c[0]||(c[0]=u=>p("hideModal"))})]),e("form",{onSubmit:Ce(C,["prevent"])},[t(o).resource.resource_type===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).labor||t(o).resource.resource_type===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).equipment?(a(),r("div",Se,[e("div",null,[e("div",Ne,[t(o).resource.resource_type===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).labor?(a(),r("label",Re," Number of Person ")):(a(),r("label",je," Number of Equipment ")),S(e("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>t(o).resource.unit_count=u),type:"number",step:"any",class:"border border-gray-300 rounded-md",min:"1",required:""},null,512),[[re,t(o).resource.unit_count]])])])])):k("",!0),e("div",Xe,[e("div",Ae,[Pe,S(e("select",{"onUpdate:modelValue":c[2]||(c[2]=u=>t(o).resource.resource_type=u),class:"border border-gray-300 rounded-md",disabled:""},[Ue,(a(!0),r(q,null,j(t(o).resourceNames,(u,L)=>(a(),r("option",{key:L,value:u.value},l(u.label),9,Ie))),128))],512),[[he,t(o).resource.resource_type]])]),e("div",null,[e("div",Oe,[t(o).resource.resource_type===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).labor||t(o).resource.resource_type===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).equipment?(a(),r("label",He," Hourly Rate ")):(a(),r("label",Be," Unit Price ")),S(e("input",{"onUpdate:modelValue":c[3]||(c[3]=u=>t(o).resource.unit_cost=u),type:"number",step:"any",class:"border border-gray-300 rounded-md",placeholder:"0.00",required:""},null,512),[[re,t(o).resource.unit_cost]])])])]),e("div",Ve,[e("div",Fe,[t(o).resource.resource_type===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).labor||t(o).resource.resource_type===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).equipment?(a(),r("label",Qe," No. of Hours ")):(a(),r("label",ze," Quantity ")),S(e("input",{"onUpdate:modelValue":c[4]||(c[4]=u=>t(o).resource.quantity=u),type:"number",step:"any",class:"border border-gray-300 rounded-md",required:""},null,512),[[re,t(o).resource.quantity]])]),e("div",Ge,[We,S(e("select",{"onUpdate:modelValue":c[5]||(c[5]=u=>t(o).resource.unit=u),class:"border border-gray-300 rounded-md uppercase",required:""},[t(o).resource.resource_type===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).labor||t(o).resource.resource_type===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).equipment?(a(),r("option",Ke," Hourly ")):(a(),r(q,{key:1},[Ye,(a(!0),r(q,null,j(t(o).units,u=>(a(),r("option",{key:u.name,value:u.symbol},l(u.name+" ("+u.symbol+")"),9,Je))),128))],64))],512),[[he,t(o).resource.unit]])])]),e("div",Ze,[et,S(e("textarea",{"onUpdate:modelValue":c[6]||(c[6]=u=>t(o).resource.description=u),class:"border border-gray-300 rounded-md w-full h-56 resize-none",required:""},null,512),[[re,t(o).resource.description]])]),e("div",tt,[t(o).resource.id?(a(),r("button",ot," Update Resource ")):(a(),r("button",st," Create Resource "))])],40,Le)])]),_:1},8,["show"])}}}),at={class:"flex flex-col border-gray-800 mb-8"},rt={class:"flex flex-col gap-2 border border-black p-2"},lt={class:"grid grid-cols-5"},it=e("span",{class:"col-span-1 font-semibold"},"Contract ID",-1),ct={class:"col-span-4"},dt=e("b",{class:"mr-2"},":",-1),ut={class:"grid grid-cols-5"},pt=e("span",{class:"col-span-1 font-semibold"},"Contract Name",-1),_t={class:"col-span-4"},ht=e("b",{class:"mr-2"},":",-1),yt={class:"grid grid-cols-5"},mt=e("span",{class:"col-span-1 font-semibold"},"Contract Location",-1),gt={class:"col-span-4"},bt=e("b",{class:"mr-2"},":",-1),ft=e("div",{class:"flex justify-center py-2 border-2 border-b border-black"},[e("h1",{class:"text-lg font-semibold text-black uppercase text-center"}," Detailed Estimates ")],-1),xt={class:"border border-collapse border-gray-800 w-full"},$t=e("thead",null,[e("tr",null,[e("th",{class:"uppercase py-2 font-normal border-b-0 w-2/12"}," Pay Item No. "),e("th",{class:"uppercase py-2 font-normal border-b-0 w-3/12"}," Description "),e("th",{class:"uppercase py-2 font-normal border-b-0 w-1/12"}," Unit "),e("th",{class:"uppercase py-2 font-normal border-b-0 w-1/12"}," Qty "),e("th",{class:"uppercase py-2 font-normal border-b-0 w-2/12"}," Unit Price "),e("th",{class:"uppercase py-2 font-normal border-b-0 w-3/12"}," Amount ")])],-1),Ct={class:"text-center"},vt={class:"p-2 text-center"},kt={class:"p-2 text-center"},wt={class:"p-2 text-center"},Dt={class:"p-2 text-center"},Et={class:"p-2 text-center"},Tt={class:"border-y border-gray-700"},Mt={colspan:"6",class:"px-2 py-1"},qt={class:"flex justify-between"},Lt={class:"font-semibold uppercase"},St={key:0,class:"flex gap-1 justify-end"},Nt=["onClick"],Rt={key:0,class:"border-b border-gray-700"},jt=e("td",null,null,-1),Xt=e("td",{class:"uppercase text-xs font-semibold pt-2 text-center"}," Name and Specification ",-1),At={key:0,class:"uppercase text-xs font-semibold pt-2 text-center"},Pt={key:1,class:"uppercase text-xs font-semibold pt-2 text-center"},Ut={key:2,class:"uppercase text-xs font-semibold pt-2 text-center"},It={key:3,class:"uppercase text-xs font-semibold pt-2 text-center"},Ot={key:4,class:"uppercase text-xs font-semibold pt-2 text-center"},Ht={key:5,class:"uppercase text-xs font-semibold pt-2 text-center"},Bt={key:6,class:"uppercase text-xs font-semibold pt-2 text-center"},Vt=e("td",{class:"uppercase text-xs font-semibold pt-2 text-center"}," Amount ",-1),Ft=e("td",{class:"text-center"},null,-1),Qt={class:"p-2 text-center"},zt={key:0,class:"p-2 text-center"},Gt={key:1,class:"p-2 text-center"},Wt={key:2,class:"p-2 text-center"},Kt={key:3,class:"p-2 text-center"},Yt={key:4,class:"p-2 text-center"},Jt={key:5,class:"p-2 text-center"},Zt={class:""},es={class:"flex"},ts={class:"flex items-center justify-center flex-1"},ss={class:"flex flex-col p-2 justify-center gap-2"},os=["onClick"],ns=["onClick"],as={key:1,class:"border-b border-gray-700 text-sm font-bold"},rs={class:"text-right px-2",colspan:"5"},ls={key:0,class:"text-right px-2"},is={key:1,class:"text-right px-2"},cs={key:2,class:"text-right px-2"},ds=e("td",{class:"font-semibold uppercase px-2"}," D. ",-1),us=e("td",{class:"pX-2 uppercase"}," Direct Cost ",-1),ps=e("td",{class:"pX-2 text-center"},null,-1),_s=e("td",{class:"pX-2 text-center"},null,-1),hs=e("td",{class:"text-right px-2"},null,-1),ys={class:"text-right px-2"},ms=e("td",{class:"font-semibold uppercase px-2"}," E. ",-1),gs=e("td",{class:"pX-2 uppercase"}," O.C.M ",-1),bs=e("td",{class:"pX-2 text-center"}," 10.00% ",-1),fs=e("td",{class:"pX-2 text-center"},null,-1),xs=e("td",{class:"text-right px-2"}," of D ",-1),$s={class:"text-right px-2"},Cs=e("td",{class:"font-semibold uppercase px-2"}," F. ",-1),vs=e("td",{class:"pX-2 uppercase"}," Contractors Profit ",-1),ks=e("td",{class:"pX-2 text-center"}," 10.00% ",-1),ws=e("td",{class:"pX-2 text-center"},null,-1),Ds=e("td",{class:"text-right px-2"}," of D ",-1),Es={class:"text-right px-2"},Ts=e("td",{class:"font-semibold uppercase px-2"}," g. ",-1),Ms=e("td",{class:"pX-2 uppercase"}," vAT (Where Applicable) ",-1),qs=e("td",{class:"pX-2 text-center"}," 12.00% ",-1),Ls=e("td",{class:"pX-2 text-center"},null,-1),Ss=e("td",{class:"text-right px-2"}," of (D + E + F) ",-1),Ns={class:"text-right px-2"},Rs=e("td",{class:"font-semibold uppercase px-2"}," H. ",-1),js=e("td",{class:"pX-2 uppercase"}," Total Cost ",-1),Xs=e("td",{class:"pX-2 text-center"},null,-1),As=e("td",{class:"pX-2 text-center"},null,-1),Ps=e("td",{class:"text-right px-2"}," (D + E + F + G) ",-1),Us={class:"text-right px-2"},Is=e("td",{class:"font-semibold uppercase px-2"}," I. ",-1),Os=e("td",{class:"pX-2 uppercase"}," Unit Cost Per ",-1),Hs={class:"pX-2 text-center"},Bs=e("td",{class:"pX-2 text-center"},null,-1),Vs=e("td",{class:"pX-2 text-center"},null,-1),Fs={class:"text-right px-2"},Qs=te({__name:"DetailsTaskSystemView",setup(v){const p=be(),d=de(),b=ce(),{task:o}=_e(b),m=M(!1),x=M(!1),C=M(!1),s=n=>{const f=Math.floor(n/26),E=n%26;return String.fromCharCode(65+E)+(f>0?String.fromCharCode(65+f-1):"")},c=n=>o.value.resources.filter(f=>f.resource_name===n),w=n=>{C.value=!0,d.reset(),d.resource.resource_type=n,d.resource.task_id=o.value.id},T=n=>{C.value=!0,d.reset(),d.resource=n,d.resource.resource_type=n.resource_type},D=M(!1),u=pe(),L=async n=>{try{D.value=!0,await d.deleteResource(n),d.errorMessage!==""?u.add({type:"error",text:d.errorMessage}):u.add({type:"success",text:d.successMessage})}catch(f){d.errorMessage=f,u.add({type:"error",text:d.errorMessage})}finally{b.getTask(o.value.id),D.value=!1}},se=ge(()=>{const n=d.resourceNames;return!Array.isArray(n)||n.length===0?[]:n.filter(f=>N.includes(f.label)).sort((f,E)=>N.indexOf(f.label)-N.indexOf(E.label))});return(n,f)=>{var A,P,U,I,O,H,B,V,F,Q,z,G,W,g,K;const E=ue,X=ie,oe=xe,ne=$e,ae=nt;return a(),r("div",at,[e("div",rt,[e("div",lt,[it,e("span",ct,[dt,R(" "+l(((P=(A=t(p))==null?void 0:A.information)==null?void 0:P.contract_id)??((U=t(b))==null?void 0:U.task.project_contract_id)),1)])]),e("div",ut,[pt,e("span",_t,[ht,R(" "+l(((O=(I=t(p))==null?void 0:I.information)==null?void 0:O.name)??((H=t(b))==null?void 0:H.task.project_name)),1)])]),e("div",yt,[mt,e("span",gt,[bt,R(" "+l(((V=(B=t(p))==null?void 0:B.information)==null?void 0:V.location)??((F=t(b))==null?void 0:F.task.project_location)),1)])])]),ft,e("table",xt,[$t,e("tbody",null,[e("tr",null,[e("td",Ct,l(t(o).name),1),e("td",vt,l(t(o).description),1),e("td",kt,l(t(o).unit),1),e("td",wt,l(t(o).quantity),1),e("td",Dt,l(t(o).unit_price_with_unit),1),e("td",Et,l(("accountingCurrency"in n?n.accountingCurrency:t(h))(t(o).amount)),1)])]),$(E,{"is-loading":t(D)},null,8,["is-loading"]),(a(!0),r(q,null,j(t(se),(_,Y)=>{var J,Z,ee;return a(),r("tbody",{key:Y},[e("tr",Tt,[e("td",Mt,[e("div",qt,[e("span",Lt,l(s(Y))+". "+l(_.label),1),t(p).viewState?k("",!0):(a(),r("div",St,[e("button",{class:"bg-green-500 hover:bg-green-600 active:bg-green-700 select-none text-white rounded-lg text-xs px-4 h-6",onClick:y=>w(_.value)}," Add Resource ",8,Nt)]))])])]),c(_.label).length>0?(a(),r("tr",Rt,[jt,Xt,_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).labor?(a(),r("td",At," No of Person ")):_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).equipment?(a(),r("td",Pt," No of Equipment ")):(a(),r("td",Ut," Quantity ")),_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).labor||_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).equipment?(a(),r("td",It," No. of Hrs. ")):(a(),r("td",Ot," Unit ")),_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).labor||_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).equipment?(a(),r("td",Ht," Hourly Rate ")):(a(),r("td",Bt," Unit Cost ")),Vt])):k("",!0),(a(!0),r(q,null,j(c(_.label),y=>(a(),r("tr",{key:y.id},[Ft,e("td",Qt,l(y.description),1),_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).labor||_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).equipment?(a(),r("td",zt,l(y.unit_count),1)):(a(),r("td",Gt,l(y.quantity),1)),_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).labor||_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).equipment?(a(),r("td",Wt,l(y.quantity),1)):(a(),r("td",Kt,l(y.unit),1)),_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).labor||_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).equipment?(a(),r("td",Yt,l(y.unit_cost+" / hour"),1)):(a(),r("td",Jt,l(y.unit_cost+" / "+y.unit),1)),e("td",Zt,[e("div",es,[e("div",ts,l(y.total_cost),1),e("div",ss,[e("button",{class:"bg-green-500 hover:bg-green-600 active:bg-green-700 select-none text-white rounded-md text-xs w-6 h-6",onClick:fe=>T(y)},[$(X,{name:"material-symbols:edit",color:"white",class:"rounded h-6 w-6 p-1"})],8,os),e("button",{class:"bg-red-500 hover:bg-red-600 active:bg-red-700 select-none text-white rounded-md text-xs w-6 h-6",onClick:fe=>L(y.id)},[$(X,{name:"ion:trash",color:"white",class:"rounded h-6 w-6 p-1"})],8,ns)])])])]))),128)),c(_.label).length>0?(a(),r("tr",as,[e("td",rs," Direct "+l(_.label)+" Cost ",1),_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).material?(a(),r("td",ls,l(("accountingCurrency"in n?n.accountingCurrency:t(h))((J=t(o))==null?void 0:J.total_materials_amount)),1)):k("",!0),_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).labor?(a(),r("td",is,l(("accountingCurrency"in n?n.accountingCurrency:t(h))((Z=t(o))==null?void 0:Z.total_labor_amount)),1)):k("",!0),_.value.toLowerCase()===("DetailedEstimatesType"in n?n.DetailedEstimatesType:t(i)).equipment?(a(),r("td",cs,l(("accountingCurrency"in n?n.accountingCurrency:t(h))((ee=t(o))==null?void 0:ee.total_equipment_amount)),1)):k("",!0)])):k("",!0)])}),128)),e("tbody",null,[e("tr",null,[ds,us,ps,_s,hs,e("td",ys,l(("accountingCurrency"in n?n.accountingCurrency:t(h))((Q=t(o))==null?void 0:Q.direct_cost)),1)]),e("tr",null,[ms,gs,bs,fs,xs,e("td",$s,l(("accountingCurrency"in n?n.accountingCurrency:t(h))((z=t(o))==null?void 0:z.ocm)),1)]),e("tr",null,[Cs,vs,ks,ws,Ds,e("td",Es,l(("accountingCurrency"in n?n.accountingCurrency:t(h))((G=t(o))==null?void 0:G.contractors_profit)),1)]),e("tr",null,[Ts,Ms,qs,Ls,Ss,e("td",Ns,l(("accountingCurrency"in n?n.accountingCurrency:t(h))((W=t(o))==null?void 0:W.vat)),1)]),e("tr",null,[Rs,js,Xs,As,Ps,e("td",Us,l(("accountingCurrency"in n?n.accountingCurrency:t(h))((g=t(o))==null?void 0:g.grand_total)),1)]),e("tr",null,[Is,Os,e("td",Hs,l(t(o).unit),1),Bs,Vs,e("td",Fs,l(("accountingCurrency"in n?n.accountingCurrency:t(h))((K=t(o))==null?void 0:K.unit_cost_per)),1)])])]),$(oe,{"show-modal":t(m),onHideModal:f[0]||(f[0]=_=>m.value=!1)},null,8,["show-modal"]),$(ne,{"show-modal":t(x),onHideModal:f[1]||(f[1]=_=>x.value=!1)},null,8,["show-modal"]),$(ae,{"show-modal":t(C),"task-id":t(o).id,onHideModal:f[2]||(f[2]=_=>C.value=!1)},null,8,["show-modal","task-id"])])}}}),zs={class:"w-full flex flex-col gap-8 text-sm"},Gs=e("div",{class:"w-full flex justify-start"},[e("span",null,"PREPARED BY:")],-1),Ws={class:"w-full flex flex-row justify-between"},Ks={class:"flex flex-col gap-1"},Ys={class:"font-bold uppercase"},Js={class:"flex"},Zs={class:"flex flex-row items-start gap-4"},eo=e("span",null,"DATE:",-1),to={class:"border-b border-black px-6 text-center inline-block"},so={__name:"preparedByWithDate",props:{name:{type:String,required:!0,default:"Administrator"},position:{type:String,required:!0,default:"Administrator"},license:{type:String,required:!0,default:"EVENPAR CONSTRUCTION AND DEVELOPMENT CORPORATION"},date:{type:String,required:!0,default:"N/A"}},setup(v){return(p,d)=>(a(),r("div",zs,[Gs,e("div",Ws,[e("div",Ks,[e("span",Ys,l(v.name),1),e("span",null,l(v.position),1),e("span",null,l(v.license),1)]),e("div",Js,[e("div",Zs,[eo,e("span",to,l(("fullDate"in p?p.fullDate:t(De))(new Date(v.date))),1)])])])]))}},oo={class:"bg-white"},no={class:"flex flex-col gap-2 border border-black p-2"},ao={class:"grid grid-cols-5"},ro=e("span",{class:"col-span-1 font-semibold"},"Contract ID",-1),lo={class:"col-span-4"},io=e("b",{class:"mr-2"},":",-1),co={class:"grid grid-cols-5"},uo=e("span",{class:"col-span-1 font-semibold"},"Contract Name",-1),po={class:"col-span-4"},_o=e("b",{class:"mr-2"},":",-1),ho={class:"grid grid-cols-5"},yo=e("span",{class:"col-span-1 font-semibold"},"Contract Location",-1),mo={class:"col-span-4"},go=e("b",{class:"mr-2"},":",-1),bo={class:"flex flex-col border-gray-800 pb-6"},fo=e("div",{class:"flex justify-center py-2 border-2 border-b border-black"},[e("h1",{class:"text-lg font-semibold text-black uppercase text-center"}," Detailed Estimates ")],-1),xo={class:"border border-collapse border-gray-800 w-full"},$o=e("thead",null,[e("tr",null,[e("th",{class:"uppercase py-2 font-normal border-b-0 w-2/12"}," ITEM NO. "),e("th",{class:"uppercase py-2 font-normal border-b-0 w-3/12"}," ITEM DESCRIPTION "),e("th",{class:"uppercase py-2 font-normal border-b-0 w-1/12"}," QTY "),e("th",{class:"uppercase py-2 font-normal border-b-0 w-1/12"}," UNIT "),e("th",{class:"uppercase py-2 font-normal border-b-0 w-2/12"}),e("th",{class:"uppercase py-2 font-normal border-b-0 w-3/12"})])],-1),Co={class:"text-center"},vo={class:"p-2 text-center"},ko={class:"p-2 text-center"},wo={class:"p-2 text-center"},Do=e("td",{class:"p-2 text-center"},null,-1),Eo=e("td",{class:""},null,-1),To={class:"border-y border-gray-700"},Mo={colspan:"6",class:"px-2 py-1"},qo={class:"flex justify-between"},Lo={class:"font-semibold uppercase"},So={key:0,class:"border border-gray-700"},No=e("td",null,null,-1),Ro=e("td",{class:"uppercase text-xs font-semibold pt-2 text-left"}," Name and Specification ",-1),jo={key:0,class:"uppercase text-xs font-semibold pt-2 text-center"},Xo={key:1,class:"uppercase text-xs font-semibold pt-2 text-center"},Ao={key:2,class:"uppercase text-xs font-semibold pt-2 text-center"},Po={key:3,class:"uppercase text-xs font-semibold pt-2 text-center"},Uo={key:4,class:"uppercase text-xs font-semibold pt-2 text-center"},Io={key:5,class:"uppercase text-xs font-semibold pt-2 text-center"},Oo={key:6,class:"uppercase text-xs font-semibold pt-2 text-center"},Ho=e("td",{class:"uppercase text-xs font-semibold pt-2 text-right pr-4"}," Amount ",-1),Bo=e("td",{class:"text-center"},null,-1),Vo={class:"p-2"},Fo={key:0,class:"p-2 text-center"},Qo={key:1,class:"p-2 text-center"},zo={key:2,class:"p-2 text-center"},Go={key:3,class:"p-2 text-center"},Wo={key:4,class:"p-2 text-center"},Ko={key:5,class:"p-2 text-center"},Yo={class:"p-2 text-right"},Jo={key:1,class:"border-b border-gray-700 text-sm font-bold"},Zo={class:"text-right px-2",colspan:"5"},en={key:0,class:"text-right px-2"},tn={key:1,class:"text-right px-2"},sn={key:2,class:"text-right px-2"},on=e("td",{class:"font-semibold uppercase px-2"}," D. ",-1),nn=e("td",{class:"pX-2 uppercase"}," Direct Cost ",-1),an=e("td",{class:"pX-2 text-center"},null,-1),rn=e("td",{class:"pX-2 text-center"},null,-1),ln=e("td",{class:"text-right px-2"},null,-1),cn={class:"text-right px-2"},dn=e("td",{class:"font-semibold uppercase px-2"}," E. ",-1),un=e("td",{class:"pX-2 uppercase"}," O.C.M ",-1),pn=e("td",{class:"pX-2 text-center"}," 10.00% ",-1),_n=e("td",{class:"pX-2 text-center"},null,-1),hn=e("td",{class:"text-right px-2"}," of D ",-1),yn={class:"text-right px-2"},mn=e("td",{class:"font-semibold uppercase px-2"}," F. ",-1),gn=e("td",{class:"pX-2 uppercase"}," Contractors Profit ",-1),bn=e("td",{class:"pX-2 text-center"}," 10.00% ",-1),fn=e("td",{class:"pX-2 text-center"},null,-1),xn=e("td",{class:"text-right px-2"}," of D ",-1),$n={class:"text-right px-2"},Cn=e("td",{class:"font-semibold uppercase px-2"}," g. ",-1),vn=e("td",{class:"pX-2 uppercase"}," vAT (Where Applicable) ",-1),kn=e("td",{class:"pX-2 text-center"}," 12.00% ",-1),wn=e("td",{class:"pX-2 text-center"},null,-1),Dn=e("td",{class:"text-right px-2"}," of (D + E + F) ",-1),En={class:"text-right px-2"},Tn=e("td",{class:"font-semibold uppercase px-2"}," H. ",-1),Mn=e("td",{class:"pX-2 uppercase"}," Total Cost ",-1),qn=e("td",{class:"pX-2 text-center"},null,-1),Ln=e("td",{class:"pX-2 text-center"},null,-1),Sn=e("td",{class:"text-right px-2"}," (D + E + F + G) ",-1),Nn={class:"text-right px-2"},Rn=e("td",{class:"font-semibold uppercase px-2"}," I. ",-1),jn=e("td",{class:"pX-2 uppercase"}," Unit Cost Per ",-1),Xn={class:"pX-2 text-center"},An=e("td",{class:"pX-2 text-center"},null,-1),Pn=e("td",{class:"text-right px-2"},null,-1),Un={class:"text-right px-2"},In={class:"flex flex-row items-center justify-between mt-16"},On=te({__name:"DetailedEstimates",setup(v){const p=be(),d=de(),b=ce(),{task:o}=_e(b),m=s=>{const c=Math.floor(s/26),w=s%26;return String.fromCharCode(65+w)+(c>0?String.fromCharCode(65+c-1):"")},x=s=>o.value.resources.filter(c=>c.resource_name===s),C=ge(()=>{const s=d.resourceNames;return!Array.isArray(s)||s.length===0?[]:s.filter(c=>N.includes(c.label)).sort((c,w)=>N.indexOf(c.label)-N.indexOf(w.label))});return(s,c)=>{var D,u,L,se,n,f,E,X,oe,ne,ae,A,P,U,I,O,H,B,V,F,Q,z,G,W;const w=ue,T=so;return a(),r("div",oo,[e("div",no,[e("div",ao,[ro,e("span",lo,[io,R(" "+l(((u=(D=t(p))==null?void 0:D.information)==null?void 0:u.contract_id)??((se=(L=t(b))==null?void 0:L.task)==null?void 0:se.project_contract_id)),1)])]),e("div",co,[uo,e("span",po,[_o,R(" "+l(((f=(n=t(p))==null?void 0:n.information)==null?void 0:f.name)??((X=(E=t(b))==null?void 0:E.task)==null?void 0:X.project_name)),1)])]),e("div",ho,[yo,e("span",mo,[go,R(" "+l(((ne=(oe=t(p))==null?void 0:oe.information)==null?void 0:ne.location)??((A=(ae=t(b))==null?void 0:ae.task)==null?void 0:A.project_location)),1)])])]),e("div",bo,[fo,e("table",xo,[$o,e("tbody",null,[e("tr",null,[e("td",Co,l(t(o).name),1),e("td",vo,l(t(o).description),1),e("td",ko,l(t(o).quantity),1),e("td",wo,l(t(o).unit),1),Do,Eo])]),$(w,{"is-loading":s.boardLoading},null,8,["is-loading"]),(a(!0),r(q,null,j(t(C),(g,K)=>{var _,Y,J,Z,ee;return a(),r("tbody",{key:K},[e("tr",To,[e("td",Mo,[e("div",qo,[e("span",Lo,l(m(K))+". "+l(g.label),1)])])]),((_=x(g.label))==null?void 0:_.length)>0?(a(),r("tr",So,[No,Ro,g.label.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).labor?(a(),r("td",jo," No of Person ")):g.label.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).equipment?(a(),r("td",Xo," No of Equipment ")):(a(),r("td",Ao," Quantity ")),g.label.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).labor||g.label.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).equipment?(a(),r("td",Po," No. of Hrs. ")):(a(),r("td",Uo," Unit ")),g.label.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).labor||g.label.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).equipment?(a(),r("td",Io," Hourly Rate ")):(a(),r("td",Oo," Unit Cost ")),Ho])):k("",!0),(a(!0),r(q,null,j(x(g.label),y=>(a(),r("tr",{key:y.id},[Bo,e("td",Vo,l(y.description),1),g.label.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).labor||g.label.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).equipment?(a(),r("td",Fo,l(("accountingCurrency"in s?s.accountingCurrency:t(h))(y.unit_count)),1)):(a(),r("td",Qo,l(("accountingCurrency"in s?s.accountingCurrency:t(h))(y.quantity)),1)),g.label.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).labor||g.label.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).equipment?(a(),r("td",zo,l(("accountingCurrency"in s?s.accountingCurrency:t(h))(y.quantity)),1)):(a(),r("td",Go,l(y.unit),1)),g.label.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).labor||g.label.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).equipment?(a(),r("td",Wo,l(("accountingCurrency"in s?s.accountingCurrency:t(h))(y.unit_cost)+" / hour"),1)):(a(),r("td",Ko,l(("accountingCurrency"in s?s.accountingCurrency:t(h))(y.unit_cost)+" / "+y.unit),1)),e("td",Yo,l(("accountingCurrency"in s?s.accountingCurrency:t(h))(y.total_cost)),1)]))),128)),((Y=x(g.label))==null?void 0:Y.length)>0?(a(),r("tr",Jo,[e("td",Zo," Direct "+l(g.label)+" Cost ",1),g.value.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).material?(a(),r("td",en,l(("accountingCurrency"in s?s.accountingCurrency:t(h))((J=t(o))==null?void 0:J.total_materials_amount)),1)):k("",!0),g.value.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).labor?(a(),r("td",tn,l(("accountingCurrency"in s?s.accountingCurrency:t(h))((Z=t(o))==null?void 0:Z.total_labor_amount)),1)):k("",!0),g.value.toLowerCase()===("DetailedEstimatesType"in s?s.DetailedEstimatesType:t(i)).equipment?(a(),r("td",sn,l(("accountingCurrency"in s?s.accountingCurrency:t(h))((ee=t(o))==null?void 0:ee.total_equipment_amount)),1)):k("",!0)])):k("",!0)])}),128)),e("tbody",null,[e("tr",null,[on,nn,an,rn,ln,e("td",cn,l(("accountingCurrency"in s?s.accountingCurrency:t(h))((P=t(o))==null?void 0:P.direct_cost)),1)]),e("tr",null,[dn,un,pn,_n,hn,e("td",yn,l(("accountingCurrency"in s?s.accountingCurrency:t(h))((U=t(o))==null?void 0:U.ocm)),1)]),e("tr",null,[mn,gn,bn,fn,xn,e("td",$n,l(("accountingCurrency"in s?s.accountingCurrency:t(h))((I=t(o))==null?void 0:I.contractors_profit)),1)]),e("tr",null,[Cn,vn,kn,wn,Dn,e("td",En,l(("accountingCurrency"in s?s.accountingCurrency:t(h))((O=t(o))==null?void 0:O.vat)),1)]),e("tr",null,[Tn,Mn,qn,Ln,Sn,e("td",Nn,l(("accountingCurrency"in s?s.accountingCurrency:t(h))((H=t(o))==null?void 0:H.grand_total)),1)]),e("tr",null,[Rn,jn,e("td",Xn,l(t(o).unit),1),An,Pn,e("td",Un,l(("accountingCurrency"in s?s.accountingCurrency:t(h))((B=t(o))==null?void 0:B.unit_cost_per)),1)])])]),e("div",In,[$(T,{name:"ANGEL A. ABRAU",position:"Authorized Managing Officer",license:((V=t(p).information)==null?void 0:V.license)??((Q=(F=t(b))==null?void 0:F.task)==null?void 0:Q.project_license),date:((z=t(p).information)==null?void 0:z.created_at)??((W=(G=t(b))==null?void 0:G.task)==null?void 0:W.project_created_at)},null,8,["license","date"])])])])}}}),Hn={class:"bg-white"},Bn=te({__name:"BillOfQuantitiesTask",setup(v){const p=ce(),{task:d}=_e(p);return(b,o)=>{const m=Qs,x=On,C=Ee;return a(),r("div",Hn,[$(C,null,{"system-layout":le(()=>[$(m)]),"print-layout":le(()=>[$(x,{task:t(d)},null,8,["task"])]),_:1})])}}}),Vn={key:0,class:"flex flex-col p-4"},Fn={class:"flex items-start justify-between mb-16"},Qn={class:"flex justify-left gap-4"},zn=e("div",{class:"flex flex-col items-start gap-2"},[e("h1",{class:"text-3xl uppercase"}," Add Category "),e("h3",{class:"text-gray-400 text-lg"}," Category Creation ")],-1),Gn=e("div",{class:"grid grid-cols-2 gap-6 mb-6"},[e("div",{class:"flex flex-col col-span-2 gap-1"},[e("label",{class:"text-sm text-gray-700"}," Category List "),e("select",{id:"category",name:"category",class:"border border-gray-300 rounded-md"},[e("option",{value:"",disabled:""}," Select Category ")])])],-1),Wn={class:"flex justify-end"},Kn={key:1,class:"flex flex-col p-4"},Yn=e("div",{class:"flex justify-left gap-4"},[e("div",{class:"flex flex-col mb-16 items-start gap-2"},[e("h1",{class:"text-3xl uppercase"}," Create Category Name "),e("h3",{class:"text-gray-400 text-lg"}," Category Creation ")])],-1),Jn=e("div",{class:"grid grid-cols-2 gap-6 mb-6"},[e("div",{class:"flex flex-col col-span-1 gap-1"},[e("label",{class:"text-sm text-gray-700"}," Category Name "),e("input",{type:"text",class:"border border-gray-300 rounded-md",placeholder:"Category Name"})])],-1),Zn=e("div",{class:"flex flex-col mb-6"},[e("label",{class:"text-md text-gray-700"}," Description "),e("textarea",{class:"border border-gray-300 rounded-md w-full h-56 resize-none"})],-1),ea={class:"flex justify-end gap-3"},ta=te({__name:"ModalsCategory",props:{showModal:{type:Boolean,required:!0,default:!1}},emits:["hideModal"],setup(v,{emit:p}){const d=M(!1),b=()=>{d.value=!1,p("hideModal")};return(o,m)=>{const x=ie,C=ye;return a(),me(C,{show:v.showModal,local:!0,header:!1,bg:"bg-gray-50",size:"modal-lg",onHide:m[4]||(m[4]=s=>p("hideModal"))},{default:le(()=>[t(d)?(a(),r("div",Kn,[Yn,Jn,Zn,e("div",ea,[e("button",{class:"bg-gray-500 hover:bg-gray-600 active:bg-gray-700 select-none text-white rounded-lg text-sm w-36 h-10",onClick:m[3]||(m[3]=s=>d.value=!1)}," Cancel "),e("button",{class:"bg-green-500 hover:bg-green-600 active:bg-green-700 select-none text-white rounded-lg text-sm w-36 h-10",onClick:b}," Create Category ")])])):(a(),r("div",Vn,[e("div",Fn,[e("div",Qn,[zn,e("button",{class:"bg-green-500 hover:bg-green-600 active:bg-green-700 select-none text-white rounded-lg text-sm w-10 h-10",onClick:m[0]||(m[0]=s=>d.value=!0)}," + ")]),$(x,{name:"material-symbols:close-rounded",class:"h-6 w-6 text-gray-500 hover:text-gray-800 cursor-pointer",onClick:m[1]||(m[1]=s=>p("hideModal"))})]),Gn,e("div",Wn,[e("button",{class:"bg-green-500 hover:bg-green-600 active:bg-green-700 select-none text-white rounded-lg text-sm w-36 h-10",onClick:m[2]||(m[2]=s=>p("hideModal"))}," Add Category ")])]))]),_:1},8,["show"])}}}),sa={class:"flex flex-col p-2 bg-white"},oa={class:"flex items-center mb-4"},na={class:"flex-1 flex items-center gap-2 text-gray-500 cursor-pointer"},aa=e("span",null," BACK ",-1),ya={__name:"DetailedEstimates",async setup(v){let p,d;const b=ve(),o=pe(),m=de(),x=M(!1);try{[p,d]=ke(()=>m.getResourceUnits()),await p,d()}catch(s){o.add({type:"error",text:s||"something went wrong."})}const C=()=>{b.options.history.state.back?b.back():we("/project-monitoring/marketing")};return(s,c)=>{const w=ie,T=Bn,D=ta;return a(),r("div",sa,[e("div",oa,[e("div",na,[e("div",{class:"flex items-center border hover:bg-gray-500 hover:text-white gap-1 bg-gray-100 rounded-lg px-4 py-1 cursor-pointer",onClick:C},[$(w,{name:"material-symbols:arrow-back-rounded"}),aa])])]),$(T),$(D,{"show-modal":t(x),onHideModal:c[0]||(c[0]=u=>x.value=!1)},null,8,["show-modal"])])}}};export{ya as _};
