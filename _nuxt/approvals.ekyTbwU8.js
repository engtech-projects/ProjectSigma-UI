import H from"./Icon.DcF_NU9d.js";import{_ as I}from"./UserEmployeeSelector.vue.DiXko0wz.js";import{_ as P}from"./CustomPagination.CR9ildFS.js";import{_ as D}from"./LayoutBoards.vue.1keADq5t.js";import{_ as E,s as j,K as N,L as q,B as R,o as n,h as C,w as V,a as e,c as f,F as A,i as w,u as m,g as h,d as G,t as K,b as p,x as y,A as z,P as v,p as J,e as O}from"./entry.R6V7NTxy.js";import{u as Q}from"./approvals.Db95ZdMZ.js";import{u as W}from"./index.Cobg6QK2.js";import{_ as X}from"./AcessContainer.DJcSsti6.js";import{u as Y}from"./vue.f36acd1f.Dv_A-myg.js";import{u as Z,A as ee}from"./Accessibilities.uaboihcy.js";import"./index.T-zbMaZc.js";import"./enum.D7iLG1Bk.js";import"./CustomFetch.BRBLzGci.js";import"./loader.C2wIXBoB.js";import"./users.D5_vMoUK.js";const S=i=>(J("data-v-399ab115"),i=i(),O(),i),te={class:"pb-2 text-gray-500"},se={class:"table-auto w-full border-collapse"},oe=S(()=>e("thead",null,[e("tr",{class:""},[e("th",{class:"p-2"}," Form "),e("th",{class:"p-2"}," Approvals "),e("th",{class:"p-2"}," Action ")])],-1)),ae={class:"p-2"},re=["id","onSubmit"],le={class:"p-2 space-y-2"},ce={class:"flex ml-auto"},ne={class:"grid gap-2 md:grid-cols-2"},ie=S(()=>e("label",{for:"",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Approval Type",-1)),de=["onUpdate:modelValue"],ue={class:"flex items-center"},pe=["id","onUpdate:modelValue","name","onChange"],me=["for"],_e={class:"flex items-center"},ge=["id","onUpdate:modelValue","name","onChange"],fe=["for"],ye={class:"flex items-center"},be=["id","onUpdate:modelValue","name","onChange"],he=["for"],ve={class:"p-2 rounded-md"},ke={class:"grid md:grid-rows-1 justify-center gap-4 p-2"},xe=["form"],Ae={class:"flex justify-center mx-auto"},we={__name:"ApprovalsForm",setup(i){const l=Q(),{hrmsApprovals:c,editApproval:_}=j(l),g=W(()=>{l.getHrmsApprovals()},500);N(()=>{c.value.isLoaded||g()}),q(()=>({...c.value.params}),(s,d)=>{s.page===d.page&&(c.value.params.page=1),g()},{deep:!0});const k=R(),b=s=>{s.selector_type!=="specific"&&(s.user_id=null)},$=s=>{s.push({type:"",user_id:null,selector_type:"specific"})},U=(s,d)=>{s.splice(d,1)},T=async s=>{try{await l.editApprovals(s),k.add({type:"success",text:_.value.successMessage})}catch{k.add({type:"error",text:_.value.errorMessage})}},B=s=>{c.value.params.page=s.page??""};return(s,d)=>{const x=H,F=I,L=P,M=D;return n(),C(M,{title:"Approvals",class:"w-full",loading:m(c).isLoading},{default:V(()=>[e("div",te,[e("table",se,[oe,e("tbody",null,[(n(!0),f(A,null,w(m(c).list,(u,o)=>(n(),f("tr",{key:o,class:"border-2 border-slate-300"},[e("td",ae,[e("form",{id:o+"approvform",onSubmit:h(t=>T(u),["prevent"])},null,40,re),G(" "+K(u.form),1)]),e("div",le,[(n(!0),f(A,null,w(u.approvals,(t,r)=>(n(),f("td",{key:r,class:"p-3 flex flex-col border border-slate-400 rounded-lg"},[e("div",ce,[p(x,{name:"ic:baseline-minus",class:"flex ml-auto bg-red-400 hover:bg-red-500 text-black hover:text-white rounded-sm w-10",onClick:h(a=>U(u.approvals,r),["prevent"])},null,8,["onClick"])]),e("div",ne,[e("div",null,[ie,y(e("input",{"onUpdate:modelValue":a=>t.type=a,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",type:"text"},null,8,de),[[z,t.type]])]),e("div",null,[e("div",ue,[y(e("input",{id:r+"user_selector"+o,"onUpdate:modelValue":a=>t.selector_type=a,type:"radio",value:"employee",name:r+"radio1"+o,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",onChange:a=>b(t)},null,40,pe),[[v,t.selector_type]]),e("label",{for:r+"user_selector"+o,class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"}," Employee Selector ",8,me)]),e("div",_e,[y(e("input",{id:r+"head_selector"+o,"onUpdate:modelValue":a=>t.selector_type=a,type:"radio",value:"head",name:r+"radio1"+o,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",onChange:a=>b(t)},null,40,ge),[[v,t.selector_type]]),e("label",{for:r+"head_selector"+o,class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"}," Head Selector ",8,fe)]),e("div",ye,[y(e("input",{id:r+"employee_selector"+o,"onUpdate:modelValue":a=>t.selector_type=a,type:"radio",value:"specific",name:r+"radio2"+o,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",onChange:a=>b(t)},null,40,be),[[v,t.selector_type]]),e("label",{for:r+"employee_selector"+o,class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"}," Specific Employee ",8,he),p(F,{id:"users_list",modelValue:t.user_id,"onUpdate:modelValue":a=>t.user_id=a,form:o+"approvform",disabled:t.selector_type!=="specific",required:t.selector_type==="specific"},null,8,["modelValue","onUpdate:modelValue","form","disabled","required"])])])])]))),128)),p(x,{name:"ic:baseline-plus",class:"flex ml-auto bg-green-400 hover:bg-green-500 text-black hover:text-white rounded-sm w-10",onClick:h(t=>$(u.approvals),["prevent"])},null,8,["onClick"])]),e("td",ve,[e("div",ke,[e("button",{form:o+"approvform",type:"submit",class:"rounded-md bg-green-400 p-2 text-white hover:bg-green-500 justify-end"}," Save Changes ",8,xe)])])]))),128))])])]),e("div",Ae,[p(L,{links:m(c).pagination,onChangeParams:B},null,8,["links"])])]),_:1},8,["loading"])}}},Ce=E(we,[["__scopeId","data-v-399ab115"]]),Ve={class:"flex flex-col md:flex-row gap-4"},qe={__name:"approvals",setup(i){return Y({title:"Approvals"}),(l,c)=>{const _=Ce,g=X;return n(),C(g,{"if-access":("useCheckAccessibility"in l?l.useCheckAccessibility:m(Z))([("AccessibilityTypes"in l?l.AccessibilityTypes:m(ee)).hrms_setup_approvals])},{default:V(()=>[e("div",Ve,[p(_)])]),_:1},8,["if-access"])}}};export{qe as default};
