import{_ as S}from"./PsFormLabel.vue.MbD1f9hE.js";import{_ as M,a as V}from"./ChangesToIndividualLinesPo.DUOqLTvM.js";import{_ as q}from"./PsTextInput.vue.DFQbUHfC.js";import{_ as U}from"./ApprovalsList.GUTJciN1.js";import{n as L,s as R,q as B,m as D,r as p,L as j,o as l,c as n,a as e,t as N,j as H,b as a,x as k,D as F,F as b,i as x,h as G,u as f}from"./entry.R6V7NTxy.js";import{u as $,A as Y}from"./ncpo.ZdAqDThJ.js";import{u as Q}from"./approvals.Db95ZdMZ.js";import"./id.Dwf9xs1O.js";import"./client-only.QuN6N-R_.js";import"./UserEmployeeSelector.vue.DiXko0wz.js";import"./enum.D7iLG1Bk.js";import"./CustomFetch.BRBLzGci.js";const X={class:"text-gray-500 p-2"},J={class:"flex flex-col gap-4 w-full"},W={class:"basis-[10%] grow-1 shrink-0 flex items-center justify-center rounded-t mb-4"},z={key:0,class:"pl-4 text-xl font-bold text-gray-900 p-4 tracking-wide"},K={class:"flex flex-col gap-4 mb-5"},Z={class:"flex flex-row justify-between gap-4"},ee={class:"w-full flex flex-col gap-2"},te={class:"flex flex-row items-center gap-4"},oe=e("label",{for:"poSelect",class:"w-full flex flex-col text-sm uppercase font-medium text-gray-900"}," PO NUMBER ",-1),ie=e("label",null," : ",-1),ae=["value"],se={class:"w-full flex flex-col gap-2"},le={class:"w-full"},ne={class:"w-full"},ue={class:"flex flex-row justify-between gap-4"},re={class:"w-full flex flex-col gap-2"},me={class:"flex w-full"},de={class:"pt-5 w-full mb-2 rounded-lg p-4 bg-slate-100"},ce=e("label",{for:"approved_by",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Approval:",-1),_e=e("div",{class:"flex w-full items-center gap-4"},[e("button",{type:"submit",class:"text-white bg-emerald-700 hover:bg-emerald-800 focus:ring-4 focus:outline-none focus:ring-emerald-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"}," Submit ")],-1),Te={__name:"ncpo-form",props:L({title:{type:String,default:""}},{modelValue:{required:!0,type:Object}}),emits:["update:modelValue"],async setup(d){let u,v;const g=$(),{approvalList:r}=R(g),t=B(d,"modelValue"),y=Q();r.value.list=([u,v]=D(()=>y.getApprovalByName(Y)),u=await u,v(),u);const m=p([{id:1,item_id:"ITEM001",specification:"High quality steel",quantity:10,uom:"PCS",supplier_id:"BrandX",unit_price:100,net_of_vat:950,input_vat:50,gross_amount:1e3},{id:2,item_id:"ITEM002",specification:"Heavy duty bolts",quantity:25,uom:"SET",supplier_id:"BrandY",unit_price:40,net_of_vat:950,input_vat:50,gross_amount:1e3}]),O=[{name:"ITEM NO.",id:"id"},{name:"ITEM DESCRIPTION",id:"item_id"},{name:"SPECIFICATION",id:"specification"},{name:"QTY",id:"quantity"},{name:"UOM",id:"uom"},{name:"SUPPLIER",id:"supplier_id"},{name:"UNIT PRICE",id:"unit_price"},{name:"NET OF VAT",id:"net_of_vat"},{name:"INPUT VAT",id:"input_vat"},{name:"GROSS AMOUNT",id:"gross_amount"}],h=[{name:"CHANGE OF SUPPLIER",id:"supplier_id"},{name:"CHANGE IN ITEM DESCRIPTION/SPECIFICATION",id:"specification"},{name:"CHANGE IN QTY",id:"quantity"},{name:"CHANGE IN UOM",id:"uom"},{name:"CHANGE IN UNIT PRICE",id:"unit_price"},{name:"NEW TOTAL",id:"gross_amount"},{name:"CHANGE IN BRAND",id:"supplier_id"},{name:"CANCEL ITEM",id:"cancel_item"}],c=p([{ncpo_no:"NCPO-001-123",po_number:"PO-001",po_date:"April 25, 2025",project_code:"001-2323-232",equipment_number:"Equip-923-211",date:"April 24, 2025",items:[{id:1,item_id:"ITEM001",specification:"Steel",quantity:10,uom:"PCS",supplier_id:"BrandX",unit_price:100,net_of_vat:950,input_vat:50,gross_amount:1e3}]},{ncpo_no:"NCPO-002-456",po_number:"PO-002",po_date:"May 2, 2025",project_code:"001-4545-232",equipment_number:"Equip-111-999",date:"May 1, 2025",items:[{id:2,item_id:"ITEM999",specification:"Alloy",quantity:5,uom:"BOX",supplier_id:"BrandY",unit_price:200,net_of_vat:190,input_vat:10,gross_amount:200}]}]),_=p(c.value[0].po_number);return j(_,E=>{const o=c.value.find(s=>s.po_number===E);o&&(t.ncpo_no=o.ncpo_no,t.po_number=o.po_number,t.po_date=o.po_date,t.project_code=o.project_code,t.equipment_number=o.equipment_number,t.date=o.date,m.value=o.items)},{immediate:!0}),(E,o)=>{const s=S,T=M,P=V,A=q,C=U;return l(),n("div",X,[e("form",null,[e("div",J,[e("div",W,[d.title?(l(),n("h3",z,N(d.title),1)):H("",!0)]),e("div",K,[e("div",Z,[e("div",ee,[a(s,{title:"NCPO NO",value:t.value.ncpo_no},null,8,["value"]),e("div",te,[oe,ie,k(e("select",{id:"poSelect","onUpdate:modelValue":o[0]||(o[0]=i=>_.value=i),class:"w-full block"},[(l(!0),n(b,null,x(c.value,i=>(l(),n("option",{key:i.po_number,value:i.po_number},N(i.po_number),9,ae))),128))],512),[[F,_.value]])]),a(s,{title:"PO DATE",value:t.value.po_date},null,8,["value"]),a(s,{title:"PROJECT CODE",value:t.value.project_code},null,8,["value"]),a(s,{title:"EQUIPMENT NUMBER",value:t.value.equipment_number},null,8,["value"])]),e("div",se,[a(s,{title:"DATE",value:t.value.date},null,8,["value"])])]),e("div",le,[a(T,{title:"DETAILS OF THE ENTIRE PO",headers:O,items:m.value},null,8,["items"])]),e("div",ne,[a(P,{title:"CHANGES TO INDIVIDUAL LINES ON PO",headers:h,items:m.value,"base-items":m.value},null,8,["items","base-items"])]),e("div",ue,[e("div",re,[a(A,{modelValue:t.value.justification,"onUpdate:modelValue":o[1]||(o[1]=i=>t.value.justification=i),required:!0,class:"w-full",title:"Justification"},null,8,["modelValue"])])])]),e("div",me,[e("div",de,[ce,(l(!0),n(b,null,x(f(r).list,(i,I)=>(l(),G(C,{key:"hrmsetupapprovallist"+i,modelValue:f(r).list[I],"onUpdate:modelValue":w=>f(r).list[I]=w},null,8,["modelValue","onUpdate:modelValue"]))),128))])]),_e])])])}}};export{Te as default};
