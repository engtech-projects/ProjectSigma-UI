import{_ as pe,a as _e,b as me}from"./MainContainer.Do3EBfoz.js";import{_ as F}from"./PsTextInput.vue.C7eOWbog.js";import{_ as H}from"./PsTable.BPIFONj1.js";import{_ as G}from"./CustomPagination.C91H0oe5.js";import{_ as P}from"./AcessContainer.Dum7aOuo.js";import{_ as q}from"./LayoutBoards.vue.D_rbqYxd.js";import{_ as xe}from"./StatusRibbon.BqmJwJoR.js";import he from"./Icon.CrHlyQOo.js";import{_ as ye}from"./PsModal.Bk3xu63Y.js";import{n as re,s as I,r as $,q as ie,o as h,h as V,w as g,b as r,u as t,a as e,t as c,d as M,c as w,F as N,i as Y,v as J,m as ue,B as fe,C as j,g as ge,x as S,A as B,y as de,j as O}from"./entry.32UGFqj-.js";import{f as le,a as L,h as be}from"./Utilities.DofxnkSu.js";import{u as R}from"./voucher.78ogiQaK.js";import{u as D,A as E}from"./Accessibilities.xGffDRXj.js";import{u as Q}from"./journal.DHTSuAb7.js";import{_ as z}from"./InfoModal.Do8wzrGb.js";import{_ as ve}from"./RequestedBy.vue.DqrfI0e9.js";import{_ as we}from"./ApprovalsList.aVDiIVet.js";import{u as Ae,b as Ce}from"./approvals.89EhJm5V.js";import"./id.WqrvI90c.js";import"./client-only.CuVny2dr.js";import"./nuxt-link.C5IpI_HT.js";import"./loader.BQ9QddgL.js";import"./index.T-zbMaZc.js";import"./CustomFetch.ggXvTdIz.js";import"./users.G4iuGzk0.js";import"./ListView.CUwkSJ9r.js";import"./IsoHeader.vue.AGltULgl.js";import"./evenpar.CfYVxA5n.js";import"./enums.DZVv3ml5.js";import"./LayoutPrint.BjcxelaN.js";import"./ApprovalDenyButton.2aaI0auR.js";import"./UserEmployeeSelector.vue.CW0bAtx_.js";import"./enum.M1X5V5yu.js";const ke={class:"p-2 py-4 flex gap-2 w-full mb-4"},Te={class:"text-gray-900 text-4xl text-center w-full block flex-1"},Ve={class:"grid md:grid-cols-3 gap-2 md:justify-between"},De={class:"p-2 flex gap-2"},Ee=e("span",{class:"text-teal-600 text-light"},"Journal No.: ",-1),$e={class:"text-gray-900"},Ne={class:"p-2 flex gap-2"},Re=e("span",{class:"text-teal-600 text-light"},"Reference No.: ",-1),Ue={class:"p-2 flex gap-2"},Me=e("span",{class:"text-teal-600 text-light"},"Status: ",-1),Se={class:"grid md:grid-cols-3 gap-2 md:justify-between"},Oe={class:"p-2 flex gap-2"},Ie=e("span",{class:"text-teal-600 text-light"},"Created by: ",-1),Le={class:"p-2 flex gap-2"},Pe=e("span",{class:"text-teal-600 text-light"},"Journal Date: ",-1),qe={class:"grid md:grid-cols-3 gap-2 md:justify-between"},je={class:"p-2 flex gap-2"},Be=e("span",{class:"text-teal-600 text-light"},"Description: ",-1),Fe={class:"p-2 border border-gray-200 rounded-lg"},He=e("h2",{class:"text-xl text-gray-800 tex-center font-bold p-2"}," Journal Entry Details ",-1),Ge={class:"overflow-x-auto"},Je={class:"min-w-full overflow-hidden overflow-x-auto align-middle shadow sm:rounded-lg"},Ye={class:"min-w-full divide-y border border-gray-200"},Qe=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," CODE "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," REFERRENCE SERIES "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," REFERRENCE NO "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," VOUCHER DATE "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," PO NUMBER "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," TERMS "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," SUPPLIER'S NAME "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," PAYEES NAME "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," PROJECT CODE "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," LOCATION "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," MANAGER / LEAD "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," ACCOUNT CODE "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," ACCOUNT NAME "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," MAIN ACCOUNT GROUP "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," ACCOUNT GROUP "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," SUB ACCOUNT GROUP "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," REPORT GROUP "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," DEBIT "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," CREDIT "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," NET AMOUNT "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," PARTICULARS "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," STATUS "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," MONTH "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," REMARKS "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," EQUIPMENT NO./CODE "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," BALANCE "),e("th",{scope:"col",class:"px-6 text-bold py-3 text-left text-xs font-medium text-gray-950 uppercase tracking-wider"}," MRR ")])],-1),ze={class:"bg-white divide-y divide-gray-200"},Ke={class:"px-6 py-4 whitespace-nowrap"},We={class:"text-sm text-gray-700"},Xe={class:"px-6 py-4 whitespace-nowrap"},Ze={class:"text-sm text-gray-700"},et={class:"px-6 py-4 whitespace-nowrap"},tt={class:"text-sm text-gray-700"},st={class:"px-6 py-4 whitespace-nowrap"},ot={class:"text-sm text-gray-700"},nt={class:"px-6 py-4 whitespace-nowrap"},at={class:"text-sm text-gray-700"},ct={class:"px-6 py-4 whitespace-nowrap"},lt={class:"text-sm text-gray-700"},rt={class:"px-6 py-4 whitespace-nowrap"},it={class:"text-sm text-gray-700"},ut={class:"px-6 py-4 whitespace-nowrap"},dt={class:"text-sm text-gray-700"},pt={class:"px-6 py-4 whitespace-nowrap"},_t={class:"text-sm text-gray-700"},mt={class:"px-6 py-4 whitespace-nowrap"},xt={class:"text-sm text-gray-700"},ht={class:"px-6 py-4 whitespace-nowrap"},yt={class:"text-sm text-gray-700"},ft={class:"px-6 py-4 whitespace-nowrap"},gt={class:"text-sm text-gray-700"},bt={class:"px-6 py-4 whitespace-nowrap"},vt={class:"text-sm text-gray-700"},wt={class:"px-6 py-4 whitespace-nowrap"},At={class:"text-sm text-gray-700"},Ct={class:"px-6 py-4 whitespace-nowrap"},kt={class:"text-sm text-gray-700"},Tt={class:"px-6 py-4 whitespace-nowrap"},Vt={class:"text-sm text-gray-700"},Dt={class:"px-6 py-4 whitespace-nowrap"},Et={class:"text-sm text-gray-700"},$t={class:"px-6 py-4 whitespace-nowrap"},Nt={class:"text-sm text-gray-700"},Rt={class:"px-6 py-4 whitespace-nowrap"},Ut={class:"text-sm text-gray-700"},Mt={class:"px-6 py-4 whitespace-nowrap"},St={key:0,class:"text-sm text-gray-700"},Ot={key:1,class:"text-sm text-gray-700"},It={class:"px-6 py-4 whitespace-nowrap"},Lt={class:"text-sm text-gray-700"},Pt={class:"px-6 py-4 whitespace-nowrap"},qt={key:0,class:"text-sm text-gray-700"},jt={key:1,class:"text-sm text-gray-700"},Bt={class:"px-6 py-4 whitespace-nowrap"},Ft={class:"text-sm text-gray-700"},Ht={class:"flex gap-2 p-2 justify-end relative"},Gt={__name:"InfoModalJournalVoucherEntry",props:re({type:{type:String,required:!1,default:""},entryData:{type:Object,required:!1,default:null},fillable:{type:Boolean,required:!1,default:!1}},{showModal:{required:!1,type:Boolean}}),emits:["update:showModal"],setup(y){const{voucherDisbursement:_}=I(R()),l=R(),n=$({open:"info",unposted:"warning",posted:"success",void:"error"}),i=async p=>{await l.generateDisbursementVoucherNo(),_.value.stakeholder_id=p.payment_request.stakeholder_id,_.value.particulars=p.remarks,_.value.stakeholderInformation=p.payment_request.stakeholder,_.value.net_amount=p.payment_request.total,_.value.amount_in_words=be(p.payment_request.total),_.value.details=p.details,_.value.details=p.details.map(m=>({...m,debit:m.debit,credit:m.credit,description:m.particulars,stakeholder_id:m.stakeholder?m.stakeholder.id:null})),_.value.journal_entry_id=p.id,_.value.reference_no=p.journal_no,o.value=!1},o=ie(y,"showModal");return(p,m)=>{const C=xe,d=he,u=ye;return h(),V(u,{"show-modal":o.value,"onUpdate:showModal":m[1]||(m[1]=a=>o.value=a),title:""},{body:g(()=>{var a,b,A,v,T,f,x,k,U,K;return[r(C,{type:t(n)[(a=y.entryData)==null?void 0:a.status.toLowerCase()],position:"top-left",status:(b=y.entryData)==null?void 0:b.status,class:"z-30"},null,8,["type","status"]),e("div",ke,[e("span",Te,"Journal Entry ("+c(y.type)+")",1)]),e("div",Ve,[e("div",De,[Ee,e("span",$e,c((A=y.entryData)==null?void 0:A.journal_no),1)]),e("div",Ne,[Re,M(" "+c((v=y.entryData)==null?void 0:v.reference_no),1)]),e("div",Ue,[Me,M(" "+c((T=y.entryData)==null?void 0:T.status),1)])]),e("div",Se,[e("div",Oe,[Ie,M(" "+c(((f=y.entryData)==null?void 0:f.created_by_user)??"-"),1)]),e("div",Le,[Pe,M(" "+c((x=y.entryData)==null?void 0:x.date_filed),1)])]),e("div",qe,[e("div",je,[Be,M(" "+c((U=(k=y.entryData)==null?void 0:k.payment_request)==null?void 0:U.description),1)])]),e("div",Fe,[He,e("div",Ge,[e("div",Je,[e("table",Ye,[Qe,e("tbody",ze,[(h(!0),w(N,null,Y((K=y.entryData)==null?void 0:K.details,(s,W)=>{var X,Z,ee,te,se,oe,ne,ae,ce;return h(),w("tr",{key:s.id},[e("td",Ke,[e("div",We,c((s==null?void 0:s.journal_type)??"-"),1)]),e("td",Xe,[e("div",Ze,c((s==null?void 0:s.reference_series)??"-"),1)]),e("td",et,[e("div",tt,c((s==null?void 0:s.reference_no)??"-"),1)]),e("td",st,[e("div",ot,c((s==null?void 0:s.voucher_date)??"-"),1)]),e("td",nt,[e("div",at,c((s==null?void 0:s.po_number)??"-"),1)]),e("td",ct,[e("div",lt,c((s==null?void 0:s.terms)??"-"),1)]),e("td",rt,[e("div",it,c((s==null?void 0:s.supplier_name)??"-"),1)]),e("td",ut,[e("div",dt,c((s==null?void 0:s.payees_name)??"-"),1)]),e("td",pt,[e("div",_t,c((s==null?void 0:s.project_department_name)??"-"),1)]),e("td",mt,[e("div",xt,c((s==null?void 0:s.location)??"-"),1)]),e("td",ht,[e("div",yt,c((s==null?void 0:s.manager)??"-"),1)]),e("td",ft,[e("div",gt,c(((X=s==null?void 0:s.account)==null?void 0:X.account_number)??"-"),1)]),e("td",bt,[e("div",vt,c(((Z=s==null?void 0:s.account)==null?void 0:Z.account_name)??"-"),1)]),e("td",wt,[e("div",At,c(((te=(ee=s==null?void 0:s.account)==null?void 0:ee.account_type)==null?void 0:te.account_category)??"-"),1)]),e("td",Ct,[e("div",kt,c(((oe=(se=s==null?void 0:s.account)==null?void 0:se.account_type)==null?void 0:oe.account_type)??"-"),1)]),e("td",Tt,[e("div",Vt,c(((ne=s==null?void 0:s.account)==null?void 0:ne.sub_account_group)??"-"),1)]),e("td",Dt,[e("div",Et,c(((ce=(ae=s==null?void 0:s.account)==null?void 0:ae.report_group)==null?void 0:ce.name)??"-"),1)]),e("td",$t,[e("div",Nt,c((s==null?void 0:s.debit)>0?("formatToCurrency"in p?p.formatToCurrency:t(le))(s==null?void 0:s.debit):"-"),1)]),e("td",Rt,[e("div",Ut,c((s==null?void 0:s.credit)>0?("formatToCurrency"in p?p.formatToCurrency:t(le))(s==null?void 0:s.credit):"-"),1)]),e("td",Mt,[W===0?(h(),w("div",St,c(("accountingCurrency"in p?p.accountingCurrency:t(L))(s==null?void 0:s.net_amount)),1)):(h(),w("div",Ot," - "))]),e("td",It,[e("div",Lt,c((s==null?void 0:s.particulars)??"-"),1)]),e("td",Pt,[W===0?(h(),w("div",qt,c((s==null?void 0:s.status)??"-"),1)):(h(),w("div",jt," - "))]),e("td",Bt,[e("div",Ft,c((s==null?void 0:s.particular_group)??"-"),1)])])}),128))])])])])])]}),footer:g(()=>[e("div",Ht,[e("button",{class:"w-38 h-8 text-white bg-teal-700 hover:bg-teal-800 focus:ring-4 focus:outline-none focus:ring-teal-300 font-medium rounded-lg text-sm px-2 py-0 text-center dark:bg-teal-600 dark:hover:bg-teal-700 dark:focus:ring-teal-800",onClick:m[0]||(m[0]=a=>i(y.entryData))},[r(d,{name:"ic:baseline-send",color:"white",class:"w-5 h-5"}),M(" Generate Disbursement Voucher ")])])]),_:1},8,["show-modal"])}}},Jt={class:"w-1/3 flex"},Yt={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},Qt={class:"flex justify-center mx-auto"},zt={__name:"ForVoucherList",setup(y){const _=Q(),{forDisbursementVoucherEntries:l}=I(_),n=$(null),i=$(!1),o=d=>{n.value=d,i.value=!0},p=d=>{l.value.params.page=d.page??""},m=[{name:"Journal No.",id:"journal_no"},{name:"Reference No (PRF-no)",id:"reference_no"},{name:"Payee",id:"payment_request.stakeholder.name"},{name:"Amount",id:"total_amount_formatted"},{name:"Date Posted",id:"date_filed"},{name:"Status",id:"status"}],C={showTable:!0};return(d,u)=>{var x;const a=F,b=H,A=G,v=P,T=q,f=Gt;return h(),w(N,null,[r(T,{class:"w-full",loading:t(l).isLoading},{default:g(()=>[r(v,{"if-access":("useCheckAccessibility"in d?d.useCheckAccessibility:t(D))([("AccessibilityTypes"in d?d.AccessibilityTypes:t(E)).ACCOUNTING_VOUCHER_DISBURSEMENT_FOR_DISBURSEMENT_VOUCHER])},{default:g(()=>[e("div",Jt,[r(a,{modelValue:t(l).params.key,"onUpdate:modelValue":u[0]||(u[0]=k=>t(l).params.key=k),title:"DV Number/Journal Voucher Number",class:"w-full"},null,8,["modelValue"])]),e("div",Yt,[r(b,{"header-columns":m,actions:C,datas:t(l).list??[],onShowTable:o},null,8,["datas"]),e("div",Qt,[r(A,{links:t(l).pagination,onChangeParams:p},null,8,["links"])])])]),_:1},8,["if-access"])]),_:1},8,["loading"]),r(f,{showModal:t(i),"onUpdate:showModal":u[1]||(u[1]=k=>J(i)?i.value=k:null),fillable:!1,"entry-data":t(n),type:(x=t(n))==null?void 0:x.status},null,8,["showModal","entry-data","type"])],64)}}},Kt={class:"w-1/3 flex"},Wt={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},Xt={class:"flex justify-center mx-auto"},Zt={__name:"AllList",async setup(y){let _,l;const n=R(),{allDisbursementVouchers:i}=I(n),o=$(null),p=$(!1);[_,l]=ue(()=>n.getAllDisbursementVouchers()),await _,l();const m=a=>{o.value=a,p.value=!0},C=a=>{i.value.params.page=a.page??""},d=[{name:"DV Number",id:"voucher_no"},{name:"Journal Voucher Number",id:"journal_entry.journal_no"},{name:"Payee",id:"journal_entry.payment_request.stakeholder.name"},{name:"Amount",id:"journal_entry.total_amount_formatted"},{name:"Created At",id:"date_filed"},{name:"Status",id:"request_status"}],u={showTable:!0};return(a,b)=>{const A=F,v=H,T=G,f=P,x=q,k=z;return h(),w(N,null,[r(x,{class:"w-full",loading:t(i).isLoading},{default:g(()=>[r(f,{"if-access":("useCheckAccessibility"in a?a.useCheckAccessibility:t(D))([("AccessibilityTypes"in a?a.AccessibilityTypes:t(E)).ACCOUNTING_VOUCHER_DISBURSEMENT_ALL])},{default:g(()=>[e("div",Kt,[r(A,{modelValue:t(i).params.key,"onUpdate:modelValue":b[0]||(b[0]=U=>t(i).params.key=U),title:"DV Number/Journal Voucher Number",class:"w-full"},null,8,["modelValue"])]),e("div",Wt,[r(v,{"header-columns":d,actions:u,datas:t(i).list??[],onShowTable:m},null,8,["datas"]),e("div",Xt,[r(T,{links:t(i).pagination,onChangeParams:C},null,8,["links"])])])]),_:1},8,["if-access"])]),_:1},8,["loading"]),r(k,{showModal:t(p),"onUpdate:showModal":b[1]||(b[1]=U=>J(p)?p.value=U:null),fillable:!1,"voucher-data":t(o)},null,8,["showModal","voucher-data"])],64)}}},es={class:"w-1/3 flex"},ts={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},ss={class:"flex justify-center mx-auto"},os={__name:"ApprovalList",setup(y){const _=R(),{myDisbursementApprovals:l}=I(_),n=$(null),i=$(!1),o=d=>{n.value=d,i.value=!0},p=d=>{l.value.params.page=d.page??""},m=[{name:"DV Number",id:"voucher_no"},{name:"Journal Voucher Number",id:"journal_entry.journal_no"},{name:"Payee",id:"journal_entry.payment_request.stakeholder.name"},{name:"Amount",id:"journal_entry.total_amount_formatted"},{name:"Created At",id:"date_filed"},{name:"Status",id:"request_status"}],C={showTable:!0};return(d,u)=>{const a=F,b=H,A=G,v=P,T=q,f=z;return h(),w(N,null,[r(T,{class:"w-full",loading:t(l).isLoading},{default:g(()=>[r(v,{"if-access":("useCheckAccessibility"in d?d.useCheckAccessibility:t(D))([("AccessibilityTypes"in d?d.AccessibilityTypes:t(E)).ACCOUNTING_VOUCHER_DISBURSEMENT_MY_APPROVAL])},{default:g(()=>[e("div",es,[r(a,{modelValue:t(l).params.key,"onUpdate:modelValue":u[0]||(u[0]=x=>t(l).params.key=x),title:"DV Number/Journal Voucher Number",class:"w-full"},null,8,["modelValue"])]),e("div",ts,[r(b,{"header-columns":m,actions:C,datas:t(l).list??[],onShowTable:o},null,8,["datas"]),e("div",ss,[r(A,{links:t(l).pagination,onChangeParams:p},null,8,["links"])])])]),_:1},8,["if-access"])]),_:1},8,["loading"]),r(f,{showModal:t(i),"onUpdate:showModal":u[1]||(u[1]=x=>J(i)?i.value=x:null),fillable:!1,"voucher-data":t(n)},null,8,["showModal","voucher-data"])],64)}}},ns={class:"w-1/3 flex"},as={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},cs={class:"flex justify-center mx-auto"},ls={__name:"MyRequestList",setup(y){const _=R(),{myDisbursementVouchers:l}=I(_),n=$(null),i=$(!1),o=d=>{n.value=d,i.value=!0},p=d=>{l.value.params.page=d.page??""},m=[{name:"DV Number",id:"voucher_no"},{name:"Journal Voucher Number",id:"journal_entry.journal_no"},{name:"Payee",id:"journal_entry.payment_request.stakeholder.name"},{name:"Amount",id:"journal_entry.total_amount_formatted"},{name:"Created At",id:"date_filed"},{name:"Status",id:"request_status"}],C={showTable:!0};return(d,u)=>{const a=F,b=H,A=G,v=P,T=q,f=z;return h(),w(N,null,[r(T,{class:"w-full",loading:t(l).isLoading},{default:g(()=>[r(v,{"if-access":("useCheckAccessibility"in d?d.useCheckAccessibility:t(D))([("AccessibilityTypes"in d?d.AccessibilityTypes:t(E)).ACCOUNTING_VOUCHER_DISBURSEMENT_MY_REQUEST])},{default:g(()=>[e("div",ns,[r(a,{modelValue:t(l).params.key,"onUpdate:modelValue":u[0]||(u[0]=x=>t(l).params.key=x),title:"DV Number/Journal Voucher Number",class:"w-full"},null,8,["modelValue"])]),e("div",as,[r(b,{"header-columns":m,actions:C,datas:t(l).list??[],onShowTable:o},null,8,["datas"]),e("div",cs,[r(A,{links:t(l).pagination,onChangeParams:p},null,8,["links"])])])]),_:1},8,["if-access"])]),_:1},8,["loading"]),r(f,{showModal:t(i),"onUpdate:showModal":u[1]||(u[1]=x=>J(i)?i.value=x:null),fillable:!1,"voucher-data":t(n)},null,8,["showModal","voucher-data"])],64)}}},rs={class:"flex gap-2"},is={class:"w-full grid grid-cols-5 gap-2 bg-white p-3 rounded-lg shadow-sm"},us={class:"flex flex-col"},ds=e("span",{class:"text-xs text-gray-500"},"Account",-1),ps={class:"font-medium"},_s={class:"flex flex-col"},ms=e("span",{class:"text-xs text-gray-500"},"Description",-1),xs={class:"font-medium"},hs={class:"flex flex-col"},ys=e("span",{class:"text-xs text-gray-500"},"Stakeholder",-1),fs={class:"font-medium"},gs={class:"flex flex-col"},bs=e("span",{class:"text-xs text-gray-500"},"Debit",-1),vs={class:"font-medium text-right"},ws={class:"flex flex-col"},As=e("span",{class:"text-xs text-gray-500"},"Credit",-1),Cs={class:"font-medium text-right"},ks={__name:"DetailItem",props:re({index:{type:Number,required:!0}},{modelValue:{required:!0,type:Object}}),emits:["update:modelValue"],setup(y){const _=ie(y,"modelValue");return(l,n)=>{var i,o;return h(),w("div",rs,[e("div",is,[e("div",us,[ds,e("span",ps,c((i=_.value.account)==null?void 0:i.account_name),1)]),e("div",_s,[ms,e("span",xs,c(_.value.description||"-"),1)]),e("div",hs,[ys,e("span",fs,c((o=_.value.stakeholder)==null?void 0:o.name),1)]),e("div",gs,[bs,e("span",vs,c(("accountingCurrency"in l?l.accountingCurrency:t(L))(_.value.debit)),1)]),e("div",ws,[As,e("span",Cs,c(("accountingCurrency"in l?l.accountingCurrency:t(L))(_.value.credit)),1)])])])}}},Ts=["onSubmit"],Vs={class:"flex flex-col gap-16 pt-8 sticky"},Ds=e("h1",{class:"text-2xl text-center font-bold"}," DISBURSEMENT VOUCHER FORM ",-1),Es={class:"w-full"},$s={class:"flex gap-2"},Ns={class:"w-full"},Rs=e("label",{for:"dv",class:"text-xs italic"},"DV Number",-1),Us={class:"w-full"},Ms=e("label",{for:"total",class:"text-xs italic"},"Total Amount",-1),Ss={class:"w-full"},Os=e("label",{for:"date",class:"text-xs italic"},"Date",-1),Is={class:"grid grid-cols-3 gap-4"},Ls=e("label",{for:"payee",class:"text-xs italic"},"Payee",-1),Ps=e("div",null,[e("label",{for:"dv",class:"text-xs italic"},"Voucher Type"),e("p",null," Disbursement ")],-1),qs=e("label",{for:"dv",class:"text-xs italic"},"Referrence No",-1),js={class:"w-full"},Bs=e("label",{for:"description",class:"text-xs italic"},"Particulars/Description",-1),Fs={class:"w-full"},Hs=e("div",{class:"flex justify-between"},[e("h2",{class:"text-xl font-bold text-center"}," DISBURSEMENT VOUCHER DETAILS ")],-1),Gs={class:"flex flex-col bg-gray-100 rounded-lg gap-2"},Js={class:"w-full grid grid-cols-5 gap-2 bg-white p-3 rounded-lg shadow-sm"},Ys=e("div",{class:"flex flex-col"}," - ",-1),Qs=e("div",{class:"flex flex-col"}," - ",-1),zs=e("div",{class:"flex flex-col"}," - ",-1),Ks={class:"flex flex-col"},Ws=e("span",{class:"text-xs text-gray-500"},"Total Debit",-1),Xs={class:"font-medium text-right"},Zs={class:"flex flex-col"},eo=e("span",{class:"text-xs text-gray-500"},"Total Credit",-1),to={class:"font-medium text-right"},so={key:0,class:"block text-center text-gray-600"},oo={class:"w-full"},no=e("label",{for:"approved_by",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Approvals",-1),ao=e("div",{class:"flex justify-end"},[e("div",{class:"flex gap-2 jus"},[e("button",{type:"submit",class:"text-white p-2 px-4 bg-teal-600 content-center mt-5 rounded-md w-fit"}," Submit ")])],-1),co={__name:"CreateForm",props:{fillable:{type:Boolean,required:!1,default:!1}},async setup(y){let _,l;const n=R(),i=Q(),{voucherDisbursement:o}=I(n),p=fe(),m=Ae();o.value.approvals=([_,l]=ue(()=>m.getApprovalByName(Ce)),_=await _,l(),_);const C=async()=>{try{await n.addVoucherDisbursement(),i.getForDisbursementVoucherEntries(),o.value.successMessage?p.add({type:"success",text:o.value.successMessage}):p.add({type:"error",text:o.value.errorMessage})}catch{p.add({type:"error",text:o.value.errorMessage})}},d=u=>{o.value.details.splice(u,1)};return o.value.total_vat_amount=j(()=>o.value.details.reduce((u,a)=>u+parseFloat(a.total_vat_amount),0)),o.value.total=j(()=>o.value.details.reduce((u,a)=>u+parseFloat(a.amount),0)),o.value.total_debit=j(()=>o.value.details.reduce((u,a)=>u+parseFloat(a.debit),0)),o.value.total_credit=j(()=>o.value.details.reduce((u,a)=>u+parseFloat(a.credit),0)),(u,a)=>{const b=ks,A=ve,v=we,T=q;return h(),V(T,{title:"Disbursement Voucher Form",loading:t(o).isLoading,class:"w-90"},{default:g(()=>[e("div",null,[e("form",{onSubmit:ge(C,["prevent"])},[e("div",Vs,[Ds,e("div",Es,[e("div",$s,[e("div",Ns,[Rs,S(e("input",{id:"dv","onUpdate:modelValue":a[0]||(a[0]=f=>t(o).voucher_no=f),type:"text",class:"w-full rounded-lg",required:""},null,512),[[B,t(o).voucher_no]])]),e("div",Us,[e("div",null,[Ms,S(e("input",{id:"total","onUpdate:modelValue":a[1]||(a[1]=f=>t(o).net_amount=f),type:"number",disabled:"",class:"w-full rounded-lg",required:""},null,512),[[B,t(o).net_amount]])])]),e("div",Ss,[e("div",null,[Os,S(e("input",{id:"date","onUpdate:modelValue":a[2]||(a[2]=f=>t(o).voucher_date=f),type:"date",class:"w-full rounded-lg",required:""},null,512),[[B,t(o).voucher_date]])])])]),e("div",Is,[e("div",null,[Ls,e("p",null,c(t(o).stakeholderInformation.name),1)]),Ps,e("div",null,[qs,e("p",null,c(t(o).reference_no),1)])]),e("div",null,[e("div",js,[Bs,S(e("textarea",{id:"description","onUpdate:modelValue":a[3]||(a[3]=f=>t(o).particulars=f),class:"w-full rounded-lg"},null,512),[[B,t(o).particulars]])])])]),e("div",Fs,[Hs,S(e("div",Gs,[(h(!0),w(N,null,Y(t(o).details,(f,x)=>(h(),V(b,{key:"detail"+x,modelValue:t(o).details[x],"onUpdate:modelValue":k=>t(o).details[x]=k,index:x,onDeleteItem:k=>d(x)},null,8,["modelValue","onUpdate:modelValue","index","onDeleteItem"]))),128)),e("div",Js,[Ys,Qs,zs,e("div",Ks,[Ws,e("span",Xs,c(("accountingCurrency"in u?u.accountingCurrency:t(L))(t(o).net_amount)),1)]),e("div",Zs,[eo,e("span",to,c(("accountingCurrency"in u?u.accountingCurrency:t(L))(t(o).net_amount)),1)])])],512),[[de,t(o).details.length>0]]),t(o).details.length===0?(h(),w("span",so," No entries yet. ")):O("",!0)]),e("div",oo,[r(A),no,e("div",null,[(h(!0),w(N,null,Y(t(o).approvals,(f,x)=>(h(),V(v,{key:"hrmsetupapprovallist"+x,modelValue:t(o).approvals[x],"onUpdate:modelValue":k=>t(o).approvals[x]=k},null,8,["modelValue","onUpdate:modelValue"]))),128))])]),ao])],40,Ts)])]),_:1},8,["loading"])}}},lo={__name:"DisbursementRequestForm",props:{fillable:{type:Boolean,required:!1,default:!1},paymentData:{type:Object,required:!1,default:null}},setup(y){return(_,l)=>{const n=co;return S((h(),w("div",null,[r(n)],512)),[[de,y.fillable]])}}},ro={class:"flex flex-col gap-4"},io=e("div",{class:"w-full"},[e("p",{class:"text-xl"}," Disbursement Voucher ")],-1),uo={class:"w-full"},Go={__name:"index",setup(y){const _=Q(),l=R();return(n,i)=>{const o=pe,p=zt,m=_e,C=Zt,d=os,u=ls,a=me,b=lo,A=P;return h(),V(A,{"if-access":("useCheckAccessibility"in n?n.useCheckAccessibility:t(D))([("AccessibilityTypes"in n?n.AccessibilityTypes:t(E)).ACCOUNTING_VOUCHER_DISBURSEMENT_GROUP])},{default:g(()=>[e("div",ro,[io,r(a,{class:"w-full"},{"tab-titles":g(()=>[("useCheckAccessibility"in n?n.useCheckAccessibility:t(D))([("AccessibilityTypes"in n?n.AccessibilityTypes:t(E)).ACCOUNTING_VOUCHER_DISBURSEMENT_ALL])?(h(),V(o,{key:0,title:"All List","target-id":"allList"})):O("",!0),("useCheckAccessibility"in n?n.useCheckAccessibility:t(D))([("AccessibilityTypes"in n?n.AccessibilityTypes:t(E)).ACCOUNTING_VOUCHER_DISBURSEMENT_MY_APPROVAL])?(h(),V(o,{key:1,title:"For Approval","target-id":"forApproval",onClickOnce:i[0]||(i[0]=v=>t(l).getMyDisbursementApprovals())})):O("",!0),("useCheckAccessibility"in n?n.useCheckAccessibility:t(D))([("AccessibilityTypes"in n?n.AccessibilityTypes:t(E)).ACCOUNTING_VOUCHER_DISBURSEMENT_MY_REQUEST])?(h(),V(o,{key:2,title:"My Request List","target-id":"myRequestList",onClickOnce:i[1]||(i[1]=v=>t(l).getMyDisbursementVouchers())})):O("",!0),("useCheckAccessibility"in n?n.useCheckAccessibility:t(D))([("AccessibilityTypes"in n?n.AccessibilityTypes:t(E)).ACCOUNTING_VOUCHER_DISBURSEMENT_FOR_DISBURSEMENT_VOUCHER])?(h(),V(o,{key:3,title:"For Disbursement Voucher","target-id":"forVoucher",onClickOnce:i[2]||(i[2]=v=>t(_).getForDisbursementVoucherEntries())})):O("",!0)]),"tab-containers":g(()=>[r(m,{id:"forVoucher"},{default:g(()=>[r(p)]),_:1}),r(m,{id:"allList"},{default:g(()=>[r(C)]),_:1}),r(m,{id:"forApproval"},{default:g(()=>[r(d)]),_:1}),r(m,{id:"myRequestList"},{default:g(()=>[r(u)]),_:1})]),_:1}),e("div",uo,[t(l).voucherDisbursement.reference_no?(h(),V(b,{key:0,fillable:!0})):O("",!0)])])]),_:1},8,["if-access"])}}};export{Go as default};
