import{_ as A}from"./LayoutBoards.vue.D_rbqYxd.js";import{ab as R,r as c,B,k as S,o as w,h as k,w as z,a,b as m,u as d,O as U}from"./entry.32UGFqj-.js";import{h as b}from"./CustomFetch.ggXvTdIz.js";import{_ as F}from"./AcessContainer.Dum7aOuo.js";import{u as L}from"./vue.f36acd1f.Ds2AlAv6.js";import{u as $}from"./Accessibilities.xGffDRXj.js";import"./loader.BQ9QddgL.js";import"./users.G4iuGzk0.js";const T={class:"min-w-full overflow-auto"},j={class:"flex gap-2 justify-end"},N={class:"w-full md:w-1/5"},O=a("label",{class:"w-full block mb-2 text-sm font-medium text-gray-100 dark:text-white text-center bg-green-600 p-2 border rounded border-green-950",for:"bulk_upload_file"},"Upload CSV or Excel file",-1),H={class:"w-full md:w-1/5"},P={class:"w-full p-2"},M=a("p",{class:"w-full text-lg font-bold"}," Unsaved Data ",-1),V={class:"w-full p-2"},I=a("p",{class:"w-full text-lg font-bold"}," Saved Data ",-1),X={__name:"bulkuploadsForm",setup(C){const{token:r}=R(),p=U(),u=c(!1),s=B(),i=c(!1),h=[{text:"family name",value:"family_name"},{text:"first name",value:"first_name"},{text:"middle name",value:"middle_name"},{text:"name suffix",value:"name_suffix"},{text:"nick name",value:"nick_name"},{text:"pre street",value:"pre_street"},{text:"pre brgy",value:"pre_brgy"},{text:"pre city",value:"pre_city"},{text:"pre zip",value:"pre_zip"},{text:"pre province",value:"pre_province"},{text:"telephone number",value:"telephone_number"},{text:"mobile number",value:"mobile_number"},{text:"per street",value:"per_street"},{text:"per brgy",value:"per_brgy"},{text:"per city",value:"per_city"},{text:"per zip",value:"per_zip"},{text:"per province",value:"per_province"},{text:"date of birth",value:"date_of_birth"},{text:"place of birth",value:"place_of_birth"},{text:"citizenship",value:"citizenship"},{text:"blood type",value:"blood_type"},{text:"gender",value:"gender"},{text:"religion",value:"religion"},{text:"civil status",value:"civil_status"},{text:"date of marriage",value:"date_of_marriage"},{text:"height",value:"height"},{text:"weight",value:"weight"},{text:"phic number",value:"phic_number"},{text:"pagibig number",value:"pagibig_number"},{text:"tin number",value:"tin_number"},{text:"sss number",value:"sss_number"},{text:"father name",value:"father_name"},{text:"mother name",value:"mother_name"},{text:"spouse name",value:"spouse_name"},{text:"spouse datebirth",value:"spouse_datebirth"},{text:"spouse occupation",value:"spouse_occupation"},{text:"spouse contact no",value:"spouse_contact_no"},{text:"childrens",value:"childrens"},{text:"childrens date of birth",value:"childrens_date_of_birth"},{text:"person to contact name",value:"person_to_contact_name"},{text:"person to contact street",value:"person_to_contact_street"},{text:"person to contact brgy",value:"person_to_contact_brgy"},{text:"person to contact city",value:"person_to_contact_city"},{text:"person to contact zip",value:"person_to_contact_zip"},{text:"person to province",value:"person_to_province"},{text:"person to contact no",value:"person_to_contact_no"},{text:"person to contact relationship",value:"person_to_contact_relationship"},{text:"previous hospitalization",value:"previous_hospitalization"},{text:"previous operation",value:"previous_operation"},{text:"current undergoing treatment",value:"current_undergoing_treatment"},{text:"convicted crime",value:"convicted_crime"},{text:"dismissed resigned",value:"dismissed_resigned"},{text:"pending administrative",value:"pending_administrative"},{text:"name of relative working with",value:"name_of_relative_working_with"},{text:"relationship of relative working with",value:"relationship_of_relative_working_with"},{text:"position of relative working with",value:"position_of_relative_working_with"},{text:"elementary",value:"elementary"},{text:"name of school elementary",value:"name_of_school_elementary"},{text:"degree earned of school elementary",value:"degree_earned_of_school_elementary"},{text:"dates of school elementary",value:"dates_of_school_elementary"},{text:"honor of school elementary",value:"honor_of_school_elementary"},{text:"highschool",value:"highschool"},{text:"name of school highschool",value:"name_of_school_highschool"},{text:"degree earned of school highschool",value:"degree_earned_of_school_highschool"},{text:"dates of school highschool",value:"dates_of_school_highschool"},{text:"honor of school highschool",value:"honor_of_school_highschool"},{text:"college",value:"college"},{text:"name of school college",value:"name_of_school_college"},{text:"degree earned of school college",value:"degree_earned_of_school_college"},{text:"dates of school college",value:"dates_of_school_college"},{text:"honor of school college",value:"honor_of_school_college"},{text:"vocational",value:"vocational"},{text:"name of school vocational",value:"name_of_school_vocational"},{text:"degree earned of school vocational",value:"degree_earned_of_school_vocational"},{text:"dates of school vocational",value:"dates_of_school_vocational"},{text:"honor of school vocational",value:"honor_of_school_vocational"},{text:"master thesis name",value:"master_thesis_name"},{text:"master thesis date",value:"master_thesis_date"},{text:"doctorate desertation name",value:"doctorate_desertation_name"},{text:"doctorate desertation date",value:"doctorate_desertation_date"},{text:"professional license name",value:"professional_license_name"},{text:"professional license date",value:"professional_license_date"},{text:"reference name",value:"reference_name"},{text:"reference address",value:"reference_address"},{text:"reference posiiton",value:"reference_posiiton"},{text:"reference contact no",value:"reference_contact_no"},{text:"employee id",value:"employee_id"},{text:"company information",value:"company_information"},{text:"date hired",value:"date_hired"},{text:"section program",value:"section_program"},{text:"employment status",value:"employment_status"},{text:"position",value:"position"},{text:"section project code",value:"section_project_code"},{text:"Department",value:"department"},{text:"Division",value:"division"},{text:"immediate supervisor",value:"immediate_supervisor"},{text:"salary grade level",value:"salary_grade_level"},{text:"salary grade step",value:"salary_grade_step"},{text:"work location",value:"work_location"},{text:"hire source",value:"hire_source"},{text:"salary type",value:"salary_type"}],f=c([]),v=c([]),_=c([]),D=async()=>{i.value=!0;const l=new FormData;l.append("employees_data",JSON.stringify(_.value)),await b("/api/employee/bulk-save",{baseURL:p.public.HRMS_API_URL,method:"POST",headers:{Authorization:r.value+"",Accept:"application/json"},body:l,watch:!1,onResponse:({response:e})=>{var o,t,n;if(e.ok)f.value=(o=e._data)==null?void 0:o.data.extract,v.value=(t=e._data)==null?void 0:t.data.save,_.value=(n=e._data)==null?void 0:n.data.unsave,s.add({type:"success",text:e._data.message});else throw s.add({type:"danger",text:e==null?void 0:e._data.message}),new Error(e._data.message)}},"$sofBMXE2Gi"),u.value=!0,i.value=!1},E=async l=>{i.value=!0;const e=l.target.files[0],o=new FormData;o.append("employees-data",e),await b("/api/employee/bulk-upload",{baseURL:p.public.HRMS_API_URL,method:"POST",headers:{Authorization:r.value+"",Accept:"application/json"},body:o,watch:!1,onResponse:({response:t})=>{var n,g,y;if(t.ok)f.value=(n=t._data)==null?void 0:n.data.extract,v.value=(g=t._data)==null?void 0:g.data.save,_.value=(y=t._data)==null?void 0:y.data.unsave,s.add({type:"success",text:t._data.message});else throw s.add({type:"danger",text:"Error Extracting Data"+t._data.message}),new Error(t._data.message)}},"$CXs8TgvFf6"),u.value=!0,i.value=!1},x=l=>{if(l._status==="duplicate")return"duplicate-row"};return(l,e)=>{const o=S("EasyDataTable"),t=A;return w(),k(t,{title:"Create New Type",loading:d(i),class:"w-full h-fit"},{default:z(()=>[a("div",T,[a("div",j,[a("div",N,[O,a("input",{id:"bulk_upload_file",class:"hidden text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400",type:"file",accept:".csv, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:E},null,32)]),a("div",H,[a("button",{class:"w-full block mb-2 text-sm font-medium text-gray-100 dark:text-white text-center bg-blue-500 hover:bg-blue-400 p-2 border rounded border-blue-950",onClick:e[0]||(e[0]=n=>D())}," Save ")])]),a("div",P,[M,m(o,{"show-index":"",headers:h,"body-row-class-name":x,items:d(_),class:"mt-5 z-0"},null,8,["items"])]),a("div",V,[I,m(o,{"show-index":"",headers:h,"body-row-class-name":x,items:d(v),class:"mt-5 z-0"},null,8,["items"])])])]),_:1},8,["loading"])}}},G={class:"flex flex-col md:flex-row gap-4"},te={__name:"bulk-upload-employee",setup(C){return L({title:"Bulk Upload Employee"}),(r,p)=>{const u=X,s=F;return w(),k(s,{"if-access":("useCheckAccessibility"in r?r.useCheckAccessibility:d($))(["AdminOnly"])},{default:z(()=>[a("div",G,[m(u)])]),_:1},8,["if-access"])}}};export{te as default};
