import{_ as j}from"./AccounttypeCreate.DS75XTGe.js";import{_ as q}from"./editBoards.vue.DJ7sTR7u.js";import{_ as P,s as w,B as $,r as B,o as m,h as S,w as k,a as e,g as R,x as u,u as t,A as G,c as C,F as O,i as z,t as y,D as M,j as H,G as N,y as h,p as Y,e as J,b as f}from"./entry.R6V7NTxy.js";import{u as K}from"./Utilities.Cbr1Z9cn.js";import{u as E}from"./accounttype.DaqzDmyP.js";import{_ as Q}from"./PsTextInput.vue.DFQbUHfC.js";import{_ as W}from"./PsTable.CTJad9K5.js";import{_ as X}from"./CustomPagination.CR9ildFS.js";import{_ as Z}from"./LayoutBoards.vue.1keADq5t.js";import{_ as tt}from"./AcessContainer.DJcSsti6.js";import{u as et}from"./vue.f36acd1f.Dv_A-myg.js";import{u as st,A as ot}from"./Accessibilities.uaboihcy.js";import"./loader.C2wIXBoB.js";import"./CustomFetch.BRBLzGci.js";import"./id.Dwf9xs1O.js";import"./client-only.QuN6N-R_.js";import"./Icon.DcF_NU9d.js";import"./index.T-zbMaZc.js";import"./nuxt-link.drPfi767.js";import"./users.D5_vMoUK.js";const d=p=>(Y("data-v-10fd705f"),p=p(),J(),p),at={class:"text-gray-500 mt-2"},nt=["onSubmit"],ct={class:"flex flex-col gap-2"},it=d(()=>e("label",{for:"account_type",class:"text-xs italic"},"Account Type",-1)),lt=d(()=>e("label",{for:"account_category",class:"text-xs italic"},"Category",-1)),rt=["value"],ut=d(()=>e("label",{for:"balance_type",class:"text-xs italic"},"Balance Type",-1)),dt=d(()=>e("option",{value:"debit"}," Debit ",-1)),pt=d(()=>e("option",{value:"credit"}," Credit ",-1)),_t=[dt,pt],mt={class:"flex flex-col"},yt=d(()=>e("label",{for:"account_type",class:"text-xs italic"},"Notation",-1)),ft={key:0,class:"text-3xl font-bold"},gt=d(()=>e("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-teal-600 content-center mt-5 hover:bg-teal-500"}," Save ",-1)),xt={__name:"AccounttypeEdit",setup(p){const s=E(),{accountType:o,categories:n,errorMessage:g,successMessage:_}=w(s),r=$(),c=B(!1),x=()=>{s.isEdit=!1,s.reset()},T=async()=>{try{c.value=!0,await s.editAccountType(),r.add({type:"success",text:s.successMessage})}catch{r.add({type:"error",text:s.errorMessage||"something went wrong."})}finally{s.clearMessages(),c.value=!1}},v=()=>{s.accountType.notation=s.accountType.balance_type==="debit"?"+":"-"};return(b,i)=>{const A=q;return m(),S(A,{title:"Edit Account Type",loading:t(c)},{default:k(()=>[e("div",at,[e("form",{onSubmit:R(T,["prevent"])},[e("div",ct,[e("div",null,[it,u(e("input",{id:"accountType","onUpdate:modelValue":i[0]||(i[0]=a=>t(o).account_type=a),type:"text",class:"w-full rounded-lg",required:""},null,512),[[G,t(o).account_type]])]),e("div",null,[lt,u(e("select",{id:"accountCategory","onUpdate:modelValue":i[1]||(i[1]=a=>t(o).account_category=a),class:"w-full rounded-lg",required:""},[(m(!0),C(O,null,z(t(n),(a,l)=>(m(),C("option",{key:l,value:a},y(("upperFirst"in b?b.upperFirst:t(K))(a)),9,rt))),128))],512),[[M,t(o).account_category]])]),e("div",null,[ut,u(e("select",{id:"balanceType","onUpdate:modelValue":i[2]||(i[2]=a=>t(o).balance_type=a),class:"w-full rounded-lg",required:"",onChange:v},_t,544),[[M,t(o).balance_type]])]),e("div",mt,[yt,t(o).notation.length>0?(m(),C("span",ft,y(t(o).notation),1)):H("",!0)])]),e("div",{class:"flex justify-end gap-2"},[gt,e("button",{type:"button",class:"flex-1 text-white p-2 rounded bg-gray-700 content-center mt-5 hover:bg-gray-500",onClick:x}," Cancel ")])],40,nt),e("p",{hidden:"",class:N(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!t(g)}])},y(t(g)),3),u(e("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic transition-opacity delay-1000"},y(t(_)),513),[[h,t(_)]])])]),_:1},8,["loading"])}}},bt=P(xt,[["__scopeId","data-v-10fd705f"]]),ht={class:"w-1/2 flex px-4"},Tt={class:"pb-2 text-gray-500"},vt={class:"flex justify-center mx-auto"},At={__name:"AccounttypeList",setup(p){const s=E(),{list:o,isEdit:n,getParams:g,pagination:_,errorMessage:r,successMessage:c}=w(s),x=l=>{n.value=!0,s.accountType=l},T=async l=>{try{a.value=!0,await s.deleteAccountType(l.id),A.add({type:"success",text:s.successMessage})}finally{a.value=!1}},v=l=>{g.value.page=l.page??"",s.getAccountTypes()},b=[{name:"Account Type",id:"account_type"},{name:"Category",id:"account_category"},{name:"Balance Type",id:"balance_type"},{name:"Notation",id:"notation"}],i={edit:!0,delete:!0},A=$(),a=B(!1);return(l,L)=>{const V=Q,I=W,U=X,F=Z;return m(),S(F,{title:"Account Type List",class:"w-full",loading:t(s).isLoading.list},{default:k(()=>[e("div",ht,[f(V,{modelValue:t(s).getParams.key,"onUpdate:modelValue":L[0]||(L[0]=D=>t(s).getParams.key=D),title:"Search Account Type",class:"w-full"},null,8,["modelValue"])]),e("div",Tt,[f(I,{"header-columns":b,datas:t(o),actions:i,onEditRow:x,onDeleteRow:T},null,8,["datas"])]),e("div",vt,[f(U,{links:t(_),onChangeParams:v},null,8,["links"])]),e("p",{hidden:"",class:N(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!t(r)}])},y(t(r)),3),u(e("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic"},y(t(c)),513),[[h,t(c)]])]),_:1},8,["loading"])}}},Ct={class:"flex flex-col md:flex-row gap-4"},wt={__name:"index",setup(p){const s=E(),{isEdit:o}=w(s);return s.getAccountTypes(),s.getAccountCategories(),et({title:"Account Type"}),(n,g)=>{const _=j,r=bt,c=At,x=tt;return m(),S(x,{"if-access":("useCheckAccessibility"in n?n.useCheckAccessibility:t(st))([("AccessibilityTypes"in n?n.AccessibilityTypes:t(ot)).ACCOUNTING_SETUP_ACCOUNT_TYPES])},{default:k(()=>[e("div",Ct,[u(f(_,{class:"flex-1"},null,512),[[h,!t(o)]]),u(f(r,{class:"flex-1"},null,512),[[h,t(o)]]),f(c,{class:"flex-2"})])]),_:1},8,["if-access"])}}},Ht=P(wt,[["__scopeId","data-v-064bc9b0"]]);export{Ht as default};
