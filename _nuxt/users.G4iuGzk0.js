import{b as s}from"./CustomFetch.ggXvTdIz.js";import{l as t}from"./entry.32UGFqj-.js";const d="Administrator",c=t("users",{state:()=>({isEdit:!1,list:[],createData:{params:{id:null,name:"",email:"",password:"",accessibilities:[],employee_id:null,employee_details:{},accessibilities_name:[],type:""},errorMessage:"",successMessage:""},editData:{params:{id:null,name:"",email:"",password:"",accessibilities:[],employee_id:null,employee_details:{},accessibilities_name:[],type:""},errorMessage:"",successMessage:""},editCurrent:{params:{name:"",email:"",password:"",confirm_password:"",current_password:"",typechange:""},errorMessage:"",successMessage:""},employeeUserList:[],pagination:{},getParams:{},errorMessage:"",successMessage:""}),actions:{async createEmployeeAccount(){this.createData.params.accessibilities=this.editData.params.accessibilities,await s("/api/users",{method:"POST",body:this.createData.params,onResponse:({response:a})=>{if(a.ok)return this.createData.successMessage=a._data.message,a._data;throw this.createData.errorMessage=a._data.message,new Error(a._data.message)}})},async editEmployeeAccount(){await s("/api/users/"+this.editData.params.id,{method:"PATCH",body:this.editData.params,onResponse:({response:a})=>{if(a.ok)return this.editData.successMessage=a._data.message,a._data;throw this.editData.errorMessage=a._data.message,new Error(a._data.message)}})},async getEmployeeAccount(a){await s("/api/user-account-by-employee-id/"+a,{method:"GET",params:a,onResponse:({response:e})=>{if(e.ok)return this.editData.params=e._data.data,e._data;throw this.editData.errorMessage=e._data.message,new Error(e._data.message)}})},async editCurrentUser(){await s("/api/update-user",{method:"PUT",params:this.editCurrent.params,onResponse:({response:a})=>{if(a.ok)return this.$reset(),this.editCurrent.successMessage=a._data.message,a._data;throw this.editCurrent.errorMessage=a._data.message,new Error(a._data.message)}})},async setUserAccessibilities(a){await s("/api/users_accessibilities"+a,{method:"PATCH",params:this.editData.params,onResponse:({response:e})=>{if(e.ok)return this.$reset(),this.editData.successMessage=e._data.message,e._data;throw this.editData.errorMessage=e._data.message,new Error(e._data.message)}})}}});export{d as U,c as u};
