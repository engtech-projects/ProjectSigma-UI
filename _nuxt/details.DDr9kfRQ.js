import{a as j,_ as E}from"./AcessContainer.Dum7aOuo.js";import{_ as G}from"./ListView.CUwkSJ9r.js";import{_ as K}from"./ApprovalDenyButton.2aaI0auR.js";import{_ as M}from"./LayoutBoards.vue.D_rbqYxd.js";import{_ as Q}from"./RequestDetails.DPAxYhpH.js";import{_ as z}from"./RequestDetails.DNwO48j-.js";import{_ as J}from"./RequestDetails._YzPrvTX.js";import{_ as W}from"./RequestDetails.C8dzRGuI.js";import{u as X}from"./vue.f36acd1f.Ds2AlAv6.js";import{u as Y}from"./id.WqrvI90c.js";import{f as Z,r as y,ax as ee,B as te,K as ae,o,h as i,w as f,b as v,u as e,j as r,c as V,F as se,a,d as l,t as c,v as oe}from"./entry.32UGFqj-.js";import{a as re,u as ie,A as ne}from"./Accessibilities.xGffDRXj.js";import{u as de}from"./void.C7S966VH.js";import"./Icon.CrHlyQOo.js";import"./index.T-zbMaZc.js";import"./loader.BQ9QddgL.js";import"./PsTable.BPIFONj1.js";import"./nuxt-link.C5IpI_HT.js";import"./Utilities.DofxnkSu.js";import"./client-only.CuVny2dr.js";import"./users.G4iuGzk0.js";import"./CustomFetch.ggXvTdIz.js";const le={class:"grid md:grid-cols-2 gap-2 md:justify-between"},ce={class:"p-2 flex gap-2"},ue=a("span",{class:"text-teal-600 text-light font-medium"},"Request Type: ",-1),pe={class:"text-gray-900"},me={class:"p-2 flex gap-2"},_e=a("span",{class:"text-teal-600 text-light font-medium"},"Payroll Type: ",-1),ye={class:"p-2 flex gap-2"},fe=a("span",{class:"text-teal-600 text-light font-medium"},"Requested By: ",-1),ve=a("br",null,null,-1),he={class:"p-2 flex gap-2"},qe=a("span",{class:"text-teal-600 text-light font-medium"},"Request Status: ",-1),ge={key:0,class:"flex gap-2 p-2 justify-end relative"},Ge=Z({__name:"details",setup(Re){X({title:"Void Request Details"});const u=de(),$=Y("$QttJKzGbH9"),d=y(!1),p=ee(),t=y(),m=te();ae(async()=>{p.query.id&&(d.value=!0,t.value=await u.getOne(p.query.id),d.value=!1)});const B=async s=>{try{d.value=!0,await u.approveApprovalForm(s),m.add({type:"success",text:"Successfully Approved."}),t.value=await u.getOne(p.query.id)}catch(n){m.add({type:"error",text:n||"something went wrong."})}finally{d.value=!1}},_=y(""),H=async s=>{try{await u.denyApprovalForm(s,_.value),m.add({type:"success",text:"Successfully Denied"})}catch(n){m.add({type:"error",text:n||"something went wrong."})}};return(s,n)=>{const L=j,O=G,T=K,h=M,S=Q,I=z,U=J,F=W,N=E;return o(),i(N,{"if-access":("useCheckAccessibility"in s?s.useCheckAccessibility:e(ie))([("AccessibilityTypes"in s?s.AccessibilityTypes:e(ne)).HRMS_REQUEST_VOID_GROUP]),"comp-id":e($),class:"min-h-40 flex flex-col gap-2"},{default:f(()=>{var q;return[v(h,{title:"Void Request Details","is-loading":e(d)},{default:f(()=>{var g,R,k,x,w,A,C,b,D;return[e(p).query.id?r("",!0):(o(),i(L,{key:0,message:"Please select a Void Request"})),(g=e(t))!=null&&g.data?(o(),V(se,{key:1},[a("div",le,[a("div",ce,[ue,l(),a("span",pe,c((R=e(t))==null?void 0:R.data.void_type),1)]),a("div",me,[_e,l(" "+c((k=e(t))==null?void 0:k.data.reason_for_void),1)]),a("div",ye,[fe,l(" "+c((x=e(t))==null?void 0:x.data.created_by_user_name),1),ve,l(c((w=e(t))==null?void 0:w.data.created_at_human),1)]),a("div",he,[qe,l(" "+c((A=e(t))==null?void 0:A.data.request_status),1)])]),v(O,{approvals:e(t).data.approvals,"signature-view":((C=e(t).data.request_status)==null?void 0:C.toLowerCase())==="approved"},null,8,["approvals","signature-view"]),e(t).data.next_approval&&("useCheckIsCurrentUser"in s?s.useCheckIsCurrentUser:e(re))((b=e(t).data.next_approval)==null?void 0:b.user_id)?(o(),V("div",ge,[v(T,{"deny-remarks":e(_),"onUpdate:denyRemarks":n[0]||(n[0]=P=>oe(_)?_.value=P:null),"request-id":(D=e(t))==null?void 0:D.data.id,onApprove:B,onDeny:H},null,8,["deny-remarks","request-id"])])):r("",!0)],64)):r("",!0)]}),_:1},8,["is-loading"]),(q=e(t))!=null&&q.data?(o(),i(h,{key:0,title:"Attached Request"},{default:f(()=>[e(t).data.void_type==="RequestLeaves"?(o(),i(S,{key:0,"leave-data":e(t).data.request},null,8,["leave-data"])):r("",!0),e(t).data.void_type==="RequestOvertime"?(o(),i(I,{key:1,"overtime-data":e(t).data.request},null,8,["overtime-data"])):r("",!0),e(t).data.void_type==="RequestTravelOrder"?(o(),i(U,{key:2,"travel-order-data":e(t).data.request},null,8,["travel-order-data"])):r("",!0),e(t).data.void_type==="RequestAllowance"?(o(),i(F,{key:3,"allowance-data":e(t).data.request},null,8,["allowance-data"])):r("",!0)]),_:1})):r("",!0)]}),_:1},8,["if-access","comp-id"])}}});export{Ge as default};
