import{_ as E}from"./PsTextInput.vue.DFQbUHfC.js";import{_ as S}from"./PsEmailInput.C1lCeCZc.js";import{_ as A}from"./PsPasswordInput.XTUy9zxH.js";import{_ as N}from"./LayoutBoards.vue.1keADq5t.js";import{f as $,s as B,B as L,r as m,ab as D,o as _,h as y,w as I,a as e,t as g,u as t,b as d,d as M,x as b,A as T,y as F}from"./entry.R6V7NTxy.js";import{u as j}from"./users.D5_vMoUK.js";import{u as H}from"./vue.f36acd1f.Dv_A-myg.js";import"./id.Dwf9xs1O.js";import"./client-only.QuN6N-R_.js";import"./loader.C2wIXBoB.js";import"./CustomFetch.BRBLzGci.js";const q={class:"w-full"},R=e("div",{class:"mb-4 border-b border-gray-200 dark:border-gray-700"},[e("ul",{id:"default-tab",class:"flex flex-wrap -mb-px text-sm font-medium text-center","data-tabs-toggle":"#default-tab-content",role:"tablist"},[e("li",{class:"mr-2",role:"presentation"},[e("button",{id:"pd-tab",class:"inline-block p-4 border-b-2 rounded-t-lg","data-tabs-target":"#pd",type:"button",role:"tab","aria-controls":"pis","aria-selected":"false"}," Personal Details ")])])],-1),Y={id:"default-tab-content"},z={id:"pd",class:"hidden p-2 rounded-lg bg-gray-50 dark:bg-gray-800",role:"tabpanel","aria-labelledby":"pd-tab"},G={class:"grid grid-flow-col p-2"},J={class:"flex-1 p-2 space-y-3"},K={class:"block text-xl font-semibold text-gray-900 dark:text-white"},O={class:"flex-1 p-2 space-y-3"},Q={class:"block text-xl font-medium text-gray-900 dark:text-white"},W={class:"text-teal-500"},X={class:"flex-1 p-2 space-y-3"},Z=e("label",{class:"block text-xl font-semibold text-gray-900 dark:text-white"}," Password ",-1),ee={class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-70"},ae={class:"bg-white p-4 md:mt-10 md:ml-64 gap-4 rounded-md shadow-lg overflow-auto absolute space-x-4"},te=e("h3",null,"Confirm Password",-1),se=$({__name:"EditUserProfile",setup(w){const l=j(),{editCurrent:a}=B(l),i=L(),c=m(!1),{data:u}=D(),r=m(!1),n=m(""),x=async()=>{r.value=!1;try{if(c.value=!0,a.value.params.password!==a.value.params.confirm_password)throw new Error("Passwords do not match.");if(n.value)a.value.params.typechange=n.value,await l.editCurrentUser(),i.add({type:"success",text:a.value.successMessage});else throw new Error("No change detected.")}catch(p){i.add({type:"error",text:p||"Something went wrong."})}finally{l.$reset(),c.value=!1}},h=()=>{r.value=!1},v=()=>{n.value="name",r.value=!0},k=()=>{n.value="email",r.value=!0},C=()=>{n.value="password",r.value=!0};return(p,s)=>{const V=E,U=S,f=A,P=N;return _(),y(P,{title:"Account Info",loading:t(c)},{default:I(()=>[e("div",q,[R,e("div",Y,[e("div",z,[e("div",G,[e("div",J,[e("label",K," Username: "+g(t(u).name),1),d(V,{modelValue:t(a).params.name,"onUpdate:modelValue":s[0]||(s[0]=o=>t(a).params.name=o),title:"New Username",name:"text",class:"w-64 italic"},null,8,["modelValue"]),e("button",{type:"submit",class:"w-32 text-white bg-cyan-600 hover:bg-secondary-base focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",onClick:v}," Save Changes ")]),e("div",O,[e("label",Q,[M(" Your current email address is: "),e("p",W,g(t(u).email),1)]),d(U,{modelValue:t(a).params.email,"onUpdate:modelValue":s[1]||(s[1]=o=>t(a).params.email=o),title:"New Email",name:"email",class:"w-64 italic"},null,8,["modelValue"]),e("button",{type:"submit",class:"w-32 text-white bg-cyan-600 hover:bg-secondary-base focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",onClick:k}," Save Changes ")]),e("div",X,[Z,d(f,{modelValue:t(a).params.password,"onUpdate:modelValue":s[2]||(s[2]=o=>t(a).params.password=o),title:"Password",name:"password",placeholder:"••••••••",class:"w-64 italic"},null,8,["modelValue"]),d(f,{modelValue:t(a).params.confirm_password,"onUpdate:modelValue":s[3]||(s[3]=o=>t(a).params.confirm_password=o),title:"Confirm New Password",name:"password",placeholder:"••••••••",class:"w-64 italic"},null,8,["modelValue"]),e("button",{type:"submit",class:"w-32 text-white bg-cyan-600 hover:bg-secondary-base focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",onClick:C}," Save Changes ")])]),b(e("div",ee,[e("div",ae,[e("span",{class:"close cursor-pointer text-md flex justify-end ml-auto",onClick:h},"×"),te,b(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>t(a).params.current_password=o),class:"rounded-lg",type:"password",placeholder:"Enter your password",required:""},null,512),[[T,t(a).params.current_password]]),e("button",{class:"w-32 text-white bg-cyan-600 hover:bg-secondary-base focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",onClick:x}," Confirm ")])],512),[[F,t(r)]])])])])]),_:1},8,["loading"])}}}),ge={__name:"useraccountedit",setup(w){return H({title:"Edit User Accounts",meta:[{name:"description",content:"User Accounts Edit Page"}]}),(l,a)=>{const i=se;return _(),y(i)}}};export{ge as default};
