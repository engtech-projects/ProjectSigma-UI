import{e as a}from"./CustomFetch.ggXvTdIz.js";import{l as t}from"./entry.32UGFqj-.js";const r=t("warehouseStore",{state:()=>({stocks:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{}},logs:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{}},warehouse:{list:[],isLoading:!1,isLoaded:!1,params:{},localFilter:{name:""},inWarehouse:!1},warehouseDetails:{},warehousePss:{list:[],isLoading:!1,isLoaded:!1,inWarehouse:!1},itemHistory:{list:[],isLoading:!1,isLoaded:!1,params:{},pagination:{}},list:[],warehousePssForm:{},params:{},isLoading:!1,errorMessage:"",successMessage:"",remarks:""}),actions:{async updatePssWarehouse(e){await a("/api/warehouse/set-pss/"+e,{method:"PATCH",body:this.warehousePssForm,onRequest:()=>{this.warehousePss.isLoading=!0},onResponse:({response:s})=>{if(this.warehousePss.isLoading=!1,s.ok)this.warehousePss.list=s._data.data.warehouse_pss,this.successMessage=s._data.message;else throw this.errorMessage=s._data.message,new Error(s._data.message)}})},async fetchWarehouse(){this.warehouse.isLoaded=!0,await a("/api/warehouse/resource",{method:"GET",params:this.params,onRequest:()=>{this.warehouse.isLoading=!0},onResponse:({response:e})=>{if(this.warehouse.isLoading=!1,e.ok)this.warehouse.list=e._data.data;else throw this.errorMessage=e._data.message,new Error(e._data.message)}})},async fetchWarehouseDetails(e){await a("/api/warehouse/overview/"+e,{method:"GET",watch:!1,onRequest:()=>{this.warehousePss.isLoading=!0},onResponse:({response:s})=>{if(this.warehousePss.isLoading=!1,s.ok)this.warehouseDetails=s._data.warehouse,this.warehousePss.list=s._data.warehouse.warehouse_pss,this.warehousePss.inWarehouse=!0;else throw this.errorMessage=s._data.message,new Error(s._data.message)}})},async fetchWarehouseLogs(e){await a("/api/warehouse/logs/"+e,{method:"GET",params:this.logs.params,onRequest:()=>{this.logs.isLoading=!0},onResponse:({response:s})=>{if(this.logs.isLoading=!1,s.ok)this.logs.list=s._data.data;else throw this.errorMessage=s._data.message,new Error(s._data.message)}})},async fetchWarehouseStocks(e){await a("/api/warehouse/stocks/"+e,{method:"GET",params:this.stocks.params,onRequest:()=>{this.stocks.isLoading=!0},onResponse:({response:s})=>{if(this.stocks.isLoading=!1,s.ok)this.stocks.list=s._data.data.data;else throw this.errorMessage=s._data.message,new Error(s._data.message)}})},async getItemHistory(e){return await a("/api/warehouse/item/"+e,{method:"GET",onRequest:()=>{this.itemHistory.isLoading=!0},onResponse:({response:s})=>{if(this.itemHistory.isLoading=!1,s.ok)this.itemHistory.list=s._data.data.data;else throw this.errorMessage=s._data.message,new Error(s._data.message)}})},clearMessages(){this.errorMessage="",this.successMessage=""},reloadResources(){this.$reset(),this.fetchWarehouse()}},getters:{filteredwarehouseList(e){return e.warehouse.list.filter(s=>s.name.toLowerCase().includes(e.warehouse.localFilter.name.toLowerCase()))}}});export{r as u};
