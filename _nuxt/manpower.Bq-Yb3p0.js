import{_ as V,a as ee,b as te}from"./MainContainer.B9hIGMIe.js";import{_ as se}from"./DepartmentSelector.vue.Cl6IMdR7.js";import{_ as oe}from"./PositionSelector.vue.DF4l8RSf.js";import{_ as ae}from"./RequestedBy.vue.D8Wv9jDa.js";import{_ as re}from"./ApprovalsList.GUTJciN1.js";import{s as S,B as ne,r as D,m as ie,o as a,c as l,u as t,j as b,a as e,g as le,b as p,x as T,A as E,D as J,F as q,i as M,t as n,h as x,G as H,y as X,K as I,L as Y,w as A,v as j,E as F}from"./entry.R6V7NTxy.js";import{_ as de}from"./loader.C2wIXBoB.js";import{u as U,E as ce,N as ue,S as pe,G as me}from"./manpower.DrDvUPqB.js";import{u as _e,d as W}from"./approvals.Db95ZdMZ.js";import z from"./Icon.DcF_NU9d.js";import{_ as O}from"./CustomPagination.CR9ildFS.js";import{_ as B}from"./LoadingContainer.vue.Bz3WIh4M.js";import{_ as G}from"./InfoModal.Dg5h4GzJ.js";import{u as K}from"./index.Cobg6QK2.js";import{_ as ye}from"./PsTable.CTJad9K5.js";import{_ as be}from"./AcessContainer.DJcSsti6.js";import{u as ge}from"./vue.f36acd1f.Dv_A-myg.js";import{u as R,A as C}from"./Accessibilities.uaboihcy.js";import"./id.Dwf9xs1O.js";import"./client-only.QuN6N-R_.js";import"./LayoutBoards.vue.1keADq5t.js";import"./enum.D7iLG1Bk.js";import"./CustomFetch.BRBLzGci.js";import"./UserEmployeeSelector.vue.DiXko0wz.js";import"./index.T-zbMaZc.js";import"./ListView.DgUPeMcI.js";import"./ApprovalDenyButton.B1ShEyLo.js";import"./PsModal.DW9SixU3.js";import"./Utilities.Cbr1Z9cn.js";import"./nuxt-link.drPfi767.js";import"./users.D5_vMoUK.js";const he={class:"relative"},fe={key:0,class:"absolute bg-slate-200/50 rounded-lg w-full h-full flex items-center justify-center"},ke=e("img",{class:"flex justify-center w-28 rounded-md",src:de,alt:"logo"},null,-1),qe=[ke],we={class:"text-gray-500 p-2"},ve=["onSubmit"],xe={class:"grid grid-cols-2 gap-2 sm:grid-cols-2"},Ae={class:"pb-4"},$e=e("label",{for:"reqDepartment",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Requesting Department",-1),Re={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},Ce={class:"div"},Te=e("label",{for:"date_requested",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Date Requested",-1),Me={class:"div"},Pe=e("label",{for:"date_required",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Date Required",-1),De={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},Le={class:"pb-4"},Ee=e("label",{for:"position_title",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Position/Title",-1),Se=e("label",{for:"employment_type",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Employment Type",-1),Ue=e("option",{value:"",disabled:"",selected:""}," Choose Employment Type ",-1),Ne=["value"],He={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},Ie={class:"pb-4"},je=e("label",{for:"brief_description",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Brief Description",-1),Fe={class:"pb-4"},Oe=e("label",{for:"job_description_attachment",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Job Description Attachment",-1),Be=e("p",{class:"flex justify-center mx-auto text-xs text-gray-500 dark:text-gray-300 uppercase"}," doc/docx/pdf ",-1),Ge={class:"pb-4 grid grid-cols-1 gap-2 sm:grid-cols-5"},Qe={class:"col-span-2"},Je=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Nature of Request",-1),Ye=e("option",{value:"",disabled:"",selected:""}," Choose Nature of Request ",-1),ze=["value"],Ke=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Age Range",-1),We=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Status",-1),Xe=e("option",{value:"",disabled:"",selected:""}," Choose Status ",-1),Ze=["value"],Ve=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Gender",-1),et=e("option",{value:"",disabled:"",selected:""}," Choose Gender ",-1),tt=["value"],st={class:"pb-4 grid grid-cols-1 gap-2 sm:grid-cols-3"},ot=e("label",{for:"educational_req",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Educational Requirement",-1),at={class:"col-span-2"},rt=e("label",{for:"pref_qualification",class:"block whitespace-normal text-sm font-medium text-gray-900 dark:text-white"},"Preferred Qualifications / Experience (not mentioned above or in the Job Description)",-1),nt={class:"pb-4"},it=e("label",{for:"remarks",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Additional Remarks (Reason for Request)",-1),lt=e("label",{for:"approved_by",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Approvals",-1),dt=e("div",{class:"pt-4"},[e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Submit ")],-1),ct={__name:"AddRequest",async setup(N){let h,r;const s=U(),{manpower:i,errorMessage:m,successMessage:w,createData:f}=S(s),k=_e(),g=ne(),u=D(!1);i.value.approvals=([h,r]=ie(()=>k.getApprovalByName(W)),h=await h,r(),h);const y=v=>{const d=v.target.files[0];i.value.job_description_attachment=d},$=async()=>{try{u.value=!0,await s.createManpower(),s.errorMessage!==""?g.add({type:"error",text:s.errorMessage}):g.add({type:"success",text:s.successMessage}),i.value.approvals=await k.getApprovalByName(W)}catch{g.add({type:"error",text:s.errorMessage})}finally{s.clearMessages(),u.value=!1}};return(v,d)=>{const _=se,o=oe,L=ae,Q=re;return a(),l("div",he,[t(f).isLoading?(a(),l("div",fe,qe)):b("",!0),e("div",we,[e("form",{onSubmit:le($,["prevent"])},[e("div",xe,[e("div",Ae,[$e,p(_,{id:"reqDepartment",modelValue:t(i).requesting_department,"onUpdate:modelValue":d[0]||(d[0]=c=>t(i).requesting_department=c)},null,8,["modelValue"])]),e("div",null,[e("div",Re,[e("div",Ce,[Te,T(e("input",{id:"date_requested","onUpdate:modelValue":d[1]||(d[1]=c=>t(i).date_requested=c),type:"date",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[E,t(i).date_requested]])]),e("div",Me,[Pe,T(e("input",{id:"date_required","onUpdate:modelValue":d[2]||(d[2]=c=>t(i).date_required=c),type:"date",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[E,t(i).date_required]])])])])]),e("div",De,[e("div",Le,[Ee,p(o,{id:"position_title",modelValue:t(i).position_id,"onUpdate:modelValue":d[3]||(d[3]=c=>t(i).position_id=c)},null,8,["modelValue"])]),e("div",null,[Se,T(e("select",{id:"employment_type","onUpdate:modelValue":d[4]||(d[4]=c=>t(i).employment_type=c),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[Ue,(a(!0),l(q,null,M(t(ce),(c,P)=>(a(),l("option",{key:P,value:c},n(c),9,Ne))),128))],512),[[J,t(i).employment_type]])])]),e("div",He,[e("div",Ie,[je,T(e("textarea",{id:"brief_description","onUpdate:modelValue":d[5]||(d[5]=c=>t(i).brief_description=c),rows:"4",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:""},null,512),[[E,t(i).brief_description]])]),e("div",Fe,[Oe,e("input",{id:"job_description_attachment",class:"block w-full mb-1 text-xs text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"file_input_help",type:"file",accept:".doc, .docx, .pdf",required:"",onChange:y},null,32),Be])]),e("div",Ge,[e("div",Qe,[Je,T(e("select",{id:"natureReqs","onUpdate:modelValue":d[6]||(d[6]=c=>t(i).nature_of_request=c),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[Ye,(a(!0),l(q,null,M(t(ue),(c,P)=>(a(),l("option",{key:P,value:c},n(c),9,ze))),128))],512),[[J,t(i).nature_of_request]])]),e("div",null,[Ke,T(e("input",{id:"age_range","onUpdate:modelValue":d[7]||(d[7]=c=>t(i).age_range=c),type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[E,t(i).age_range]])]),e("div",null,[We,T(e("select",{id:"status","onUpdate:modelValue":d[8]||(d[8]=c=>t(i).status=c),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[Xe,(a(!0),l(q,null,M(t(pe),(c,P)=>(a(),l("option",{key:P,value:c},n(c),9,Ze))),128))],512),[[J,t(i).status]])]),e("div",null,[Ve,T(e("select",{id:"gender","onUpdate:modelValue":d[9]||(d[9]=c=>t(i).gender=c),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[et,(a(!0),l(q,null,M(t(me),(c,P)=>(a(),l("option",{key:P,value:c},n(c),9,tt))),128))],512),[[J,t(i).gender]])])]),e("div",st,[e("div",null,[ot,T(e("textarea",{id:"educational_req","onUpdate:modelValue":d[10]||(d[10]=c=>t(i).educational_requirement=c),rows:"4",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:""},null,512),[[E,t(i).educational_requirement]])]),e("div",at,[rt,T(e("textarea",{id:"pref_qualification","onUpdate:modelValue":d[11]||(d[11]=c=>t(i).preferred_qualifications=c),rows:"4",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:""},null,512),[[E,t(i).preferred_qualifications]])])]),e("div",nt,[it,T(e("textarea",{id:"remarks","onUpdate:modelValue":d[12]||(d[12]=c=>t(i).remarks=c),rows:"4",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:""},null,512),[[E,t(i).remarks]])]),p(L),lt,e("div",null,[(a(!0),l(q,null,M(t(i).approvals,(c,P)=>(a(),x(Q,{key:"hrmsetupapprovallist"+P,modelValue:t(i).approvals[P],"onUpdate:modelValue":Z=>t(i).approvals[P]=Z},null,8,["modelValue","onUpdate:modelValue"]))),128))]),dt],40,ve),e("p",{hidden:"",class:H(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!t(m)}])},n(t(m)),3),T(e("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic transition-opacity delay-1000"},n(t(w)),513),[[X,t(w)]])])])}}},ut={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},pt={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},mt={class:"table-auto w-full border-collapse"},_t={key:0,class:"p-2"},yt={key:0},bt=["colspan"],gt={class:"p-2"},ht={class:"p-2"},ft={class:"p-2"},kt={class:"p-2"},qt={class:"p-2"},wt={class:"p-2"},vt={class:"p-2"},xt={class:"p-2"},At={class:"p-2"},$t={key:0,class:"p-2 flex gap-2 justify-center"},Rt=["onClick"],Ct={class:"flex justify-center mx-auto p-2"},Tt={__name:"MyRequests",setup(N){const h=U(),{myRequests:r}=S(h),s=K(()=>{h.getAllRequests()},500);I(()=>{r.value.isLoaded||s()}),Y(()=>({...r.value.params}),(u,y)=>{u.page===y.page&&(r.value.params.page=1),s()},{deep:!0});const i=D({}),m=D(!1),w=u=>{F({path:"/hrms/employee/position-details",query:{key:u.id}})},f=u=>{r.value.params.page=u.page??""},k=[{name:"Requesting Department",id:"requesting_department_name"},{name:"Position/Title",id:"position.name"},{name:"Date Requested",id:"date_requested"},{name:"Date Required",id:"date_required"},{name:"Employment Type",id:"employment_type"},{name:"Nature of Request",id:"nature_of_request"},{name:"Requested by",id:"requested_by_user_name"},{name:"Fill Status",id:"fill_status"},{name:"Request Status",id:"request_status"}],g={showTable:!0};return(u,y)=>{const $=z,v=O,d=B,_=G;return a(),l(q,null,[p(d,{class:"w-full",loading:t(r).isLoading},{default:A(()=>[e("div",ut,[e("div",pt,[e("table",mt,[e("thead",null,[e("tr",null,[(a(),l(q,null,M(k,o=>e("th",{key:o.name+"headerRow",class:H(["p-2",o.style??""])},n(o.name),3)),64)),g?(a(),l("th",_t," Actions ")):b("",!0)])]),e("tbody",null,[t(r).list?(a(!0),l(q,{key:1},M(t(r).list,(o,L)=>(a(),l("tr",{key:L,class:"border text-center"},[e("td",gt,n(o.requesting_department_name),1),e("td",ht,n(o.position?o.position.name:""),1),e("td",ft,n(o.date_requested),1),e("td",kt,n(o.date_required),1),e("td",qt,n(o.employment_type),1),e("td",wt,n(o.nature_of_request),1),e("td",vt,n(o.requested_by_user_name),1),e("td",xt,n(o.fill_status),1),e("td",At,n(o.request_status),1),g?(a(),l("td",$t,[g.showTable?(a(),l("button",{key:0,onClick:Q=>w(o)},[p($,{name:"material-symbols:visibility-rounded",color:"white",class:"bg-teal-700 rounded h-8 w-8 p-1"})],8,Rt)):b("",!0)])):b("",!0)]))),128)):(a(),l("tr",yt,[e("td",{colspan:k.length+1,class:"text-center"}," NO DATA ",8,bt)]))])])])]),e("div",Ct,[p(v,{links:t(r).pagination,onChangeParams:f},null,8,["links"])])]),_:1},8,["loading"]),p(_,{"show-modal":t(m),"onUpdate:showModal":y[0]||(y[0]=o=>j(m)?m.value=o:null),data:t(i)},null,8,["show-modal","data"])],64)}}},Mt={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},Pt={class:"flex justify-center mx-auto p-2"},Dt={__name:"MonitoringList",setup(N){const h=U(),{allRequests:r}=S(h),s=K(()=>{h.getAllRequests()},500);I(()=>{r.value.isLoaded||s()}),Y(()=>({...r.value.params}),(u,y)=>{u.page===y.page&&(r.value.params.page=1),s()},{deep:!0});const i=D({}),m=D(!1),w=u=>{F({path:"/hrms/employee/position-details",query:{key:u.id}})},f=u=>{r.value.params.page=u.page??""},k=[{name:"Requesting Department",id:"requesting_department_name"},{name:"Position/Title",id:"position.name"},{name:"Date Requested",id:"date_requested"},{name:"Date Required",id:"date_required"},{name:"Employment Type",id:"employment_type"},{name:"Nature of Request",id:"nature_of_request"},{name:"Requested by",id:"requested_by_user_name"},{name:"Request Status",id:"request_status"}],g={showTable:!0};return(u,y)=>{const $=ye,v=O,d=B,_=G;return a(),l(q,null,[p(d,{class:"w-full",loading:t(r).isLoading},{default:A(()=>[e("div",Mt,[p($,{"header-columns":k,actions:g,datas:t(r).list??[],onShowTable:w},null,8,["datas"])]),e("div",Pt,[p(v,{links:t(r).pagination,onChangeParams:f},null,8,["links"])])]),_:1},8,["loading"]),p(_,{"show-modal":t(m),"onUpdate:showModal":y[0]||(y[0]=o=>j(m)?m.value=o:null),data:t(i)},null,8,["show-modal","data"])],64)}}},Lt={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},Et={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},St={class:"table-auto w-full border-collapse"},Ut={key:0,class:"p-2"},Nt={key:0},Ht=["colspan"],It={class:"p-2"},jt={class:"p-2"},Ft={class:"p-2"},Ot={class:"p-2"},Bt={class:"p-2"},Gt={class:"p-2"},Qt={class:"p-2"},Jt={class:"p-2"},Yt={class:"p-2"},zt={key:0,class:"p-2 flex gap-2 justify-center"},Kt=["onClick"],Wt={class:"flex justify-center mx-auto p-2"},Xt={__name:"MyApprovals",setup(N){const h=U(),{myApprovals:r}=S(h),s=K(()=>{h.getMyApprovals()},500);I(()=>{r.value.isLoaded||s()}),Y(()=>({...r.value.params}),(u,y)=>{u.page===y.page&&(r.value.params.page=1),s()},{deep:!0});const i=D({}),m=D(!1),w=u=>{F({path:"/hrms/employee/position-details",query:{key:u.id}})},f=u=>{r.value.params.page=u.page??""},k=[{name:"Requesting Department",id:"requesting_department_name"},{name:"Position/Title",id:"position.name"},{name:"Date Requested",id:"date_requested"},{name:"Date Required",id:"date_required"},{name:"Employment Type",id:"employment_type"},{name:"Nature of Request",id:"nature_of_request"},{name:"Requested by",id:"requested_by_user_name"},{name:"Fill Status",id:"fill_status"},{name:"Request Status",id:"request_status"}],g={showTable:!0};return(u,y)=>{const $=z,v=O,d=B,_=G;return a(),l(q,null,[p(d,{class:"w-full",loading:t(r).isLoading},{default:A(()=>[e("div",Lt,[e("div",Et,[e("table",St,[e("thead",null,[e("tr",null,[(a(),l(q,null,M(k,o=>e("th",{key:o.name+"headerRow",class:H(["p-2",o.style??""])},n(o.name),3)),64)),g?(a(),l("th",Ut," Actions ")):b("",!0)])]),e("tbody",null,[t(r).list?(a(!0),l(q,{key:1},M(t(r).list,(o,L)=>(a(),l("tr",{key:L,class:"border text-center"},[e("td",It,n(o.requesting_department_name),1),e("td",jt,n(o.position?o.position.name:""),1),e("td",Ft,n(o.date_requested),1),e("td",Ot,n(o.date_required),1),e("td",Bt,n(o.employment_type),1),e("td",Gt,n(o.nature_of_request),1),e("td",Qt,n(o.requested_by_user_name),1),e("td",Jt,n(o.fill_status),1),e("td",Yt,n(o.request_status),1),g?(a(),l("td",zt,[g.showTable?(a(),l("button",{key:0,onClick:Q=>w(o)},[p($,{name:"material-symbols:visibility-rounded",color:"white",class:"bg-teal-700 rounded h-8 w-8 p-1"})],8,Kt)):b("",!0)])):b("",!0)]))),128)):(a(),l("tr",Nt,[e("td",{colspan:k.length+1,class:"text-center"}," NO DATA ",8,Ht)]))])])])]),e("div",Wt,[p(v,{links:t(r).pagination,onChangeParams:f},null,8,["links"])])]),_:1},8,["loading"]),p(_,{"show-modal":t(m),"onUpdate:showModal":y[0]||(y[0]=o=>j(m)?m.value=o:null),data:t(i)},null,8,["show-modal","data"])],64)}}},Zt={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},Vt={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},es={class:"table-auto w-full border-collapse"},ts={key:0,class:"p-2"},ss={key:0},os=["colspan"],as={class:"p-2"},rs={class:"p-2"},ns={class:"p-2"},is={class:"p-2"},ls={class:"p-2"},ds={class:"p-2"},cs={class:"p-2"},us={class:"p-2"},ps={class:"p-2"},ms={key:0,class:"p-2 flex gap-2 justify-center"},_s=["onClick"],ys={class:"flex justify-center mx-auto p-2"},bs={__name:"OpenPositionList",setup(N){const h=U(),{openPositions:r}=S(h),s=K(()=>{h.getOpenPositions()},500);I(()=>{r.value.isLoaded||s()}),Y(()=>({...r.value.params}),(u,y)=>{u.page===y.page&&(r.value.params.page=1),s()},{deep:!0});const i=D({}),m=D(!1),w=u=>{F({path:"/hrms/employee/position-details",query:{key:u.id}})},f=u=>{r.value.params.page=u.page??""},k=[{name:"Requesting Department",id:"requesting_department_name"},{name:"Position/Title",id:"position.name"},{name:"Date Requested",id:"date_requested"},{name:"Date Required",id:"date_required"},{name:"Employment Type",id:"employment_type"},{name:"Nature of Request",id:"nature_of_request"},{name:"Requested by",id:"requested_by_user_name"},{name:"Fill Status",id:"fill_status"},{name:"Request Status",id:"request_status"}],g={showTable:!0};return(u,y)=>{const $=z,v=O,d=B,_=G;return a(),l(q,null,[p(d,{class:"w-full",loading:t(r).isLoading},{default:A(()=>[e("div",Zt,[e("div",Vt,[e("table",es,[e("thead",null,[e("tr",null,[(a(),l(q,null,M(k,o=>e("th",{key:o.name+"headerRow",class:H(["p-2",o.style??""])},n(o.name),3)),64)),g?(a(),l("th",ts," Actions ")):b("",!0)])]),e("tbody",null,[t(r).list?(a(!0),l(q,{key:1},M(t(r).list,(o,L)=>(a(),l("tr",{key:L,class:"border text-center"},[e("td",as,n(o.requesting_department_name),1),e("td",rs,n(o.position?o.position.name:""),1),e("td",ns,n(o.date_requested),1),e("td",is,n(o.date_required),1),e("td",ls,n(o.employment_type),1),e("td",ds,n(o.nature_of_request),1),e("td",cs,n(o.requested_by_user_name),1),e("td",us,n(o.fill_status),1),e("td",ps,n(o.request_status),1),g?(a(),l("td",ms,[g.showTable?(a(),l("button",{key:0,onClick:Q=>w(o)},[p($,{name:"material-symbols:visibility-rounded",color:"white",class:"bg-teal-700 rounded h-8 w-8 p-1"})],8,_s)):b("",!0)])):b("",!0)]))),128)):(a(),l("tr",ss,[e("td",{colspan:k.length+1,class:"text-center"}," NO DATA ",8,os)]))])])])]),e("div",ys,[p(v,{links:t(r).pagination,onChangeParams:f},null,8,["links"])])]),_:1},8,["loading"]),p(_,{"show-modal":t(m),"onUpdate:showModal":y[0]||(y[0]=o=>j(m)?m.value=o:null),data:t(i)},null,8,["show-modal","data"])],64)}}},gs={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},hs={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},fs={class:"table-auto w-full border-collapse"},ks={key:0,class:"p-2"},qs={key:0},ws=["colspan"],vs={class:"p-2"},xs={class:"p-2"},As={class:"p-2"},$s={class:"p-2"},Rs={class:"p-2"},Cs={class:"p-2"},Ts={class:"p-2"},Ms={class:"p-2"},Ps={class:"p-2"},Ds={key:0,class:"p-2 flex gap-2 justify-center"},Ls=["onClick"],Es={class:"flex justify-center mx-auto p-2"},Ss={__name:"FilledPositionList",setup(N){const h=U(),{approvedPositions:r}=S(h);I(()=>{r.value.isLoaded||h.getApprovedPositions()});const s=D({}),i=D(!1),m=g=>{F({path:"/hrms/employee/position-details",query:{key:g.id}})},w=g=>{r.value.params.page=g.page??""},f=[{name:"Requesting Department",id:"requesting_department_name"},{name:"Position/Title",id:"position.name"},{name:"Date Requested",id:"date_requested"},{name:"Date Required",id:"date_required"},{name:"Employment Type",id:"employment_type"},{name:"Nature of Request",id:"nature_of_request"},{name:"Requested by",id:"requested_by_user_name"},{name:"Fill Status",id:"fill_status"},{name:"Request Status",id:"request_status"}],k={showTable:!0};return(g,u)=>{const y=z,$=O,v=B,d=G;return a(),l(q,null,[p(v,{class:"w-full",loading:t(r).isLoading},{default:A(()=>[e("div",gs,[e("div",hs,[e("table",fs,[e("thead",null,[e("tr",null,[(a(),l(q,null,M(f,_=>e("th",{key:_.name+"headerRow",class:H(["p-2",_.style??""])},n(_.name),3)),64)),k?(a(),l("th",ks," Actions ")):b("",!0)])]),e("tbody",null,[t(r).list?(a(!0),l(q,{key:1},M(t(r).list,(_,o)=>(a(),l("tr",{key:o,class:"border text-center"},[e("td",vs,n(_.requesting_department_name),1),e("td",xs,n(_.position?_.position.name:""),1),e("td",As,n(_.date_requested),1),e("td",$s,n(_.date_required),1),e("td",Rs,n(_.employment_type),1),e("td",Cs,n(_.nature_of_request),1),e("td",Ts,n(_.requested_by_user_name),1),e("td",Ms,n(_.fill_status),1),e("td",Ps,n(_.request_status),1),k?(a(),l("td",Ds,[k.showTable?(a(),l("button",{key:0,onClick:L=>m(_)},[p(y,{name:"material-symbols:visibility-rounded",color:"white",class:"bg-teal-700 rounded h-8 w-8 p-1"})],8,Ls)):b("",!0)])):b("",!0)]))),128)):(a(),l("tr",qs,[e("td",{colspan:f.length+1,class:"text-center"}," NO DATA ",8,ws)]))])])])]),e("div",Es,[p($,{links:t(r).pagination,onChangeParams:w},null,8,["links"])])]),_:1},8,["loading"]),p(d,{"show-modal":t(i),"onUpdate:showModal":u[0]||(u[0]=_=>j(i)?i.value=_:null),data:t(s)},null,8,["show-modal","data"])],64)}}},Us={class:"grid grid-cols-1 gap-4"},yo={__name:"manpower",setup(N){const h=U(),{isEdit:r}=S(h);return ge({title:"Manpower Request"}),(s,i)=>{const m=V,w=ct,f=ee,k=Tt,g=Dt,u=Xt,y=bs,$=Ss,v=te,d=be;return a(),x(d,{"if-access":("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_group])},{default:A(()=>[e("div",Us,[p(v,null,{"tab-titles":A(()=>[("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_formandmyrequests])?(a(),x(m,{key:0,title:"Request Form","target-id":"requestForm"})):b("",!0),("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_formandmyrequests])?(a(),x(m,{key:1,title:"My Requests","target-id":"myRequestsManpower"})):b("",!0),("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_all_request])?(a(),x(m,{key:2,title:"All Requests","target-id":"allRequestsManpower"})):b("",!0),("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_approval])?(a(),x(m,{key:3,title:"My Approvals","target-id":"myApprovalsManpower"})):b("",!0),("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_openpositions])?(a(),x(m,{key:4,title:"Open Positions","target-id":"openPositions"})):b("",!0),("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_all_request])?(a(),x(m,{key:5,title:"Approved Positions","target-id":"approvedPositions"})):b("",!0)]),"tab-containers":A(()=>[p(f,{id:"requestForm"},{default:A(()=>[("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_formandmyrequests])?T((a(),x(w,{key:0},null,512)),[[X,!t(r)]]):b("",!0)]),_:1}),p(f,{id:"myRequestsManpower"},{default:A(()=>[("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_formandmyrequests])?(a(),x(k,{key:0})):b("",!0)]),_:1}),p(f,{id:"allRequestsManpower"},{default:A(()=>[("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_all_request])?(a(),x(g,{key:0})):b("",!0)]),_:1}),p(f,{id:"myApprovalsManpower"},{default:A(()=>[("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_approval])?(a(),x(u,{key:0})):b("",!0)]),_:1}),p(f,{id:"openPositions"},{default:A(()=>[("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_openpositions])?(a(),x(y,{key:0})):b("",!0)]),_:1}),p(f,{id:"approvedPositions"},{default:A(()=>[("useCheckAccessibility"in s?s.useCheckAccessibility:t(R))([("AccessibilityTypes"in s?s.AccessibilityTypes:t(C)).hrms_employee_manpowerrequest_all_request])?(a(),x($,{key:0})):b("",!0)]),_:1})]),_:1})])]),_:1},8,["if-access"])}}};export{yo as default};
