import{_ as V,a as I,b as P}from"./MainContainer.BswisYLp.js";import{_ as L}from"./PsTable.BPIFONj1.js";import{_ as E}from"./CustomPagination.C91H0oe5.js";import{_ as C}from"./LoadingContainer.vue.BZUQ77Em.js";import{s as T,o as _,h as g,w as d,a as s,b as n,u as o,E as N,f as $,r as R,B as W,c as b,x as O,v as j,F as U,i as F,t as S,D as B,q as D,K as H,j as A}from"./entry.32UGFqj-.js";import{u as k}from"./stocktransfer.CZGOHVZs.js";import{_ as M}from"./LayoutBoards.vue.D_rbqYxd.js";import{u as K}from"./warehouse.CXTwMaCB.js";import{_ as Y}from"./AcessContainer.Dum7aOuo.js";import{u as G}from"./vue.f36acd1f.Ds2AlAv6.js";import{u as x,A as w}from"./Accessibilities.xGffDRXj.js";import"./id.WqrvI90c.js";import"./client-only.CuVny2dr.js";import"./Icon.CrHlyQOo.js";import"./index.T-zbMaZc.js";import"./nuxt-link.C5IpI_HT.js";import"./Utilities.DofxnkSu.js";import"./loader.BQ9QddgL.js";import"./CustomFetch.ggXvTdIz.js";import"./users.G4iuGzk0.js";const Q={class:"pb-2 text-gray-500 overflow-y-auto p-2"},X={class:"flex justify-center mx-auto"},Z={__name:"StockTransferList",setup(p){const a=k(),{stockTransfer:t}=T(a),e=[{name:"Reference No.",id:"reference_no"},{name:"Quantity",id:"qty"},{name:"Unit",id:"unit"},{name:"Item Description",id:"item_id"},{name:"Condition or Status",id:"condition"},{name:"Remarks",id:"remarks"}],r={showTable:!0},l=u=>{N({path:"/inventory/stock-transfer/request-details",query:{key:u.id}})},i=u=>{t.value.params.page=u.page??""},c=[{reference_no:"ABC123",qty:10,unit:"pcs",item_id:"Item-001",condition:"Good",remarks:"Ready for transfer"},{reference_no:"XYZ456",qty:5,unit:"pcs",item_id:"Item-002",condition:"Damaged",remarks:"Needs inspection"}];return(u,h)=>{const m=L,f=E,v=C;return _(),g(v,{class:"w-full",loading:o(t).isLoading},{default:d(()=>[s("div",Q,[n(m,{"header-columns":e,actions:r,datas:c,onShowTable:l})]),s("div",X,[n(f,{links:o(t).pagination,onChangeParams:i},null,8,["links"])])]),_:1},8,["loading"])}}},z={class:"h-full w-full"},J={id:"warehouse-overview",class:"p-4"},ee={class:"flex flex-col md:flex-row md:space-x-6"},se={class:"flex-1"},te=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Choose a Warehouse:",-1),oe=["value"],ae={class:"flex-1"},ne=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Warehouse Name:",-1),ie={class:"p-3 bg-gray-100 rounded-lg text-sm text-gray-900"},re={class:"flex-1"},ce=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Location:",-1),le={class:"p-3 bg-gray-100 rounded-lg text-sm text-gray-900"},ue={class:"mt-4"},de=$({__name:"WarehouseWithStockTransfer",setup(p){const a=K(),t=k();a.fetchWarehouse(),t.fetchTransfers();const{warehouse:e,warehouseDetails:r}=T(a),l=R(!0),i=R(null),c=W(),u=async()=>{l.value=!0,i.value&&await a.fetchWarehouseDetails(i.value),await t.fetchTransferByWarehouseId(i.value),t.errorMessage!==""&&c.add({type:"error",text:t.errorMessage}),t.errorMessage=""};return(h,m)=>{const f=Z,v=C,q=M;return _(),b("div",z,[n(q,{title:"",class:"w-full"},{default:d(()=>[s("div",J,[n(v,{class:"w-full",loading:o(e).isLoading},{default:d(()=>[s("div",null,[s("div",ee,[s("div",se,[te,O(s("select",{"onUpdate:modelValue":m[0]||(m[0]=y=>j(i)?i.value=y:null),class:"block w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:u},[(_(!0),b(U,null,F(o(e).list,y=>(_(),b("option",{key:y.id,value:y.id},S(y.name),9,oe))),128))],544),[[B,o(i)]])]),s("div",ae,[ne,s("p",ie,S(o(r).name),1)]),s("div",re,[ce,s("p",le,S(o(r).location),1)])])]),s("div",ue,[n(f,{items:o(t).details},null,8,["items"])])]),_:1},8,["loading"])])]),_:1})])}}}),_e={class:"text-gray-500 p-2"},me={class:"flex flex-col gap-4 pt-4 w-full"},fe={class:"flex flex-col gap-4 mb-5"},pe={class:"flex flex-row justify-between gap-4"},he={class:"w-full flex flex-col gap-2"},ye={__name:"StockTransferForm",props:{modelValue:{required:!0,type:Object}},emits:["update:modelValue"],setup(p){const a=D(p,"modelValue");return(t,e)=>{const r=de;return _(),b("div",_e,[s("div",me,[s("div",fe,[s("div",pe,[s("div",he,[n(r,{modelValue:a.value.warehouse_id,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.warehouse_id=l)},null,8,["modelValue"])])])])])])}}},ge={class:"pb-2 text-gray-500 overflow-y-auto p-2"},be={class:"flex justify-center mx-auto"},Te={__name:"AllRequests",setup(p){const a=k(),{allRequests:t}=T(a);H(()=>{t.isLoaded||a.getAllRequests()});const e=[{name:"Reference No",id:"reference_no"},{name:"Office/Project",id:"project.project_code"},{name:"Project Address",id:"office_project_address"},{name:"Date Needed",id:"date_needed"}],r={showTable:!0,edit:!1,delete:!1},l=c=>{N({path:"/inventory/stock-transfer/request-details",query:{key:c.id}})},i=c=>{t.value.params.page=c.page??""};return(c,u)=>{const h=L,m=E,f=C;return _(),g(f,{class:"w-full",loading:o(t).isLoading},{default:d(()=>[s("div",ge,[n(h,{"header-columns":e,actions:r,datas:o(t).list??[],onShowTable:l},null,8,["datas"])]),s("div",be,[n(m,{links:o(t).pagination,onChangeParams:i},null,8,["links"])])]),_:1},8,["loading"])}}},Fe=$({__name:"index",setup(p){const a=k(),{stockTransfer:t}=T(a);return G({title:"Stock Transfer"}),(e,r)=>{const l=V,i=ye,c=I,u=Te,h=P,m=Y;return _(),g(m,{"if-access":("useCheckAccessibility"in e?e.useCheckAccessibility:o(x))([("AccessibilityTypes"in e?e.AccessibilityTypes:o(w)).INVENTORY_WAREHOUSE_STOCK_TRANSFER_GROUP]),class:"w-full"},{default:d(()=>[n(h,null,{"tab-titles":d(()=>[("useCheckAccessibility"in e?e.useCheckAccessibility:o(x))([("AccessibilityTypes"in e?e.AccessibilityTypes:o(w)).INVENTORY_WAREHOUSE_STOCK_TRANSFER_REQUESTPROCESSING])?(_(),g(l,{key:0,"target-id":"Form",title:"Stock Transfer"})):A("",!0),("useCheckAccessibility"in e?e.useCheckAccessibility:o(x))([("AccessibilityTypes"in e?e.AccessibilityTypes:o(w)).INVENTORY_WAREHOUSE_STOCK_TRANSFER_ALLREQUEST])?(_(),g(l,{key:1,"target-id":"allRequest",title:"All Request"})):A("",!0)]),"tab-containers":d(()=>[n(c,{id:"Form"},{default:d(()=>[n(i,{modelValue:o(t).form,"onUpdate:modelValue":r[0]||(r[0]=f=>o(t).form=f)},null,8,["modelValue"])]),_:1}),n(c,{id:"allRequest"},{default:d(()=>[n(u)]),_:1})]),_:1})]),_:1},8,["if-access"])}}});export{Fe as default};
