import{_ as L}from"./ItemTh.vue.DHCZWLF-.js";import R from"./Icon.DcF_NU9d.js";import{u as B}from"./id.Dwf9xs1O.js";import{f as C,o as a,c as p,b as o,u as _,a as t,F as w,i as q,t as i,B as F,r as A,s as $,j as g,w as T,h as v,v as N,E as k,aF as j,m as I}from"./entry.R6V7NTxy.js";import{_ as G}from"./ListView.DgUPeMcI.js";import{_ as H}from"./LayoutPrint.Dr_MMYe1.js";import{_ as z}from"./ApprovalDenyButton.B1ShEyLo.js";import{a as W,u as E,A as K}from"./Accessibilities.uaboihcy.js";import{u as S}from"./itemprofiles.cSnjaZ2b.js";import{_ as J}from"./AcessContainer.DJcSsti6.js";import{u as Q}from"./vue.f36acd1f.Dv_A-myg.js";import"./index.T-zbMaZc.js";import"./client-only.QuN6N-R_.js";import"./users.D5_vMoUK.js";import"./CustomFetch.BRBLzGci.js";const X=["id"],Y={class:"list flex flex-col gap-2"},Z=t("div",{class:"text-md"}," Similar Items: ",-1),V={class:"flex flex-col gap-1 text-xs"},tt=t("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),et=C({__name:"ItemProfileSimilarItems",props:{datas:{type:Array,required:!0}},setup(c){const r=B("$DVikcDsBRn");return(n,d)=>{const u=R;return a(),p(w,null,[o(u,{name:"material-symbols:info-outline",class:"text-blue-700 h-5 w-5 lg:h-5 lg:w-5","data-tooltip-target":_(r)+"-tooltip-top"},null,8,["data-tooltip-target"]),t("div",{id:_(r)+"-tooltip-top","data-popover":"",role:"tooltip",class:"absolute z-[9999] duration-300 invisible inline-block px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip"},[t("div",Y,[Z,(a(!0),p(w,null,q(c.datas,(h,y)=>(a(),p("div",{key:y+"-summary"},[t("div",V,i(h.item_description),1)]))),128)),tt])],8,X)],64)}}}),st={class:"h-full w-full bg-white border border-gray-200 rounded-lg shadow-md sm:p-6 md:p-2 dark:bg-gray-800 dark:border-gray-700"},ot={class:"flex flex-col gap-2 w-full p-4"},it={id:"headline mb-4"},rt={class:"basis-[10%] grow-1 shrink-0 flex items-center justify-between border-b rounded-t"},nt={key:0,class:"pl-4 text-xl font-semibold text-gray-900 p-4"},at={id:"itemDetails"},lt={id:"content",class:"overflow-auto"},ct={class:"table-auto w-full border-collapse"},dt={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},mt={class:"flex flex-row justify-center gap-2"},pt={class:"context"},_t={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},ut={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},ht={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},yt={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},ft={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},xt={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},gt={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},wt={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},vt={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},bt={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},kt={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},It={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},Ct={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},qt={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},At={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},$t={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},Tt={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},St={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},Dt={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},Mt={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},Ot={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-start"},Pt={id:"approvals",class:"w-full"},Ut={id:"footer"},Lt={key:0,class:"flex gap-2 p-2 justify-end relative"},Rt=C({__name:"ItemProfileDetails",props:{title:{type:String,required:!0},headerColumns:{type:Array,required:!0},data:{type:Array,required:!0},request:{type:Object,required:!0}},setup(c){const r=S(),n=F(),d=A(!1),{remarks:u,uom:h}=$(r),y=m=>{if(h.value.length>=1){const l=h.value.map(e=>e.id===m?e.name:null).filter(e=>e!==null);return l?l[0]:null}return null},x=async m=>{try{d.value=!0,await r.approveApprovalForm(m),r.errorMessage!==""?n.add({type:"error",text:r.errorMessage}):(n.add({type:"success",text:r.successMessage}),r.$reset(),k({path:"/inventory/item-profile/new-profile"}))}catch(l){n.add({type:"error",text:l||"something went wrong."})}finally{d.value=!1}},f=async m=>{try{d.value=!0,await r.denyApprovalForm(m),r.errorMessage!==""?n.add({type:"error",text:r.errorMessage}):(n.add({type:"success",text:r.successMessage}),r.$reset(),k({path:"/inventory/item-profile/new-profile"}))}catch(l){n.add({type:"error",text:l||"something went wrong."})}finally{d.value=!1}};return(m,l)=>{var b;const e=L,D=et,M=G,O=H,P=z;return a(),p("div",st,[t("div",ot,[t("div",it,[t("div",rt,[c.title?(a(),p("h3",nt,i(c.title),1)):g("",!0)])]),o(O,null,{default:T(()=>[t("div",at,[t("div",lt,[t("table",ct,[t("thead",null,[t("tr",null,[o(e,{title:"Item Code"}),o(e,{title:"Item description"}),o(e,{title:"Thickness"}),o(e,{title:"Length"}),o(e,{title:"Width"}),o(e,{title:"Height"}),o(e,{title:"Outside diameter"}),o(e,{title:"Inside diameter"}),o(e,{title:"Angle"}),o(e,{title:"Size"}),o(e,{title:"Volume"}),o(e,{title:"Weight"}),o(e,{title:"Grade"}),o(e,{title:"Volts"}),o(e,{title:"Plates"}),o(e,{title:"Part Number"}),o(e,{title:"Color"}),o(e,{title:"Specification"}),o(e,{title:"UOM"}),o(e,{title:"Item Group"}),o(e,{title:"Sub Item Group"}),o(e,{title:"Inventory Type"})])]),t("tbody",null,[(a(!0),p(w,null,q(c.data,(s,U)=>(a(),p("tr",{key:U,class:"bg-white border-b"},[t("td",dt,[t("div",mt,[s.similar_items.length>=1?(a(),v(D,{key:0,datas:s.similar_items},null,8,["datas"])):g("",!0),t("div",pt,i(s.item_code),1)])]),t("td",_t,i(s.item_description),1),t("td",ut,i(s.thickness),1),t("td",ht,i(s.length),1),t("td",yt,i(s.width),1),t("td",ft,i(s.height),1),t("td",xt,i(s.outside_diameter),1),t("td",gt,i(s.inside_diameter),1),t("td",wt,i(s.angle),1),t("td",vt,i(s.size),1),t("td",bt,i(s.volume),1),t("td",kt,i(s.weight),1),t("td",It,i(s.grade),1),t("td",Ct,i(s.volts),1),t("td",qt,i(s.plates),1),t("td",At,i(s.part_number),1),t("td",$t,i(s.color),1),t("td",Tt,i(s.specification),1),t("td",St,i(y(s.uom)),1),t("td",Dt,i(s.item_group),1),t("td",Mt,i(s.sub_item_group),1),t("td",Ot,i(s.inventory_type),1)]))),128))])])]),t("div",Pt,[o(M,{approvals:c.request.approvals},null,8,["approvals"])])])]),_:1}),t("div",Ut,[c.request.next_approval&&("useCheckIsCurrentUser"in m?m.useCheckIsCurrentUser:_(W))((b=c.request.next_approval)==null?void 0:b.user_id)?(a(),p("div",Lt,[o(P,{"deny-remarks":_(u),"onUpdate:denyRemarks":l[0]||(l[0]=s=>N(u)?u.value=s:null),"request-id":c.request.id,onApprove:x,onDeny:f},null,8,["deny-remarks","request-id"])])):g("",!0)])])])}}}),Bt={key:1,class:"grid grid-cols-1 gap-4"},Ft=t("h2",null," 404 NOT FOUND",-1),Nt=[Ft],se={__name:"request-details",async setup(c){let r,n;const d=S(),{page:u}=$(d),h=j(),y=A(!1);h.query.key?(y.value=!0,[r,n]=I(()=>d.getOne(h.query.key)),await r,n()):y.value=!1,[r,n]=I(()=>d.getUOM()),await r,n();const x=[{name:"Item Code",id:"item_code"},{name:"Item description",id:"item_description"},{name:"Thickness",id:"thickness"},{name:"Length",id:"length"},{name:"Width",id:"width"},{name:"Height",id:"height"},{name:"Outside diameter",id:"outside_diameter"},{name:"Inside diameter",id:"inside_diameter"},{name:"Volume",id:"volume_val"},{name:"Grade",id:"grade"},{name:"Color",id:"color"},{name:"UOM",id:"uom"},{name:"Inventory Type",id:"inventory_type"},{name:"Item Approved",id:"is_approved"},{name:"Status",id:"active_status"},{name:"Action",id:""}];return Q({title:"Item Request"}),(f,m)=>{const l=Rt,e=J;return a(),v(e,{"if-access":("useCheckAccessibility"in f?f.useCheckAccessibility:_(E))([("AccessibilityTypes"in f?f.AccessibilityTypes:_(K)).inventory_item_profile])},{default:T(()=>[_(y)?(a(),v(l,{key:0,title:"Item Profile Details",data:_(u).list.item_profile,request:_(u).list,"header-columns":x},null,8,["data","request"])):(a(),p("div",Bt,Nt))]),_:1},8,["if-access"])}}};export{se as default};
