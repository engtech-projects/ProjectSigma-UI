import{_ as E}from"./PsSelect.vue.DvuFdhGo.js";import{_ as V}from"./PsTextInput.vue.C7eOWbog.js";import{_ as x}from"./PsButton.Cqg1ndZS.js";import{_ as T}from"./LayoutBoards.vue.D_rbqYxd.js";import{l as C,_ as A,s as f,B as S,o as h,h as L,w as R,a as g,g as v,b as i,u as a,K as H,N as F,x as D,y as b}from"./entry.32UGFqj-.js";import{c as U,b as w}from"./CustomFetch.ggXvTdIz.js";import{_ as B}from"./editBoards.vue.DA5g6BdX.js";import{_ as N}from"./PsTable.BPIFONj1.js";import{_ as O}from"./CustomPagination.C91H0oe5.js";import{_ as q}from"./AcessContainer.Dum7aOuo.js";import{u as I}from"./vue.f36acd1f.Ds2AlAv6.js";import{u as J,A as j}from"./Accessibilities.xGffDRXj.js";import"./id.WqrvI90c.js";import"./client-only.CuVny2dr.js";import"./Icon.CrHlyQOo.js";import"./index.T-zbMaZc.js";import"./loader.BQ9QddgL.js";import"./nuxt-link.C5IpI_HT.js";import"./Utilities.DofxnkSu.js";import"./users.G4iuGzk0.js";const P=C("PayrollParticularTerms",{state:()=>({allList:{isLoaded:!1,isLoading:!1,list:[],pagination:{},params:{},successMessage:""},createData:{isLoading:!1,params:{type:"",local_particular_name:"",accounting_particular_name:"",description:""},successMessage:""},isEdit:!1,editData:{isLoading:!1,params:{},successMessage:""},deleteData:{isLoading:!1,successMessage:""}}),actions:{async getAllList(){return await U("/api/setup/payroll-particular-terms",{method:"GET",params:this.allList.params,onRequest:()=>{this.allList.isLoading=!0},onResponseError:({response:e})=>{throw new Error(e._data.message)},onResponse:({response:e})=>{this.allList.isLoading=!1,e.ok&&(this.allList.list=e._data.data,this.allList.isLoaded=!0,this.allList.pagination={first_page:e._data.links.first,pages:e._data.meta.links,last_page:e._data.links.last})}})},async sendCreateResource(){return await w("/api/setup/payroll-particular-terms",{method:"POST",body:this.createData.params,onRequest:()=>{this.createData.isLoading=!0},onResponseError:({response:e})=>{throw new Error(e._data.message)},onResponse:({response:e})=>{this.createData.isLoading=!1,e.ok&&(this.reloadResources(),this.createData.successMessage=e._data.message)}})},async sendEditResource(){return await w("/api/setup/payroll-particular-terms/"+this.editData.params.id,{method:"PUT",body:this.editData.params,onRequest:()=>{this.editData.isLoading=!0},onResponseError:({response:e})=>{throw new Error(e._data.message)},onResponse:async({response:e})=>{this.editData.isLoading=!1,e.ok&&(await this.reloadResources(),this.editData.successMessage=e._data.message)}})},async sendDeleteResource(e){return await w("/api/setup/payroll-particular-terms/"+e,{method:"DELETE",onRequest:()=>{this.deleteData.isLoading=!0},onResponseError:({response:s})=>{throw new Error(s._data.message)},onResponse:({response:s})=>{this.deleteData.isLoading=!1,s.ok&&(this.reloadResources(),this.deleteData.successMessage=s._data.message)}})},reloadResources(){const e=[];this.allList.isLoaded&&e.push(this.getAllList),this.$reset(),e.forEach(s=>{s()})}}}),G={class:"text-gray-500 mt-2"},K=["onSubmit"],z={__name:"CreateForm",setup(e){const s=P(),{createData:t}=f(s),l=S(),p=async()=>{try{await s.sendCreateResource(),l.add({type:"success",text:t.successMessage||"Successfully created."})}catch(u){l.add({type:"error",text:u||"Something went wrong."})}};return(u,r)=>{const d=E,o=V,y=x,_=T;return h(),L(_,{title:"HRMS - Accounting Particulars",loading:a(t).isLoading},{default:R(()=>[g("div",G,[g("form",{onSubmit:v(p,["prevent"])},[i(d,{modelValue:a(t).params.type,"onUpdate:modelValue":r[0]||(r[0]=n=>a(t).params.type=n),"options-list":["Loan","Other Deduction"],title:"Deduction Type"},null,8,["modelValue"]),i(o,{modelValue:a(t).params.local_particular_name,"onUpdate:modelValue":r[1]||(r[1]=n=>a(t).params.local_particular_name=n),title:"HRMS Particular Name"},null,8,["modelValue"]),i(o,{modelValue:a(t).params.accounting_particular_name,"onUpdate:modelValue":r[2]||(r[2]=n=>a(t).params.accounting_particular_name=n),title:"Accounting Particular Term"},null,8,["modelValue"]),i(o,{modelValue:a(t).params.description,"onUpdate:modelValue":r[3]||(r[3]=n=>a(t).params.description=n),title:"Description"},null,8,["modelValue"]),i(y,{type:"submit","button-title":"Create"})],40,K)])]),_:1},8,["loading"])}}},Q=A(z,[["__scopeId","data-v-213e6f7c"]]),W={class:"text-gray-500 mt-2"},X=["onSubmit"],Y={__name:"EditForm",setup(e){const s=P(),{editData:t,isEdit:l}=f(s),p=S(),u=()=>{l.value=!1},r=async()=>{try{await s.sendEditResource(),p.add({type:"success",text:t.successMessage||"Successfully updated."})}catch(d){p.add({type:"error",text:d||"Something went wrong."})}};return(d,o)=>{const y=E,_=V,n=x,m=B;return h(),L(m,{title:"Edit HRMS - Accounting Particulars",loading:a(t).isLoading},{default:R(()=>[g("div",W,[g("form",{onSubmit:v(r,["prevent"])},[i(y,{modelValue:a(t).params.type,"onUpdate:modelValue":o[0]||(o[0]=c=>a(t).params.type=c),"options-list":["Loan","Other Deduction"],title:"Deduction Type"},null,8,["modelValue"]),i(_,{modelValue:a(t).params.local_particular_name,"onUpdate:modelValue":o[1]||(o[1]=c=>a(t).params.local_particular_name=c),title:"HRMS Particular Name"},null,8,["modelValue"]),i(_,{modelValue:a(t).params.accounting_particular_name,"onUpdate:modelValue":o[2]||(o[2]=c=>a(t).params.accounting_particular_name=c),title:"Accounting Particular Term"},null,8,["modelValue"]),i(_,{modelValue:a(t).params.description,"onUpdate:modelValue":o[3]||(o[3]=c=>a(t).params.description=c),title:"Description"},null,8,["modelValue"]),i(n,{type:"submit","button-title":"Edit"}),i(n,{"button-title":"Cancel","button-icon":"material-symbols:cancel",onClick:u})],40,X)])]),_:1},8,["loading"])}}},Z=A(Y,[["__scopeId","data-v-29b8028a"]]),tt={class:"pb-2 text-gray-500"},et={class:"flex justify-center mx-auto"},at={__name:"AllResouces",setup(e){const s=P(),{allList:t,isEdit:l,editData:p,deleteData:u}=f(s),r=S();H(()=>{t.value.isLoaded||s.getAllList(),t.value.isLoaded=!0}),F(()=>{t.value.isLoaded=!1});const d=m=>{l.value=!0,p.value.params=JSON.parse(JSON.stringify(m))},o=async m=>{try{await s.sendDeleteResource(m.id),r.add({type:"success",text:u.successMessage||"Successfully deleted."})}catch(c){r.add({type:"error",text:c||"Something went wrong."})}},y=m=>{t.value.params.page=m.page??""},_=[{name:"Type",id:"type"},{name:"HRMS Payroll Particular",id:"local_particular_name"},{name:"Accounting Voucher Term",id:"accounting_particular_name"},{name:"Description",id:"description"}],n={edit:!0,delete:!0};return(m,c)=>{const M=N,k=O,$=T;return h(),L($,{title:"HRMS - Accounting Particulars",class:"w-full",loading:a(t).isLoading},{default:R(()=>[g("div",tt,[i(M,{"header-columns":_,datas:a(t).list,actions:n,onEditRow:d,onDeleteRow:o},null,8,["datas"])]),g("div",et,[i(k,{links:a(t).pagination,onChangeParams:y},null,8,["links"])])]),_:1},8,["loading"])}}},st={class:"flex flex-col md:flex-row gap-4"},Dt={__name:"payroll-particular-terms",setup(e){const s=P(),{isEdit:t}=f(s);return I({title:"Payroll Particular Terms"}),(l,p)=>{const u=Q,r=Z,d=at,o=q;return h(),L(o,{"if-access":("useCheckAccessibility"in l?l.useCheckAccessibility:a(J))([("AccessibilityTypes"in l?l.AccessibilityTypes:a(j)).hrms_setup_payrollparticularterms])},{default:R(()=>[g("div",st,[D(i(u,null,null,512),[[b,!a(t)]]),D(i(r,null,null,512),[[b,a(t)]]),i(d)])]),_:1},8,["if-access"])}}};export{Dt as default};
