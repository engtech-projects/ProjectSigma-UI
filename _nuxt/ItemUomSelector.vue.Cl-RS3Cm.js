import{_ as S}from"./PsSelectSearch.vue.CrY1IpH8.js";import{f as _,n as I,s as g,q as y,r as n,K as U,L as h,o as b,h as L,u as s,v as m}from"./entry.R6V7NTxy.js";import{u as q}from"./enum.C7gxcjUu.js";const M=_({__name:"ItemSelector",props:{modelValue:{required:!1,type:Number,default:null}},emits:I(["itemSelected"],["update:modelValue"]),setup(v,{emit:p}){const i=q(),{itemEnum:l}=g(i),d=y(v,"modelValue"),a=n({}),r=n(null),o=n("");U(()=>{l.value.isLoaded||i.getItems()});const f=t=>{d.value=t.id,!t.convertable_units||t.convertable_units.length===0?l.value.itemGroupFilter=[{id:t.uom,name:t.uom_name}]:l.value.itemGroupFilter=t.convertable_units,p("itemSelected",t)};return h(o,t=>{l.value.params.query=t}),(t,e)=>{const c=S;return b(),L(c,{result:s(a),"onUpdate:result":[e[0]||(e[0]=u=>m(a)?a.value=u:null),f],"result-id":s(r),"onUpdate:resultId":e[1]||(e[1]=u=>m(r)?r.value=u:null),"search-input":s(o),"onUpdate:searchInput":e[2]||(e[2]=u=>m(o)?o.value=u:null),"search-list":s(l).list,loading:s(l).isLoading,title:"item_summary",placeholder:"Search item..."},null,8,["result","result-id","search-input","search-list","loading"])}}}),N=_({__name:"ItemUomSelector",props:I({conversion:{type:Number,required:!0},itemId:{type:Number,required:!0}},{modelValue:{required:!1,type:Number,default:null}}),emits:I(["watchItem"],["update:modelValue"]),setup(v,{emit:p}){const i=q(),{itemEnum:l}=g(i),d=y(v,"modelValue"),a=n({}),r=n(null),o=n("");U(()=>{l.value.isLoaded||i.getItems()});const f=t=>{d.value=t.id,p("watchItem",t)};return h(()=>l.value.itemGroupFilter,t=>{if(t&&t.length===1){const e=t[0];a.value=e,r.value=e.id,d.value=e.id,p("watchItem",e)}},{immediate:!0}),h(()=>d.value,t=>{if(t&&l.value.itemGroupFilter){const e=l.value.itemGroupFilter.find(c=>c.id===t);e&&(a.value=e,r.value=e.id)}},{immediate:!0}),(t,e)=>{const c=S;return b(),L(c,{result:s(a),"onUpdate:result":[e[0]||(e[0]=u=>m(a)?a.value=u:null),f],"result-id":s(r),"onUpdate:resultId":e[1]||(e[1]=u=>m(r)?r.value=u:null),"search-input":s(o),"onUpdate:searchInput":e[2]||(e[2]=u=>m(o)?o.value=u:null),"search-list":s(l).itemGroupFilter||[],loading:s(l).isLoading,title:"name",placeholder:"Search UOM..."},null,8,["result","result-id","search-input","search-list","loading"])}}});export{M as _,N as a};
