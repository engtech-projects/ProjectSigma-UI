import{_ as Z,a as ee,b as ae}from"./MainContainer.BswisYLp.js";import{_ as te}from"./search-bar.vue.DimEkj6Y.js";import{_ as se}from"./DepartmentProjectSelector.BGO9zzOz.js";import{_ as oe}from"./PsNumberInput.vue.BU6zn-2O.js";import{_ as ne}from"./PsDateInput.vue.Dioz8erE.js";import{_ as ie}from"./PsTextInput.vue.C7eOWbog.js";import{_ as le}from"./RequestedBy.vue.DqrfI0e9.js";import{_ as de}from"./ApprovalsList.aVDiIVet.js";import{_ as J}from"./LoadingContainer.vue.BZUQ77Em.js";import{f as Q,s as D,m as me,r as x,B as ce,o as r,h as g,w as k,a as d,g as re,b as o,u as e,v as S,c as V,F as I,i as W,x as ue,P as _e,t as O,d as z,p as pe,e as fe,_ as K,K as q,L as E,k as ye,j as w}from"./entry.32UGFqj-.js";import{u as H,T as ve,_ as R}from"./InfoModal.vue.B14aWdbL.js";import{u as he,e as ge}from"./approvals.89EhJm5V.js";import{_ as F}from"./SearchEmployeeSelector.vue.B5O7htiL.js";import be from"./Icon.CrHlyQOo.js";import{_ as U}from"./CustomPagination.C91H0oe5.js";import{u as j}from"./index.CBzzh1I-.js";import{_ as B}from"./PsTable.BPIFONj1.js";import{u as $,A as M}from"./Accessibilities.xGffDRXj.js";import{_ as Ce}from"./AcessContainer.Dum7aOuo.js";import{u as Ae}from"./vue.f36acd1f.Ds2AlAv6.js";import"./id.WqrvI90c.js";import"./client-only.CuVny2dr.js";import"./LayoutBoards.vue.D_rbqYxd.js";import"./loader.BQ9QddgL.js";import"./PsSelectSearch.vue.CT-F0Leg.js";import"./CustomFetch.ggXvTdIz.js";import"./employeeSearch.AgeAeP2j.js";import"./DepartmentSelector.vue.D5_eirUz.js";import"./enum.M1X5V5yu.js";import"./ProjectSelector.vue.D_IMAiNS.js";import"./UserEmployeeSelector.vue.CW0bAtx_.js";import"./ListView.CUwkSJ9r.js";import"./ApprovalDenyButton.2aaI0auR.js";import"./Utilities.DofxnkSu.js";import"./PsModal.Bk3xu63Y.js";import"./index.T-zbMaZc.js";import"./nuxt-link.C5IpI_HT.js";import"./users.G4iuGzk0.js";const N=n=>(pe("data-v-401e6d69"),n=n(),fe(),n),Pe={class:"text-gray-500"},ke=["onSubmit"],we={class:"gap-2 p-2"},Te=N(()=>d("label",{for:"empName",class:"text-sm font-semibold text-gray-700"},"Employee Name",-1)),xe={class:"grid grid-cols-2 gap-2 p-2"},$e=N(()=>d("label",{for:"term",class:"text-sm font-semibold text-gray-700"},"Terms of Payment",-1)),Me={class:"flex gap-4"},Ve=["id","value"],Le=["for"],Ie={class:"text-xs"},De=N(()=>d("br",null,null,-1)),Se={class:"w-full rounded-lg p-4 bg-slate-100"},He=N(()=>d("label",{for:"approved_by",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Approvals:",-1)),qe=N(()=>d("div",{class:"flex justify-end pb-2"},[d("button",{type:"submit",class:"flex text-white p-2 rounded-lg bg-teal-600 content-center mt-5"}," Submit Form ")],-1)),Re=Q({__name:"CashadvanceForm",async setup(n){let c,t;const v=he(),i=H(),{cashadvance:s}=D(i);s.value.approvals=([c,t]=me(()=>v.getApprovalByName(ge)),c=await c,t(),c);const l=x(""),u=ce(),h=x(!1),p=async()=>{try{h.value=!0,await i.createRequest(),i.errorMessage!==""?u.add({type:"error",text:i.errorMessage}):u.add({type:"success",text:i.successMessage})}catch{u.add({type:"error",text:i.errorMessage})}finally{h.value=!1}},_=f=>{i.cashadvance.employee_id=f.id};return(f,a)=>{const m=te,P=se,A=oe,C=ne,b=ie,T=le,X=de,Y=J;return r(),g(Y,{class:"w-full",loading:e(h)},{default:k(()=>[d("div",Pe,[d("form",{onSubmit:re(p,["prevent"])},[d("div",we,[d("div",null,[Te,o(m,{onSearchChanged:_})])]),d("div",xe,[o(P,{"select-type":e(l),"onUpdate:selectType":a[0]||(a[0]=y=>S(l)?l.value=y:null),"department-id":e(s).department_id,"onUpdate:departmentId":a[1]||(a[1]=y=>e(s).department_id=y),"project-id":e(s).project_id,"onUpdate:projectId":a[2]||(a[2]=y=>e(s).project_id=y)},null,8,["select-type","department-id","project-id"]),o(A,{modelValue:e(s).amount,"onUpdate:modelValue":a[3]||(a[3]=y=>e(s).amount=y),title:"Cash advance amount"},null,8,["modelValue"]),d("div",null,[$e,d("div",Me,[(r(!0),V(I,null,W(e(ve),(y,L)=>(r(),V("div",{key:L},[ue(d("input",{id:"term"+L,"onUpdate:modelValue":a[4]||(a[4]=G=>e(s).terms_of_payment=G),value:y,type:"radio",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,Ve),[[_e,e(s).terms_of_payment]]),d("label",{for:"term"+L,class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},O(y),9,Le)]))),128))])]),o(A,{modelValue:e(s).installment_deduction,"onUpdate:modelValue":a[5]||(a[5]=y=>e(s).installment_deduction=y),title:"Monthly Deduction"},null,8,["modelValue"]),d("div",Ie,[z(" Bi-Monthly Deduction: "+O(e(s).installment_deduction?e(s).installment_deduction/2:0)+" ",1),De,z(" Weekly Deduction: "+O(e(s).installment_deduction?e(s).installment_deduction/4:0),1)]),o(C,{modelValue:e(s).deduction_date_start,"onUpdate:modelValue":a[6]||(a[6]=y=>e(s).deduction_date_start=y),title:"Deduction Start Date"},null,8,["modelValue"]),o(b,{modelValue:e(s).purpose,"onUpdate:modelValue":a[7]||(a[7]=y=>e(s).purpose=y),title:"Purpose/Reason(s)"},null,8,["modelValue"]),o(b,{modelValue:e(s).remarks,"onUpdate:modelValue":a[8]||(a[8]=y=>e(s).remarks=y),title:"Remarks"},null,8,["modelValue"]),o(T,{title:"Released By",class:"p-2 font-medium text-blue-800 italic"})]),d("div",Se,[He,(r(!0),V(I,null,W(e(s).approvals,(y,L)=>(r(),g(X,{key:"hrmsetupapprovallist"+L,modelValue:e(s).approvals[L],"onUpdate:modelValue":G=>e(s).approvals[L]=G},null,8,["modelValue","onUpdate:modelValue"]))),128))]),qe],40,ke)])]),_:1},8,["loading"])}}}),Ue=K(Re,[["__scopeId","data-v-401e6d69"]]),Ee={class:"w-full"},je={class:"w-full"},Be={class:"mt-5 mb-6"},Ne={class:"flex flex-row gap-1"},Fe=["onClick"],Ge={class:"flex justify-center mx-auto"},Oe={__name:"CashadvanceList",setup(n){const c=H(),{cashAdvanceList:t}=D(c),v=j(()=>{c.getCA()},500);q(()=>{t.value.isLoaded||v()}),E(()=>({...t.value.params}),(p,_)=>{p.page===_.page&&(t.value.params.page=1),v()},{deep:!0});const i=[{text:"Employee Name",value:"employee.fullname_first"},{text:"Cash Advance Amount",value:"amount_formatted"},{text:"Terms",value:"terms_of_payment"},{text:"Installment Deduction",value:"installment_deduction_formatted"},{text:"Deduction Date start",value:"deduction_date_start"},{text:"Purpose",value:"purpose"},{text:"Balance",value:"remaining_balance_formatted"},{text:"Total Paid",value:"total_paid_formatted"},{text:"Status",value:"request_status"},{text:"Action",value:"actions"}],s=p=>{t.value.params.page=p.page??""},l=x({}),u=x(!1),h=p=>{l.value=p,u.value=!0};return(p,_)=>{const f=F,a=be,m=ye("EasyDataTable"),P=U,A=R,C=J;return r(),g(C,{loading:e(t).isLoading},{default:k(()=>[d("div",Ee,[o(f,{modelValue:e(t).params.employee_id,"onUpdate:modelValue":_[0]||(_[0]=b=>e(t).params.employee_id=b)},null,8,["modelValue"])]),d("div",je,[d("div",Be,[o(m,{class:"mt-5",headers:i,items:e(t).list,"hide-footer":!0},{"item-actions":k(b=>[d("div",Ne,[d("button",{onClick:T=>h(b)},[o(a,{name:"material-symbols:visibility-rounded",color:"white",class:"bg-teal-700 rounded h-8 w-8 p-1"})],8,Fe)])]),_:1},8,["items"])]),d("div",Ge,[o(P,{links:e(t).pagination,onChangeParams:s},null,8,["links"])])]),o(A,{"show-modal":e(u),"onUpdate:showModal":_[1]||(_[1]=b=>S(u)?u.value=b:null),data:e(l)},null,8,["show-modal","data"])]),_:1},8,["loading"])}}},Ke=K(Oe,[["__scopeId","data-v-0a51970f"]]),We={class:"pb-2 text-gray-500 p-2"},ze={class:"flex justify-center mx-auto"},Je={__name:"MyRequests",setup(n){const c=H(),{myRequestList:t,pagination:v,getParams:i,ca:s}=D(c),l=x(!1),u=j(()=>{c.getMyRequests()},500);q(()=>{t.value.isLoaded||u()}),E(()=>({...t.value.params}),(a,m)=>{a.page===m.page&&(t.value.params.page=1),u()},{deep:!0});const h=a=>{s.value=a,l.value=!0},p=[{name:"Employee Name",id:"employee.fullname_first"},{name:"Cash Advance Amount",id:"amount_formatted"},{name:"Terms",id:"terms_of_payment"},{name:"Installment Deduction",id:"installment_deduction_formatted"},{name:"Deduction Date start",id:"deduction_date_start"},{name:"Purpose",id:"purpose"},{name:"Balance",id:"remaining_balance_formatted"},{name:"Total Paid",id:"total_paid_formatted"},{name:"Status",id:"request_status"}],_={showTable:!0},f=a=>{i.value.page=a.page??""};return(a,m)=>{const P=B,A=U,C=R;return r(),V(I,null,[d("div",We,[o(P,{"header-columns":p,datas:e(t).list,actions:_,onShowTable:h},null,8,["datas"])]),d("div",ze,[e(t).list.length?(r(),g(A,{key:0,links:e(v),onChangeParams:f},null,8,["links"])):w("",!0)]),o(C,{"show-modal":e(l),"onUpdate:showModal":m[0]||(m[0]=b=>S(l)?l.value=b:null),data:e(s)},null,8,["show-modal","data"])],64)}}},Qe={class:"pb-2 text-gray-500 p-2"},Xe={class:"flex justify-center mx-auto"},Ye={__name:"MyApprovals",setup(n){const c=H(),{myApprovalRequestList:t,pagination:v,getParams:i,ca:s}=D(c),l=x(!1),u=j(()=>{c.getMyApprovalRequests()},500);q(()=>{t.value.isLoaded||u()}),E(()=>({...t.value.params}),(a,m)=>{a.page===m.page&&(t.value.params.page=1),u()},{deep:!0});const h=a=>{s.value=a,l.value=!0},p=[{name:"Employee Name",id:"employee.fullname_first"},{name:"Cash Advance Amount",id:"amount_formatted"},{name:"Terms",id:"terms_of_payment"},{name:"Installment Deduction",id:"installment_deduction_formatted"},{name:"Deduction Date start",id:"deduction_date_start"},{name:"Purpose",id:"purpose"},{name:"Balance",id:"remaining_balance_formatted"},{name:"Total Paid",id:"total_paid_formatted"},{name:"Status",id:"request_status"}],_={showTable:!0},f=a=>{i.value.page=a.page??""};return(a,m)=>{const P=B,A=U,C=R;return r(),V(I,null,[d("div",Qe,[o(P,{"header-columns":p,datas:e(t).list,actions:_,onShowTable:h},null,8,["datas"])]),d("div",Xe,[e(t).list.length?(r(),g(A,{key:0,links:e(v),onChangeParams:f},null,8,["links"])):w("",!0)]),o(C,{"show-modal":e(l),"onUpdate:showModal":m[0]||(m[0]=b=>S(l)?l.value=b:null),data:e(s)},null,8,["show-modal","data"])],64)}}},Ze={class:"pb-2 text-gray-500 p-2"},ea={class:"flex justify-center mx-auto"},aa={__name:"OngoingCashAdvance",setup(n){const c=H(),{ongoingCashAdvanceList:t,pagination:v,getParams:i,ca:s}=D(c),l=x(!1),u=j(()=>{c.getOngoingCashAdvance()},500);q(()=>{t.value.isLoaded||u()}),E(()=>({...t.value.params}),(a,m)=>{a.page===m.page&&(t.value.params.page=1),u()},{deep:!0});const h=a=>{s.value=a,l.value=!0},p=[{name:"Employee Name",id:"employee.fullname_first"},{name:"Cash Advance Amount",id:"amount_formatted"},{name:"Terms",id:"terms_of_payment"},{name:"Installment Deduction",id:"installment_deduction_formatted"},{name:"Deduction Date start",id:"deduction_date_start"},{name:"Purpose",id:"purpose"},{name:"Balance",id:"remaining_balance_formatted"},{name:"Total Paid",id:"total_paid_formatted"},{name:"Status",id:"request_status"}],_={showTable:!0},f=a=>{i.value.page=a.page??""};return(a,m)=>{const P=F,A=B,C=U,b=R;return r(),V(I,null,[d("div",Ze,[o(P,{modelValue:e(i).employee_id,"onUpdate:modelValue":m[0]||(m[0]=T=>e(i).employee_id=T)},null,8,["modelValue"]),o(A,{"header-columns":p,datas:e(t).list,actions:_,onShowTable:h},null,8,["datas"])]),d("div",ea,[e(t).list.length?(r(),g(C,{key:0,links:e(v),onChangeParams:f},null,8,["links"])):w("",!0)]),o(b,{"show-modal":e(l),"onUpdate:showModal":m[1]||(m[1]=T=>S(l)?l.value=T:null),data:e(s)},null,8,["show-modal","data"])],64)}}},ta={class:"pb-2 text-gray-500 p-2"},sa={class:"flex justify-center mx-auto"},oa={__name:"PaidCashAdvance",setup(n){const c=H(),{paidCashAdvanceList:t,pagination:v,getParams:i,ca:s}=D(c),l=x(!1),u=j(()=>{c.getPaidCashAdvance()},500);q(()=>{t.value.isLoaded||u()}),E(()=>({...t.value.params}),(a,m)=>{a.page===m.page&&(t.value.params.page=1),u()},{deep:!0});const h=a=>{s.value=a,l.value=!0},p=[{name:"Employee Name",id:"employee.fullname_first"},{name:"Cash Advance Amount",id:"amount_formatted"},{name:"Terms",id:"terms_of_payment"},{name:"Installment Deduction",id:"installment_deduction_formatted"},{name:"Deduction Date start",id:"deduction_date_start"},{name:"Purpose",id:"purpose"},{name:"Balance",id:"remaining_balance_formatted"},{name:"Total Paid",id:"total_paid_formatted"},{name:"Status",id:"request_status"}],_={showTable:!0},f=a=>{i.value.page=a.page??""};return(a,m)=>{const P=F,A=B,C=U,b=R;return r(),V(I,null,[d("div",ta,[o(P,{modelValue:e(i).employee_id,"onUpdate:modelValue":m[0]||(m[0]=T=>e(i).employee_id=T)},null,8,["modelValue"]),o(A,{"header-columns":p,datas:e(t).list,actions:_,onShowTable:h},null,8,["datas"])]),d("div",sa,[e(t).list.length?(r(),g(C,{key:0,links:e(v),onChangeParams:f},null,8,["links"])):w("",!0)]),o(b,{"show-modal":e(l),"onUpdate:showModal":m[1]||(m[1]=T=>S(l)?l.value=T:null),data:e(s)},null,8,["show-modal","data"])],64)}}},na={class:"pb-2 text-gray-500 p-2"},ia={class:"flex justify-center mx-auto"},la={__name:"PaymentCashAdvance",setup(n){const c=H(),{paymentCashAdvanceList:t,pagination:v,getParams:i,ca:s}=D(c),l=x(!1);q(()=>{t.value.isLoaded||c.getPaymentsCashAdvance()});const u=_=>{s.value=_,l.value=!0},h=[{name:"Employee Name",id:"employee.fullname_first"},{name:"Cash Advance Purpose",id:"cashadvance.purpose"},{name:"Mode of Payment",id:"payment_type"},{name:"Date Paid",id:"date_paid_human"},{name:"Total Paid",id:"amount_paid_formatted"}],p=_=>{i.value.page=_.page??""};return(_,f)=>{const a=F,m=B,P=U,A=R;return r(),V(I,null,[d("div",na,[o(a,{modelValue:e(i).employee_id,"onUpdate:modelValue":f[0]||(f[0]=C=>e(i).employee_id=C)},null,8,["modelValue"]),o(m,{"header-columns":h,datas:e(t).list,actions:_.actions,onShowTable:u},null,8,["datas","actions"])]),d("div",ia,[e(t).list.length?(r(),g(P,{key:0,links:e(v),onChangeParams:p},null,8,["links"])):w("",!0)]),o(A,{"show-modal":e(l),"onUpdate:showModal":f[1]||(f[1]=C=>S(l)?l.value=C:null),data:e(s)},null,8,["show-modal","data"])],64)}}},da={};function ma(n,c){const t=Z,v=Ue,i=ee,s=Ke,l=Je,u=Ye,h=aa,p=oa,_=la,f=ae;return r(),g(f,null,{"tab-titles":k(()=>[("useCheckAccessibility"in n?n.useCheckAccessibility:e($))([("AccessibilityTypes"in n?n.AccessibilityTypes:e(M)).hrms_loans_and_advances_cash_advance_formsmyrequest])?(r(),g(t,{key:0,title:"Cash Advance Request Form","target-id":"requestFormCA"})):w("",!0),("useCheckAccessibility"in n?n.useCheckAccessibility:e($))([("AccessibilityTypes"in n?n.AccessibilityTypes:e(M)).hrms_loans_and_advances_cash_advance_allrequests])?(r(),g(t,{key:1,title:"All Requests","target-id":"allListCA"})):w("",!0),("useCheckAccessibility"in n?n.useCheckAccessibility:e($))([("AccessibilityTypes"in n?n.AccessibilityTypes:e(M)).hrms_loans_and_advances_cash_advance_formsmyrequest])?(r(),g(t,{key:2,title:"My Requests","target-id":"myRequestsCA"})):w("",!0),("useCheckAccessibility"in n?n.useCheckAccessibility:e($))([("AccessibilityTypes"in n?n.AccessibilityTypes:e(M)).hrms_loans_and_advances_cash_advance_myapprovals])?(r(),g(t,{key:3,title:"My Approvals","target-id":"myApprovalsCA"})):w("",!0),("useCheckAccessibility"in n?n.useCheckAccessibility:e($))([("AccessibilityTypes"in n?n.AccessibilityTypes:e(M)).hrms_loans_and_advances_cash_advance_myapprovals])?(r(),g(t,{key:4,title:"Ongoing Cash Advance","target-id":"ongoingCA"})):w("",!0),("useCheckAccessibility"in n?n.useCheckAccessibility:e($))([("AccessibilityTypes"in n?n.AccessibilityTypes:e(M)).hrms_loans_and_advances_cash_advance_myapprovals])?(r(),g(t,{key:5,title:"Paid Cash Advance","target-id":"paidsCA"})):w("",!0),("useCheckAccessibility"in n?n.useCheckAccessibility:e($))([("AccessibilityTypes"in n?n.AccessibilityTypes:e(M)).hrms_loans_and_advances_cash_advance_myapprovals])?(r(),g(t,{key:6,title:"CA Payments List","target-id":"paymentCA"})):w("",!0)]),"tab-containers":k(()=>[o(i,{id:"requestFormCA"},{default:k(()=>[o(v)]),_:1}),o(i,{id:"allListCA"},{default:k(()=>[o(s)]),_:1}),o(i,{id:"myRequestsCA"},{default:k(()=>[o(l)]),_:1}),o(i,{id:"myApprovalsCA"},{default:k(()=>[o(u)]),_:1}),o(i,{id:"ongoingCA"},{default:k(()=>[o(h)]),_:1}),o(i,{id:"paidsCA"},{default:k(()=>[o(p)]),_:1}),o(i,{id:"paymentCA"},{default:k(()=>[o(_)]),_:1})]),_:1})}const ca=K(da,[["render",ma],["__scopeId","data-v-f453946d"]]),Ja=Q({__name:"cashadvance",setup(n){return Ae({title:"Cash Advance"}),(c,t)=>{const v=ca,i=Ce;return r(),g(i,{"if-access":("useCheckAccessibility"in c?c.useCheckAccessibility:e($))([("AccessibilityTypes"in c?c.AccessibilityTypes:e(M)).hrms_loans_and_advances_cash_advance_group])},{default:k(()=>[o(v)]),_:1},8,["if-access"])}}});export{Ja as default};
