import{_ as B}from"./LayoutBoards.vue.D_rbqYxd.js";import{ab as q,l as z,O as D,_ as F,s as w,B as R,r as S,o as h,h as E,w as g,a as e,g as N,x as _,u as s,A as x,G as H,t as U,y as O,p as Y,e as G,c as v,j as J,b as d}from"./entry.32UGFqj-.js";import{i as K,h as L}from"./CustomFetch.ggXvTdIz.js";import{_ as Q}from"./editBoards.vue.DA5g6BdX.js";import{_ as W,a as X,b as Z}from"./MainContainer.BswisYLp.js";import{_ as ee}from"./PsTable.BPIFONj1.js";import{_ as te}from"./CustomPagination.C91H0oe5.js";import{_ as se}from"./loader.BQ9QddgL.js";import{_ as ae}from"./AcessContainer.Dum7aOuo.js";import{u as oe}from"./vue.f36acd1f.Ds2AlAv6.js";import{u as ie,A as ne}from"./Accessibilities.xGffDRXj.js";import"./id.WqrvI90c.js";import"./client-only.CuVny2dr.js";import"./Icon.CrHlyQOo.js";import"./index.T-zbMaZc.js";import"./nuxt-link.C5IpI_HT.js";import"./Utilities.DofxnkSu.js";import"./users.G4iuGzk0.js";const{token:C}=q(),T=D(),$=z("UOM",{state:()=>({isEdit:!1,uom:{id:null,name:"",symbol:"",group_id:null,is_standard:null},list:[],isLoading:!1,isLoaded:!1,pagination:{},getParams:{filter:"custom"},errorMessage:"",successMessage:""}),actions:{async getUOM(){await K("/api/uom/resource?standard",{method:"GET",params:this.getParams,onRequest:()=>{this.isLoading=!0},onResponse:({response:o})=>{this.isLoading=!1,o.ok?(this.isLoaded=!0,this.list=o._data.data.data,this.getParams.filter==="custom"&&this.list.sort((t,a)=>t.name.localeCompare(a.name)),this.pagination={first_page:o._data.data.links.first,pages:o._data.data.meta.links,last_page:o._data.data.links.last}):this.errorMessage=o._data.message}})},async addUOM(){this.successMessage="",this.errorMessage="",await L("/api/uom/resource",{baseURL:T.public.INVENTORY_API_URL,method:"POST",headers:{Authorization:C.value+"",Accept:"application/json"},body:{id:this.uom.id,name:this.uom.name,symbol:this.uom.symbol},watch:!1,onResponse:({response:o})=>{this.reset(),o.ok?this.successMessage=o._data.message:this.errorMessage=o._data.message,this.getUOM()}},"$YkAyjzSLbr")},async editUOM(){this.successMessage="",this.errorMessage="";const{data:o,error:t}=await L("/api/uom/resource/"+this.uom.id,{baseURL:T.public.INVENTORY_API_URL,method:"PATCH",headers:{Authorization:C.value+"",Accept:"application/json"},body:{id:this.uom.id,name:this.uom.name,symbol:this.uom.symbol,is_standard:this.isStandard},watch:!1,onResponse:({response:a})=>{a.ok?(this.successMessage=a._data.message,this.getUOM(),this.reset()):this.errorMessage=a._data.message}},"$t7NGJs8K0a");if(o.value)return this.reset(),this.successMessage=o.value.message,o;if(t.value)return this.errorMessage=t.value.data.message,t},async deleteUOM(o){const{data:t,error:a}=await L("/api/uom/resource/"+o,{baseURL:T.public.INVENTORY_API_URL,method:"DELETE",headers:{Authorization:C.value+"",Accept:"application/json"},watch:!1,onResponse:({response:i})=>{i.ok?(this.successMessage=i._data.message,this.getUOM(),this.reset()):this.errorMessage=i._data.message}},"$3cok7lBcl2");if(t.value)return this.reset(),this.successMessage=t.value.message,t;if(a.value)return this.errorMessage=a.value.data.message,a},reset(){this.uom={id:null,name:"",group_id:null,symbol:"",is_standard:null},this.isEdit=!1,this.errorMessage="",this.successMessage=""}}}),k=o=>(Y("data-v-248aefcb"),o=o(),G(),o),le={class:"text-gray-500 mt-2"},re=["onSubmit"],ce=k(()=>e("label",{class:"text-sm"},"Add UOM Record",-1)),de={class:"mb-2"},me=k(()=>e("label",{for:"name",class:"text-sm italic"},"Name",-1)),ue={class:"mb-2"},_e=k(()=>e("label",{for:"symbol",class:"text-sm italic"},"Symbol",-1)),pe=k(()=>e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-teal-600 content-center mt-5"}," Add UOM ")],-1)),fe={__name:"AddForm",setup(o){const t=$(),{uom:a,errorMessage:i,successMessage:r}=w(t),n=R(),l=S(!1),p=async()=>{try{l.value=!0,await t.addUOM(),t.errorMessage!==""?n.add({type:"error",text:i.value}):n.add({type:"success",text:r.value})}catch{n.add({type:"error",text:i.value})}finally{l.value=!1}};return(b,u)=>{const c=B;return h(),E(c,{title:"Unit of Measurement",loading:s(l)},{default:g(()=>[e("div",le,[e("form",{onSubmit:N(p,["prevent"])},[ce,e("div",de,[me,_(e("input",{id:"name","onUpdate:modelValue":u[0]||(u[0]=m=>s(a).name=m),type:"text",class:"w-full rounded-lg",required:""},null,512),[[x,s(a).name]])]),e("div",ue,[_e,_(e("input",{id:"symbol","onUpdate:modelValue":u[1]||(u[1]=m=>s(a).symbol=m),type:"text",class:"w-full rounded-lg",required:""},null,512),[[x,s(a).symbol]])]),pe],40,re),e("p",{hidden:"",class:H(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!s(i)}])},U(s(i)),3),_(e("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic"},U(s(r)),513),[[O,s(r)]])])]),_:1},8,["loading"])}}},ge=F(fe,[["__scopeId","data-v-248aefcb"]]),he={class:"text-gray-500 mt-2"},be=["onSubmit"],ye=e("label",{class:"text-sm"},"Edit UOM Record",-1),Me={class:"mb-2"},ve=e("label",{for:"name",class:"text-sm italic"},"Name",-1),xe={class:"mb-2"},Ue=e("label",{for:"symbol",class:"text-sm italic"},"Symbol",-1),Oe=e("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-teal-600 content-center mt-5"}," Save ",-1),we={hidden:"",class:"text-red-600 text-center font-semibold"},$e={__name:"EditForm",setup(o){const t=$(),{uom:a,errorMessage:i,successMessage:r}=w(t),n=R(),l=S(!1),p=()=>{t.reset()},b=async()=>{try{l.value=!0,await t.editUOM(),t.errorMessage!==""?n.add({type:"error",text:i.value}):(n.add({type:"success",text:r.value}),await t.getUOM())}catch{n.add({type:"error",text:i.value||"something went wrong."})}finally{l.value=!1}};return(u,c)=>{const m=Q;return h(),E(m,{title:"Unit of Measurement",loading:s(l)},{default:g(()=>[e("div",he,[e("form",{onSubmit:N(b,["prevent"])},[ye,e("div",Me,[ve,_(e("input",{id:"name","onUpdate:modelValue":c[0]||(c[0]=f=>s(a).name=f),type:"text",class:"w-full rounded-lg",required:""},null,512),[[x,s(a).name]])]),e("div",xe,[Ue,_(e("input",{id:"symbol","onUpdate:modelValue":c[1]||(c[1]=f=>s(a).symbol=f),type:"text",class:"w-full rounded-lg",required:""},null,512),[[x,s(a).symbol]])]),e("div",{class:"flex justify-end gap-2"},[Oe,e("button",{type:"button",class:"flex-1 text-white p-2 rounded bg-gray-700 content-center mt-5 hover:bg-gray-500",onClick:p}," Cancel ")])],40,be),e("p",we,U(s(i)),1),_(e("p",{hidden:"",class:"text-green-600 text-center font-semibold"},U(s(r)),513),[[O,s(r)]])])]),_:1},8,["loading"])}}},ke={class:"relative"},Ae={key:0,class:"absolute bg-slate-200/50 rounded-lg w-full h-full flex items-center justify-center"},Le=e("img",{class:"flex justify-center w-28 rounded-md",src:se,alt:"logo"},null,-1),Ce=[Le],Te={class:"pb-2 text-gray-500"},Re={key:0},Se={key:1},Ee={class:"flex justify-center mx-auto p-2"},Pe={__name:"UOMTable",setup(o){const t=$(),{list:a,pagination:i,isEdit:r,uom:n,getParams:l,errorMessage:p,successMessage:b,isLoading:u}=w(t),c=R(),m=S(!1),f=y=>{r.value=!0,n.value=y},M=async y=>{try{m.value=!0,await t.deleteUOM(y.id),t.errorMessage!==""?c.add({type:"error",text:p.value}):(c.add({type:"success",text:b.value}),await t.getUOM())}finally{m.value=!1}},A=y=>{l.value.page=y.page??"",t.getUOM()},P=[{name:"Name",id:"name"},{name:"Symbol",id:"symbol"}],j={edit:!0,delete:!0};return(y,Ne)=>{const I=ee,V=te;return h(),v("div",ke,[s(u)?(h(),v("div",Ae,Ce)):J("",!0),e("div",null,[e("div",Te,[s(l).filter==="custom"?(h(),v("div",Re,[d(I,{"header-columns":P,datas:s(a),actions:j,onEditRow:f,onDeleteRow:M},null,8,["datas"])])):(h(),v("div",Se,[d(I,{"header-columns":P,datas:s(a),onDeleteRow:M},null,8,["datas"])]))]),e("div",Ee,[d(V,{links:s(i),onChangeParams:A},null,8,["links"])])])])}}},Ie={class:"flex flex-col mt-10 md:mt-0 md:flex-row gap-4"},st={__name:"unit-of-measurement",setup(o){const t=$(),{isEdit:a,getParams:i}=w(t);oe({title:"Unit of Measurement"});const r=n=>{t.list=[],i.value.filter=n,i.value.page=1,t.getUOM()};return t.getUOM(),(n,l)=>{const p=ge,b=$e,u=W,c=Pe,m=X,f=Z,M=ae;return h(),E(M,{"if-access":("useCheckAccessibility"in n?n.useCheckAccessibility:s(ie))([("AccessibilityTypes"in n?n.AccessibilityTypes:s(ne)).inventory_setup_unit_of_measurements])},{default:g(()=>[e("div",Ie,[e("div",null,[_(d(p,null,null,512),[[O,!s(a)]]),_(d(b,null,null,512),[[O,s(a)]])]),d(f,null,{"tab-titles":g(()=>[d(u,{title:"Custom UOM","target-id":"customUOMList",onClick:l[0]||(l[0]=A=>r("custom"))}),d(u,{title:"Standard UOM","target-id":"standardUOMList",onClick:l[1]||(l[1]=A=>r("standard"))})]),"tab-containers":g(()=>[d(m,{id:"customUOMList"},{default:g(()=>[d(c)]),_:1}),d(m,{id:"standardUOMList"},{default:g(()=>[d(c)]),_:1})]),_:1})])]),_:1},8,["if-access"])}}};export{st as default};
