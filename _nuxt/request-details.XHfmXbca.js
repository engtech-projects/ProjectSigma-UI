import{_ as U}from"./CloseBackOrPrevpage.vue.BNZXQUhA.js";import{_ as O}from"./IsoHeader.vue.AGltULgl.js";import{_ as j}from"./PsFormLabel.vue.w_U4qcHv.js";import{f as A}from"./Utilities.DofxnkSu.js";import{o as s,c as o,a as e,F as v,i as x,t as a,u as c,f as D,B,s as P,b as y,j as k,h,v as F,E as M,aG as V,r as H,m as G,w}from"./entry.32UGFqj-.js";import{_ as I}from"./ListView.CUwkSJ9r.js";import{_ as J}from"./ApprovalDenyButton.2aaI0auR.js";import{a as Y,u as z,A as K}from"./Accessibilities.xGffDRXj.js";import{u as q}from"./canvassSummary.DmBm8aJ2.js";import{_ as Q}from"./LayoutBoards.vue.D_rbqYxd.js";import{_ as W}from"./LayoutPrintAdvanced.BMLOtvVg.js";import{_ as X}from"./AcessContainer.Dum7aOuo.js";import{u as Z}from"./vue.f36acd1f.Ds2AlAv6.js";import"./evenpar.CfYVxA5n.js";import"./id.WqrvI90c.js";import"./client-only.CuVny2dr.js";import"./Icon.CrHlyQOo.js";import"./index.T-zbMaZc.js";import"./users.G4iuGzk0.js";import"./CustomFetch.ggXvTdIz.js";import"./loader.BQ9QddgL.js";const ee={class:"flex w-full h-full bg-gray-50"},te={class:"w-full lg:w-1/2 border-r bg-white overflow-hidden"},se={class:"overflow-hidden max-h-96 lg:max-h-full"},re={class:"min-w-full table-auto text-xs sm:text-sm text-gray-800"},ae=e("thead",{class:"sticky top-0 z-10 bg-white"},[e("tr",{class:"h-20"},[e("th",{colspan:"5",class:"text-center text-lg font-bold border border-gray-700 border-r uppercase"},[e("div",{class:"flex items-center justify-center"},[e("div",{class:"text-center leading-tight"}," requested items(s) / services ")])])]),e("tr",{class:"font-semibold uppercase border border-gray-700 bg-slate-200"},[e("th",{class:"border-r border-gray-700 text-wrap w-12 text-xs"}," item no. "),e("th",{class:"border-r border-gray-700 text-xs"}," item description "),e("th",{class:"border-r border-gray-700 text-xs"}," specification "),e("th",{class:"border-r border-gray-700 w-10 text-xs"}," qty "),e("th",{class:"border-r border-gray-700 text-wrap w-12 p-1 text-xs"}," unit of measurement ")])],-1),oe={class:"border border-gray-700 p-1 text-center font-medium text-gray-600"},ne={class:"border border-gray-700 p-1 font-medium text-center"},ie=["title"],le={class:"border border-gray-700 px-1 sm:px-3 py-2 sm:py-3 text-center text-gray-600 hidden md:table-cell"},de=["title"],ce={class:"border border-gray-700 px-1 sm:px-3 py-2 sm:py-3 text-center font-semibold text-gray-600"},me={class:"border border-gray-700 px-1 sm:px-3 py-2 sm:py-3 text-center text-gray-600"},ue=["title"],_e=e("tr",null,[e("th",{colspan:"5",class:"border border-gray-700 text-center text-lg font-bold uppercase p-3"}," total amount ")],-1),pe={class:"w-1/2 overflow-auto bg-white"},ye={class:"min-w-full table-fixed text-xs sm:text-sm text-gray-800"},fe={class:"sticky top-0 bg-white"},be={class:"h-20"},he={colspan:"3",class:"text-center font-bold border border-gray-700 uppercase"},ve={class:"flex items-center justify-center"},xe={class:"text-center leading-tight"},ge=e("tr",{class:"font-semibold uppercase border border-gray-700 h-10 bg-slate-200"},[e("th",{class:"border-r border-gray-700 text-xs"}," Unit Price "),e("th",{class:"border-r border-gray-700 text-xs"}," Total "),e("th",{class:"border-r border-gray-700 text-xs"}," Remarks ")],-1),we={class:"border border-gray-700 text-center font-medium"},ke={class:"border border-gray-700 text-center font-semibold"},Ce={class:"border border-gray-700 text-center"},$e={class:"w-full h-full flex items-center justify-center overflow-auto text-xs text-gray-600"},Te={class:"h-12"},Se={colspan:"3",class:"border border-gray-700 p-1 text-center font-bold text-lg"},L={__name:"ItemTable",props:{data:{type:Object,required:!0}},setup(u){const t=u;return(n,g)=>(s(),o("div",ee,[e("div",te,[e("div",se,[e("table",re,[ae,e("tbody",null,[(s(!0),o(v,null,x(t.data.items,(r,i)=>(s(),o("tr",{key:"item-"+i,class:"border border-gray-700 hover:bg-gray-25 cursor-pointer"},[e("td",oe,a(i+1),1),e("td",ne,[e("div",{class:"truncate",title:r.item_description},a(r.item_description),9,ie)]),e("td",le,[e("div",{class:"truncate",title:r.specification},a(r.specification||"-"),9,de)]),e("td",ce,a(r.quantity||"-"),1),e("td",me,[e("div",{class:"truncate",title:r.unit},a(r.unit||"-"),9,ue)])]))),128)),_e])])])]),e("div",pe,[e("table",ye,[e("thead",fe,[e("tr",be,[e("th",he,[e("div",ve,[e("div",xe,[e("div",null,a(t.data.supplier.company_name),1),e("div",null,a(t.data.supplier.company_address),1),e("div",null,a(t.data.supplier.contact_person_name),1),e("div",null,a(t.data.supplier.contact_person_number),1)])])])]),ge]),e("tbody",null,[(s(!0),o(v,null,x(t.data.items,(r,i)=>(s(),o("tr",{key:"row-"+i,class:"border-b border-gray-700 hover:bg-gray-25 h-12"},[e("td",we," ₱"+a(("formatToCurrency"in n?n.formatToCurrency:c(A))(r.unit_price)),1),e("td",ke," ₱"+a(("formatToCurrency"in n?n.formatToCurrency:c(A))(r.total_amount)),1),e("td",Ce,[e("div",$e,a(r.remarks||"-"),1)])]))),128)),e("tr",Te,[e("td",Se," ₱"+a(("formatToCurrency"in n?n.formatToCurrency:c(A))(t.data.grand_total_amount)),1)])])])])]))}},Re={class:"text-gray-900 p-2"},Ae={class:"flex flex-col gap-4 pt-4 w-full"},Ee={key:0,class:"basis-[10%] grow-1 shrink-0 flex items-center justify-center rounded-t mb-4"},Ne={class:"pl-4 text-2xl font-bold text-gray-900 p-4 uppercase"},Oe={class:"flex flex-col gap-4 mb-5"},je={class:"flex flex-row justify-between gap-4"},De={class:"w-full flex flex-col"},Pe={class:"w-full flex flex-col"},Ie={class:"border border-t-0 border-gray-700 shadow-sm uppercase text-black bg-white"},qe={class:"w-1/2 px-4 py-4 font-medium border-r border-gray-700 flex items-center justify-center"},Le={class:"w-1/4 px-4 py-4 flex items-center text-black font-semibold"},Ue={class:"flex h-[100px]"},Be=e("div",{class:"w-1/2 px-4 py-4 font-medium border-r border-gray-700 flex items-center justify-center"}," Remarks ",-1),Fe={class:"w-1/2 px-4 py-4 font-semibold"},Me={id:"approvals",class:"w-full mb-6"},Ve={id:"footer",class:"pb-4"},He={key:0,class:"flex flex-col sm:flex-row gap-2 justify-end"},Ge=D({__name:"SystemDetailsLayout",props:{title:{type:String,required:!0},data:{type:Object,required:!0}},setup(u){const t=u,n=q(),g=B(),{remarks:r}=P(n),i=async(p,l)=>{try{p==="approve"?await n.approveApprovalForm(l):await n.denyApprovalForm(l),g.add({type:"success",text:n.successMessage}),n.$reset(),M({path:"/inventory/procurement/canvass-summary"})}catch(d){g.add({type:"error",text:(d==null?void 0:d.message)||"Something went wrong."})}};return(p,l)=>{var $,T,S,E,N;const d=O,f=j,m=L,R=I,C=J;return s(),o("div",Re,[e("div",Ae,[y(d,{page:{currentPage:1,totalPages:1}}),u.title?(s(),o("div",Ee,[e("h3",Ne,a(u.title),1)])):k("",!0),e("div",Oe,[e("div",je,[e("div",De,[(s(!0),o(v,null,x({DATE:t.data.date,"PROJECT CODE":t.data.project_code,"CONSO/RS REFERENCE NUMBER":t.data.reference_number},(_,b)=>(s(),h(f,{key:b,title:b,value:_},null,8,["title","value"]))),128))]),e("div",Pe,[(s(!0),o(v,null,x({"CS NUMBER":t.data.cs_number},(_,b)=>(s(),h(f,{key:b,title:b,value:_},null,8,["title","value"]))),128))])]),e("div",null,[y(m,{data:t.data},null,8,["data"]),e("div",Ie,[(s(!0),o(v,null,x({"Terms and Conditions":t.data.terms_of_payment,Availability:t.data.availability,"Delivery Terms":t.data.delivery_terms},(_,b)=>(s(),o("div",{key:b,class:"flex h-[60px] border-b border-gray-700 last:border-b-0"},[e("div",qe,a(b),1),e("div",Le,a(_||"-"),1)]))),128)),e("div",Ue,[Be,e("div",Fe,a(t.data.remarks||"No remarks"),1)])])]),e("div",Me,[y(R,{approvals:($=t.data)==null?void 0:$.approvals},null,8,["approvals"])]),e("div",Ve,[(T=t.data)!=null&&T.next_approval&&("useCheckIsCurrentUser"in p?p.useCheckIsCurrentUser:c(Y))((E=(S=t.data)==null?void 0:S.next_approval)==null?void 0:E.user_id)?(s(),o("div",He,[y(C,{"deny-remarks":c(r),"onUpdate:denyRemarks":l[0]||(l[0]=_=>F(r)?r.value=_:null),"request-id":(N=t.data)==null?void 0:N.id,onApprove:l[1]||(l[1]=_=>i("approve",_)),onDeny:l[2]||(l[2]=_=>i("deny",_))},null,8,["deny-remarks","request-id"])])):k("",!0)])])])])}}}),Je={class:"text-gray-900 p-2"},Ye={class:"flex flex-col gap-4 pt-4 w-full"},ze={key:0,class:"basis-[10%] grow-1 shrink-0 flex items-center justify-center rounded-t mb-4"},Ke={class:"pl-4 text-2xl font-bold text-gray-900 p-4 uppercase"},Qe={class:"flex flex-col gap-4 mb-5"},We={class:"flex flex-row justify-between gap-4"},Xe={class:"w-full flex flex-col"},Ze={class:"w-full flex flex-col"},et={class:"border border-t-0 border-gray-700 shadow-sm uppercase text-black bg-white"},tt={class:"w-1/2 px-4 py-4 font-medium border-r border-gray-700 flex items-center justify-center"},st={class:"w-1/4 px-4 py-4 flex items-center text-black font-semibold"},rt={class:"flex h-[100px]"},at=e("div",{class:"w-1/2 px-4 py-4 font-medium border-r border-gray-700 flex items-center justify-center"}," Remarks ",-1),ot={class:"w-1/2 px-4 py-4 font-semibold"},nt={id:"approvals",class:"w-full mt-4"},it=D({__name:"PrintDetailsLayout",props:{title:{type:String,required:!0},data:{type:Object,required:!0}},setup(u){const t=u;return(n,g)=>{var d;const r=O,i=j,p=L,l=I;return s(),o("div",Je,[e("div",Ye,[y(r,{page:{currentPage:1,totalPages:1}}),u.title?(s(),o("div",ze,[e("h3",Ke,a(u.title),1)])):k("",!0),e("div",Qe,[e("div",We,[e("div",Xe,[(s(!0),o(v,null,x({DATE:t.data.date,"PROJECT CODE":t.data.project_code,"CONSO/RS REFERENCE NUMBER":t.data.reference_number},(f,m)=>(s(),h(i,{key:m,title:m,value:f},null,8,["title","value"]))),128))]),e("div",Ze,[(s(!0),o(v,null,x({"CS NUMBER":t.data.cs_number},(f,m)=>(s(),h(i,{key:m,title:m,value:f},null,8,["title","value"]))),128))])]),e("div",null,[y(p,{data:t.data},null,8,["data"]),e("div",et,[(s(!0),o(v,null,x({"Terms and Conditions":t.data.terms_of_payment,Availability:t.data.availability,"Delivery Terms":t.data.delivery_terms},(f,m)=>(s(),o("div",{key:m,class:"flex h-[60px] border-b border-gray-700 last:border-b-0"},[e("div",tt,a(m),1),e("div",st,a(f||"-"),1)]))),128)),e("div",rt,[at,e("div",ot,a(t.data.remarks||"No remarks"),1)])])])]),e("div",nt,[y(l,{approvals:(d=u.data)==null?void 0:d.approvals,"signature-view":!0},null,8,["approvals"])])])])}}}),lt={key:1,class:"grid grid-cols-1 gap-4"},dt=e("h2",null," 404 NOT FOUND",-1),ct=[dt],Ot={__name:"request-details",async setup(u){let t,n;const g=q(),{canvassSummary:r}=P(g),i=V(),p=H(!1);i.query.key?(p.value=!0,[t,n]=G(()=>g.getOne(i.query.key)),await t,n()):p.value=!1;const l=[{name:"Item Description",id:"item_id"},{name:"Specification",id:"specification"},{name:"Quantity",id:"qty"},{name:"UOM",id:"unit"},{name:"Preferred Brand",id:"preferred_brand"},{name:"Actual Brand",id:"actual_brand"},{name:"Unit Price",id:"unit_price"},{name:"Remarks During Canvass",id:"remarks"}];return Z({title:"Canvass Summary"}),(d,f)=>{const m=U,R=Ge,C=Q,$=it,T=W,S=X;return s(),h(S,{"if-access":("useCheckAccessibility"in d?d.useCheckAccessibility:c(z))([("AccessibilityTypes"in d?d.AccessibilityTypes:c(K)).INVENTORY_PROCUREMENT_CANVASSSUMMARY_GROUP])},{default:w(()=>[y(C,{title:"Canvass Summary",class:"w-full",loading:c(r).isLoading},{"header-options":w(()=>[y(m,{"prev-page":"/inventory/procurement/canvass-summary"})]),default:w(()=>[c(p)?(s(),h(T,{key:0},{"system-layout":w(()=>[y(C,null,{default:w(()=>[c(r).details?(s(),h(R,{key:0,title:"Canvass Summary",data:c(r).details},null,8,["data"])):k("",!0)]),_:1})]),"print-layout":w(()=>[c(r).details?(s(),h($,{key:0,title:"Canvass Summary",data:c(r).details,"header-columns":l},null,8,["data"])):k("",!0)]),_:1})):(s(),o("div",lt,ct))]),_:1},8,["loading"])]),_:1},8,["if-access"])}}};export{Ot as default};
