import{_ as Z,a as ee,b as te}from"./MainContainer.B9hIGMIe.js";import{_ as oe}from"./MultipleEmployeeSelector.vue.BNwk6RIC.js";import{_ as ae}from"./DepartmentProjectSelector.CDYdLlti.js";import{_ as se}from"./DepartmentSelector.vue.Cl6IMdR7.js";import{_ as ne}from"./PsTextInput.vue.DFQbUHfC.js";import{_ as le}from"./RequestedBy.vue.D8Wv9jDa.js";import{_ as re}from"./ApprovalsList.GUTJciN1.js";import{_ as $}from"./LayoutBoards.vue.1keADq5t.js";import{_ as Q,s as M,K as P,B as ie,r as A,C as z,o as f,h as v,w as y,a,g as de,b as s,u as e,x as D,A as H,c as W,F as me,i as ue,G as pe,t as J,y as ce,p as _e,e as fe,L as I,v as O,j as R,f as ye}from"./entry.R6V7NTxy.js";import{q as be}from"./Utilities.Cbr1Z9cn.js";import{u as S,_ as B}from"./InfoModal.BBxhZEAc.js";import{u as ve,j as K}from"./approvals.Db95ZdMZ.js";import{_ as F}from"./SearchEmployeeSelector.vue.CmWr4DqB.js";import{_ as j}from"./PsDateInput.vue.DLxIFRYj.js";import{_ as E}from"./PsTable.CTJad9K5.js";import{_ as N}from"./CustomPagination.CR9ildFS.js";import{u as G}from"./index.Cobg6QK2.js";import{u as ge}from"./id.Dwf9xs1O.js";import{u as q,A as L}from"./Accessibilities.uaboihcy.js";import{_ as he}from"./AcessContainer.DJcSsti6.js";import{u as Te}from"./vue.f36acd1f.Dv_A-myg.js";import"./ProjectSelector.vue.DM9e2bZy.js";import"./PsSelectSearch.vue.CrY1IpH8.js";import"./Icon.DcF_NU9d.js";import"./index.T-zbMaZc.js";import"./enum.D7iLG1Bk.js";import"./CustomFetch.BRBLzGci.js";import"./UserEmployeeSelector.vue.DiXko0wz.js";import"./loader.C2wIXBoB.js";import"./RequestDetails.DS8j2dvd.js";import"./ListView.DgUPeMcI.js";import"./LayoutPrint.Dr_MMYe1.js";import"./ApprovalDenyButton.B1ShEyLo.js";import"./PsHoverButton.Dp5LwncM.js";import"./PsModal.DW9SixU3.js";import"./employeeSearch.CBgiOO3V.js";import"./nuxt-link.drPfi767.js";import"./client-only.QuN6N-R_.js";import"./users.D5_vMoUK.js";const C=g=>(_e("data-v-e3ddec7e"),g=g(),fe(),g),we={class:"text-gray-500"},xe=["onSubmit"],ke={class:"grid grid-cols-1 md:grid-cols-2 gap-2 p-2"},Ve={class:"flex-1 pt-8"},Ae={class:"flex flex-col gap-2"},Ce={class:"flex-1 flex-col gap-4 p-2"},qe=C(()=>a("label",{for:"requestingOffice",class:"text-sm italic font-semibold text-gray-700"},"Requesting Office",-1)),Le=C(()=>a("label",{for:"DOT",class:"text-sm italic font-semibold text-gray-700"},"Date of Travel",-1)),De=C(()=>a("label",{for:"TOT",class:"text-sm italic font-semibold text-gray-700"},"Time of Travel",-1)),Re=C(()=>a("label",{for:"requstedBy",class:"text-sm italic font-semibold text-gray-700"},"Duration of Travel (days)",-1)),$e=C(()=>a("label",{for:"endoftravel",class:"text-sm italic font-semibold text-gray-700"},"End of Travel",-1)),Me=["value"],Pe={class:""},Se={class:"w-full rounded-lg p-4 bg-slate-100"},Ue=C(()=>a("label",{for:"approved_by",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Approvals:",-1)),He=C(()=>a("div",{class:"flex justify-end"},[a("button",{type:"submit",class:"flex-1 text-white p-2 rounded-lg bg-teal-600 content-center mt-5"}," Submit Form ")],-1)),Ie={__name:"RequestForm",setup(g){const r=ve(),t=S(),{createRequestData:o,errorMessage:u,successMessage:p}=M(t);P(async()=>{o.value.body.approvals=await r.getApprovalByName(K)});const c=ie(),_=A(!1),h=async()=>{try{await t.createRequest(),c.add({type:"success",text:t.successMessage})}catch{c.add({type:"error",text:t.errorMessage})}finally{o.value.body.approvals=await r.getApprovalByName(K),_.value=!1}},T=z(()=>`${o.value.body.date_of_travel}T${o.value.body.time_of_travel}:00`),i=z(()=>{if(!o.value.body.date_of_travel||!o.value.body.time_of_travel||!o.value.body.duration_of_travel)return"";const n=new Date(T.value);return n.setHours(n.getHours()+o.value.body.duration_of_travel*24),be(n)});return(n,l)=>{const w=oe,x=ae,k=se,b=ne,V=le,m=re,X=$;return f(),v(X,{title:"Travel Order Form",class:"w-full",loading:e(o).isLoading},{default:y(()=>[a("div",we,[a("form",{onSubmit:de(h,["prevent"])},[a("div",ke,[a("div",Ve,[a("div",Ae,[s(w,{modelValue:e(o).body.employee_ids,"onUpdate:modelValue":l[0]||(l[0]=d=>e(o).body.employee_ids=d)},null,8,["modelValue"]),s(x,{"select-type":e(o).body.charge_type,"onUpdate:selectType":l[1]||(l[1]=d=>e(o).body.charge_type=d),"department-id":e(o).body.department_id,"onUpdate:departmentId":l[2]||(l[2]=d=>e(o).body.department_id=d),"project-id":e(o).body.project_id,"onUpdate:projectId":l[3]||(l[3]=d=>e(o).body.project_id=d),title:"Charging"},null,8,["select-type","department-id","project-id"])])]),a("div",Ce,[a("div",null,[qe,s(k,{id:"department",modelValue:e(o).body.requesting_office,"onUpdate:modelValue":l[4]||(l[4]=d=>e(o).body.requesting_office=d)},null,8,["modelValue"])]),a("div",null,[s(b,{modelValue:e(o).body.destination,"onUpdate:modelValue":l[5]||(l[5]=d=>e(o).body.destination=d),title:"Destination"},null,8,["modelValue"])]),a("div",null,[s(b,{modelValue:e(o).body.purpose_of_travel,"onUpdate:modelValue":l[6]||(l[6]=d=>e(o).body.purpose_of_travel=d),title:"Purpose of Travel"},null,8,["modelValue"])]),a("div",null,[Le,D(a("input",{"onUpdate:modelValue":l[7]||(l[7]=d=>e(o).body.date_of_travel=d),type:"date",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"},null,512),[[H,e(o).body.date_of_travel]])]),a("div",null,[De,D(a("input",{"onUpdate:modelValue":l[8]||(l[8]=d=>e(o).body.time_of_travel=d),type:"time",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"},null,512),[[H,e(o).body.time_of_travel]])]),a("div",null,[Re,D(a("input",{"onUpdate:modelValue":l[9]||(l[9]=d=>e(o).body.duration_of_travel=d),type:"number",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",step:"0.1",min:"0"},null,512),[[H,e(o).body.duration_of_travel]])]),a("div",null,[$e,a("input",{id:"endoftravel",value:e(i),type:"text",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",step:"0.1",min:"0",disabled:""},null,8,Me)]),a("div",null,[s(b,{modelValue:e(o).body.means_of_transportation,"onUpdate:modelValue":l[10]||(l[10]=d=>e(o).body.means_of_transportation=d),title:"Means of Transportation"},null,8,["modelValue"])]),a("div",null,[s(b,{modelValue:e(o).body.remarks,"onUpdate:modelValue":l[11]||(l[11]=d=>e(o).body.remarks=d),title:"Remarks"},null,8,["modelValue"])]),a("div",Pe,[s(V,{title:"Prepared by"})])])]),a("div",Se,[Ue,(f(!0),W(me,null,ue(e(o).body.approvals,(d,U)=>(f(),v(m,{key:"hrmsetupapprovallist"+U,modelValue:e(o).body.approvals[U],"onUpdate:modelValue":Y=>e(o).body.approvals[U]=Y},null,8,["modelValue","onUpdate:modelValue"]))),128))]),He],40,xe),a("p",{hidden:"",class:pe(["text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!e(u)}])},J(e(u)),3),D(a("p",{hidden:"",class:"text-green-600 text-center font-semibold italic transition-opacity delay-1000"},J(e(p)),513),[[ce,e(p)]])])]),_:1},8,["loading"])}}},Oe=Q(Ie,[["__scopeId","data-v-e3ddec7e"]]),Be={class:"w-full flex gap-2"},Fe={class:"pb-2 text-gray-500 p-2"},je={class:"flex justify-center mx-auto"},Ee={__name:"TravelOrderList",setup(g){const r=S(),{allList:t}=M(r),o=G(()=>{r.getTravelorders()},500);P(()=>{t.value.isLoaded||o()});const u=[{name:"Requesting Office",id:"department.department_name"},{name:"Destination",id:"destination"},{name:"Purpose",id:"purpose_of_travel"},{name:"Duration",id:"duration_of_travel"},{name:"Remarks",id:"remarks"},{name:"Request Status",id:"request_status"},{name:"Requested By",id:"created_by_user"}],p={showTable:!0,edit:!1,delete:!1},c=A({}),_=A(!1),h=i=>{c.value=i,_.value=!0},T=i=>{t.value.params.page=i.page??""};return I(()=>({...t.value.params}),(i,n)=>{i.page===n.page&&(t.value.params.page=1),o()},{deep:!0}),(i,n)=>{const l=F,w=j,x=E,k=N,b=B,V=$;return f(),v(V,{class:"w-full",loading:e(t).isLoading},{default:y(()=>[a("div",Be,[s(l,{modelValue:e(t).params.employee_id,"onUpdate:modelValue":n[0]||(n[0]=m=>e(t).params.employee_id=m),class:"w-full"},null,8,["modelValue"]),s(w,{modelValue:e(t).params.date_filter,"onUpdate:modelValue":n[1]||(n[1]=m=>e(t).params.date_filter=m),class:"w-full",title:"Date Filter"},null,8,["modelValue"])]),a("div",Fe,[s(x,{"header-columns":u,actions:p,datas:e(t).list??[],onShowTable:h},null,8,["datas"])]),a("div",je,[s(k,{links:e(t).pagination,onChangeParams:T},null,8,["links"])]),s(b,{"show-modal":e(_),"onUpdate:showModal":n[2]||(n[2]=m=>O(_)?_.value=m:null),data:e(c)},null,8,["show-modal","data"])]),_:1},8,["loading"])}}},Ne={class:"w-full flex gap-2"},Ge={class:"pb-2 text-gray-500 p-2"},ze={class:"flex justify-center mx-auto"},Je={__name:"MyRequests",setup(g){const r=S(),{myRequestList:t}=M(r),o=G(()=>{r.getMyRequests()},500);P(()=>{t.value.isLoaded||o()});const u=A({}),p=A(!1),c=i=>{u.value=i,p.value=!0},_=[{name:"Requesting Office",id:"department.department_name"},{name:"Destination",id:"destination"},{name:"Purpose",id:"purpose_of_travel"},{name:"Duration",id:"duration_of_travel"},{name:"Remarks",id:"remarks"},{name:"Request Status",id:"request_status"},{name:"Requested By",id:"created_by_user"}],h={showTable:!0},T=i=>{t.value.params.page=i.page??""};return I(()=>({...t.value.params}),(i,n)=>{i.page===n.page&&(t.value.params.page=1),o()},{deep:!0}),(i,n)=>{const l=F,w=j,x=E,k=N,b=B,V=$;return f(),v(V,{class:"w-full",loading:e(t).isLoading},{default:y(()=>[a("div",Ne,[s(l,{modelValue:e(t).params.employee_id,"onUpdate:modelValue":n[0]||(n[0]=m=>e(t).params.employee_id=m),class:"w-full"},null,8,["modelValue"]),s(w,{modelValue:e(t).params.date_filter,"onUpdate:modelValue":n[1]||(n[1]=m=>e(t).params.date_filter=m),class:"w-full",title:"Date Filter"},null,8,["modelValue"])]),a("div",Ge,[s(x,{"header-columns":_,actions:h,datas:e(t).list??[],onShowTable:c},null,8,["datas"])]),a("div",ze,[s(k,{links:e(t).pagination,onChangeParams:T},null,8,["links"])]),s(b,{"show-modal":e(p),"onUpdate:showModal":n[2]||(n[2]=m=>O(p)?p.value=m:null),data:e(u)},null,8,["show-modal","data"])]),_:1},8,["loading"])}}},Ke={class:"w-full flex gap-2"},Qe={class:"pb-2 text-gray-500 p-2"},We={class:"flex justify-center mx-auto"},Xe={__name:"MyApprovals",setup(g){const r=S(),{approvalList:t}=M(r),o=G(()=>{r.getMyApprovalRequests()},500);P(()=>{t.value.isLoaded||o()});const u=A({}),p=A(!1),c=i=>{u.value=i,p.value=!0},_=[{name:"Requested by",id:"requested_by.name"},{name:"Requesting Office",id:"department.department_name"},{name:"Destination",id:"destination"},{name:"Purpose",id:"purpose_of_travel"},{name:"Duration",id:"duration_of_travel"},{name:"Remarks",id:"remarks"},{name:"Request Status",id:"request_status"},{name:"Requested By",id:"created_by_user"}],h={showTable:!0},T=i=>{t.value.params.page=i.page??""};return I(()=>({...t.value.params}),(i,n)=>{i.page===n.page&&(t.value.params.page=1),o()},{deep:!0}),(i,n)=>{const l=F,w=j,x=E,k=N,b=B,V=$;return f(),v(V,{class:"w-full",loading:e(t).isLoading},{default:y(()=>[a("div",Ke,[s(l,{modelValue:e(t).params.employee_id,"onUpdate:modelValue":n[0]||(n[0]=m=>e(t).params.employee_id=m),class:"w-full"},null,8,["modelValue"]),s(w,{modelValue:e(t).params.date_filter,"onUpdate:modelValue":n[1]||(n[1]=m=>e(t).params.date_filter=m),class:"w-full",title:"Date Filter"},null,8,["modelValue"])]),a("div",Qe,[s(x,{"header-columns":_,actions:h,datas:e(t).list??[],onShowTable:c},null,8,["datas"])]),a("div",We,[s(k,{links:e(t).pagination,onChangeParams:T},null,8,["links"])]),s(b,{"show-modal":e(p),"onUpdate:showModal":n[2]||(n[2]=m=>O(p)?p.value=m:null),data:e(u)},null,8,["show-modal","data"])]),_:1},8,["loading"])}}},Ye={class:"w-full"},Ze={__name:"TabList",setup(g){const r=ge("$WdJxOU8vBQ");return(t,o)=>{const u=Z,p=Oe,c=ee,_=Ee,h=Je,T=Xe,i=te;return f(),W("div",Ye,[s(i,null,{"tab-titles":y(()=>[("useCheckAccessibility"in t?t.useCheckAccessibility:e(q))([("AccessibilityTypes"in t?t.AccessibilityTypes:e(L)).hrms_lnotnto_travel_order_form])?(f(),v(u,{key:0,"target-id":"to-tab1"+e(r),title:"Request Form"},null,8,["target-id"])):R("",!0),("useCheckAccessibility"in t?t.useCheckAccessibility:e(q))([("AccessibilityTypes"in t?t.AccessibilityTypes:e(L)).hrms_lnotnto_travel_order_list])?(f(),v(u,{key:1,"target-id":"all-list"+e(r),title:"All List"},null,8,["target-id"])):R("",!0),("useCheckAccessibility"in t?t.useCheckAccessibility:e(q))([("AccessibilityTypes"in t?t.AccessibilityTypes:e(L)).hrms_lnotnto_travel_order_my_request])?(f(),v(u,{key:2,"target-id":"my-requests"+e(r),title:"My Requests"},null,8,["target-id"])):R("",!0),("useCheckAccessibility"in t?t.useCheckAccessibility:e(q))([("AccessibilityTypes"in t?t.AccessibilityTypes:e(L)).hrms_lnotnto_travel_order_my_approvals])?(f(),v(u,{key:3,"target-id":"my-approvals"+e(r),title:"My Approvals"},null,8,["target-id"])):R("",!0)]),"tab-containers":y(()=>[s(c,{id:"to-tab1"+e(r)},{default:y(()=>[s(p)]),_:1},8,["id"]),s(c,{id:"all-list"+e(r)},{default:y(()=>[s(_)]),_:1},8,["id"]),s(c,{id:"my-requests"+e(r)},{default:y(()=>[s(h)]),_:1},8,["id"]),s(c,{id:"my-approvals"+e(r)},{default:y(()=>[s(T)]),_:1},8,["id"])]),_:1})])}}},et=Q(Ze,[["__scopeId","data-v-3f670e04"]]),Bt=ye({__name:"travelorder",setup(g){return Te({title:"Travel Order"}),(r,t)=>{const o=et,u=he;return f(),v(u,{"if-access":("useCheckAccessibility"in r?r.useCheckAccessibility:e(q))([("AccessibilityTypes"in r?r.AccessibilityTypes:e(L)).hrms_lnotnto_travel_order_group])},{default:y(()=>[s(o)]),_:1},8,["if-access"])}}});export{Bt as default};
