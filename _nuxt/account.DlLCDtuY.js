import{u as e}from"./CustomFetch.ggXvTdIz.js";import{l as c}from"./entry.32UGFqj-.js";const r=c("useAccountStore",{state:()=>({account:{id:null,account_number:null,account_name:null,account_type_id:null,account_description:null,report_group_id:null,bank_reconciliation:"yes",is_active:1,statement:null},list:[],chart:[],pagination:{},getParams:{},errorMessage:"",successMessage:"",isLoading:{list:!1,chart:!1,show:!1,edit:!1,delete:!1},isEdit:!1}),actions:{async getAccounts(){this.isLoading.list=!0;const{data:s,error:a}=await e("/api/accounts",{method:"GET",params:this.getParams,onResponse:({response:t})=>{this.isLoading.list=!1,this.list=t._data.data.data,this.pagination={first_page:t._data.data.links.first,pages:t._data.data.meta.links,last_page:t._data.data.links.last}}});if(s)return s;if(a)return a},async getChart(){this.isLoading.chart=!0;const{data:s,error:a}=await e("/api/chart-of-accounts",{method:"GET",params:this.getParams,watch:!1,onResponse:({response:t})=>{this.isLoading.chart=!1,this.chart=t._data.data}});if(s)return s;if(a)return a},async createAccount(){this.successMessage="",this.errorMessage="",await e("/api/accounts",{method:"POST",body:this.account,watch:!1,onResponse:({response:s})=>{s.ok?(this.getAccounts(),this.reset(),this.successMessage=s._data.message):this.errorMessage=s._data.message}})},async editAccount(){this.successMessage="",this.errorMessage="";const{data:s,error:a}=await e("/api/accounts/"+this.account.id,{method:"PUT",body:this.account,watch:!1});if(s.value)return this.getAccounts(),this.successMessage=s.value.message,s;if(a.value)return this.errorMessage=a.value.data.message,a},async deleteAccount(s){this.successMessage="",this.errorMessage="";const{data:a,error:t}=await e("/api/accounts/"+s,{method:"DELETE",body:this.account,watch:!1});if(a.value)return this.getAccounts(),this.successMessage=a.value.message,a;if(t.value)return this.errorMessage=t.value.data.message,t},clearMessages(){this.errorMessage="",this.successMessage=""},reset(){this.account={id:null,account_number:null,account_name:null,account_type_id:null,account_description:null,bank_reconciliation:"yes",is_active:1,statement:null},this.successMessage="",this.errorMessage=""}}});export{r as u};
