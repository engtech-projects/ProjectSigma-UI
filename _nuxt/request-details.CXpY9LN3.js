import{_ as $}from"./ListView.DgUPeMcI.js";import{_ as D}from"./LayoutPrint.Dr_MMYe1.js";import{_ as M}from"./ApprovalDenyButton.B1ShEyLo.js";import{f as R,B as F,s as C,o,c as n,a as e,t as c,j as _,b as v,w as q,F as x,i as w,u,v as T,E as k,aF as U,r as I,m as L,h as A}from"./entry.R6V7NTxy.js";import{a as N,u as O,A as j}from"./Accessibilities.uaboihcy.js";import{u as B}from"./bom.FCOEtAH4.js";import{_ as S}from"./AcessContainer.DJcSsti6.js";import"./Icon.DcF_NU9d.js";import"./index.T-zbMaZc.js";import"./id.Dwf9xs1O.js";import"./client-only.QuN6N-R_.js";import"./users.D5_vMoUK.js";import"./CustomFetch.BRBLzGci.js";const E={class:"h-full w-full bg-white border border-gray-200 rounded-lg shadow-md sm:p-6 md:p-2 dark:bg-gray-800 dark:border-gray-700"},P={class:"flex flex-col gap-2 w-full p-4"},H={id:"headline mb-4"},K={class:"basis-[10%] grow-1 shrink-0 flex items-center justify-between border-b rounded-t mb-4"},Q={key:0,class:"pl-4 text-xl font-semibold text-gray-900 p-4"},Y={key:0,class:"pl-4 text-md text-gray-900"},z={key:0,class:"pl-4 text-md text-gray-900"},G={id:"itemDetails"},J={id:"content",class:"overflow-auto"},W={class:"table-auto w-full border-collapse"},X={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-center"},Z={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-center"},V={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-center"},ee={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-center"},te={class:"px-2 font-medium text-gray-900 whitespace-nowrap text-center"},se={id:"approvals",class:"w-full"},re={id:"footer"},oe={key:0,class:"flex gap-2 p-2 justify-end relative"},ae=R({__name:"BomDetails",props:{title:{type:String,required:!0},headerColumns:{type:Array,required:!0},data:{type:Array,required:!0}},setup(s){const t=B(),i=F(),{remarks:l}=C(t),p=async a=>{try{await t.approveApprovalForm(a),t.errorMessage!==""?i.add({type:"error",text:t.errorMessage}):(i.add({type:"success",text:t.successMessage}),t.$reset(),k({path:"/inventory/bom"}))}catch(d){i.add({type:"error",text:d||"something went wrong."})}},h=async a=>{try{await t.denyApprovalForm(a),t.errorMessage!==""?i.add({type:"error",text:t.errorMessage}):(i.add({type:"success",text:t.successMessage}),t.$reset(),k({path:"/inventory/bom"}))}catch(d){i.add({type:"error",text:d||"something went wrong."})}};return(a,d)=>{var y;const m=$,b=D,f=M;return o(),n("div",E,[e("div",P,[e("div",H,[e("div",K,[s.title?(o(),n("h3",Q,c(s.title),1)):_("",!0)]),e("div",null,[s.title?(o(),n("p",Y," Assignment : "+c(s.data.department),1)):_("",!0)]),e("div",null,[s.title?(o(),n("p",z," Year : "+c(s.data.effectivity),1)):_("",!0)])]),v(b,null,{default:q(()=>[e("div",G,[e("div",J,[e("table",W,[e("thead",null,[e("tr",null,[(o(!0),n(x,null,w(s.headerColumns,(r,g)=>(o(),n("th",{key:g,scope:"col",class:"p-2 border-0 border-b text-sm"},c(r.name),1))),128))])]),e("tbody",null,[(o(!0),n(x,null,w(s.data.item_summary,(r,g)=>(o(),n("tr",{key:g,class:"bg-white border-b"},[e("td",X,c(r.item_summary),1),e("td",Z,c(r.unit?r.unit:""),1),e("td",V,c(r.price?r.price:0),1),e("td",ee,c(r.quantity?r.quantity:0),1),e("td",te,c(r.amount?r.amount:0),1)]))),128))])])]),e("div",se,[v(m,{approvals:s.data.approvals},null,8,["approvals"])])])]),_:1}),e("div",re,[s.data.next_approval&&("useCheckIsCurrentUser"in a?a.useCheckIsCurrentUser:u(N))((y=s.data.next_approval)==null?void 0:y.user_id)?(o(),n("div",oe,[v(f,{"deny-remarks":u(l),"onUpdate:denyRemarks":d[0]||(d[0]=r=>T(l)?l.value=r:null),"request-id":s.data.id,onApprove:p,onDeny:h},null,8,["deny-remarks","request-id"])])):_("",!0)])])])}}}),ne={key:1,class:"grid grid-cols-1 gap-4"},ie=e("h2",null," 404 NOT FOUND",-1),ce=[ie],we={__name:"request-details",async setup(s){let t,i;const l=U(),p=B(),{bomRequest:h}=C(p),a=I(!1);l.query.key?(a.value=!0,[t,i]=L(()=>p.getOne(l.query.key)),await t,i()):a.value=!1;const d=[{name:"Item",id:"item_summary"},{name:"Unit",id:"uom_id"},{name:"Price",id:"unit_price"},{name:"Quantity",id:"quantity"},{name:"Amount",id:"amount"}];return(m,b)=>{const f=ae,y=S;return o(),A(y,{"if-access":("useCheckAccessibility"in m?m.useCheckAccessibility:u(O))([("AccessibilityTypes"in m?m.AccessibilityTypes:u(j)).inventory_bom_group])},{default:q(()=>[u(a)?(o(),A(f,{key:0,title:"BOM Details",data:u(h).bomDetails.list,"header-columns":d},null,8,["data"])):(o(),n("div",ne,ce))]),_:1},8,["if-access"])}}};export{we as default};
