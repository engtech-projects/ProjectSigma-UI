import{_ as k}from"./LayoutBoards.vue.1keADq5t.js";import{ab as j,l as B,O as z,_ as D,s as E,B as P,r as V,o as R,h as A,w as $,a as e,g as q,x as i,u as s,A as p,G as I,t as x,y as S,p as G,e as O,aE as K,b as w}from"./entry.R6V7NTxy.js";import{h as v}from"./CustomFetch.BRBLzGci.js";import{_ as N}from"./editBoards.vue.DJ7sTR7u.js";import{_ as J}from"./PsTable.CTJad9K5.js";import{_ as Q}from"./CustomPagination.CR9ildFS.js";import{_ as X}from"./AcessContainer.DJcSsti6.js";import{u as Y}from"./vue.f36acd1f.Dv_A-myg.js";import{u as Z,A as ee}from"./Accessibilities.uaboihcy.js";import"./loader.C2wIXBoB.js";import"./Icon.DcF_NU9d.js";import"./index.T-zbMaZc.js";import"./nuxt-link.drPfi767.js";import"./Utilities.Cbr1Z9cn.js";import"./users.D5_vMoUK.js";const{token:C}=j(),M=z(),U=B("sssContrib",{state:()=>({isEdit:!1,contribution:{id:null,range_from:null,range_to:null,employee_share:null,employer_share:null,employee_compensation:null,employer_compensation:null,employee_wisp:null,employer_wisp:null},list:[],pagination:{},getParams:{},errorMessage:"",successMessage:""}),actions:{async getContribution(){const{data:l,error:n}=await v("/api/sss",{baseURL:M.public.HRMS_API_URL,method:"GET",headers:{Authorization:C.value+"",Accept:"application/json"},params:this.getParams,onResponse:({response:t})=>{this.list=t._data.data.data,this.pagination={first_page:t._data.links.first,pages:t._data.meta.links,last_page:t._data.links.last}}},"$XGqlgSwYIb");if(l)return l;if(n)return n},async addContribution(){this.successMessage="",this.errorMessage="",await v("/api/sss",{baseURL:M.public.HRMS_API_URL,method:"POST",headers:{Authorization:C.value+"",Accept:"application/json"},body:this.contribution,watch:!1,onResponse:({response:l})=>{l.ok?(this.getContribution(),this.reset(),this.successMessage=l._data.message):this.errorMessage=l._data.message}},"$rAuHQRhoKy")},clearMessages(){this.errorMessage="",this.successMessage=""},async editContribution(){this.successMessage="",this.errorMessage="";const{data:l,error:n}=await v("/api/sss/"+this.contribution.id,{baseURL:M.public.HRMS_API_URL,method:"PATCH",headers:{Authorization:C.value+"",Accept:"application/json"},body:this.contribution,watch:!1,onResponse:({response:t})=>{this.successMessage=t._data.message}},"$cE5syKGwFO");if(l.value)return this.getContribution(),this.reset(),this.successMessage=l.value.message,l;if(n.value)return this.errorMessage=n.value.data.message,n},async deleteContribution(l){const{data:n,error:t}=await v("/api/sss/"+l,{baseURL:M.public.HRMS_API_URL,method:"DELETE",headers:{Authorization:C.value+"",Accept:"application/json"},watch:!1,onResponse:({response:d})=>{this.successMessage=d._data.message}},"$Cud9ylJxVO");if(n.value)return this.getContribution(),this.reset(),this.successMessage=n.value.message,n;if(t.value)return this.errorMessage=t.value.data.message,t},reset(){this.contribution={id:null,range_from:null,range_to:null,employee_share:null,employee_compensation:null,employer_share:null,employer_compensation:null},this.isEdit=!1,this.successMessage="",this.errorMessage=""}}}),_=l=>(G("data-v-cac95bed"),l=l(),O(),l),se={class:"text-gray-500"},te=["onSubmit"],oe=_(()=>e("label",{class:"text-sm"},"Add SSS Contribution Range",-1)),ne={class:"grid grid-cols-2 gap-2"},ae=_(()=>e("label",{for:"rangeFrom",class:"text-sm italic"},"Range From",-1)),ie=_(()=>e("label",{for:"rangeTo",class:"text-sm italic"},"Range To",-1)),le={class:"grid grid-cols-2 gap-2"},re=_(()=>e("label",{for:"employerShare",class:"text-sm italic"},"Employer Share",-1)),pe=_(()=>e("label",{for:"employerCompensation",class:"text-sm italic"},"Employer Compensation",-1)),de=_(()=>e("label",{for:"employerWisp",class:"text-sm italic"},"Employer WISP",-1)),ue=_(()=>e("label",{for:"employeeShare",class:"text-sm italic"},"Employee Share",-1)),me=_(()=>e("label",{for:"employeeCompensation",class:"text-sm italic"},"Employee Compensation",-1)),ce=_(()=>e("label",{for:"employeeWistp",class:"text-sm italic"},"Employee WISP",-1)),_e=_(()=>e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-teal-600 content-center mt-5"}," Add Contribution ")],-1)),ye={__name:"AddContribution",setup(l){const n=U(),{contribution:t,errorMessage:d,successMessage:g}=E(n),m=P(),u=V(!1),b=async()=>{try{u.value=!0,await n.addContribution(),n.errorMessage!==""?m.add({type:"error",text:n.errorMessage}):m.add({type:"success",text:n.successMessage})}catch{m.add({type:"error",text:n.errorMessage})}finally{n.clearMessages(),u.value=!1}};return(f,a)=>{const y=k;return R(),A(y,{title:"SSS",loading:s(u)},{default:$(()=>[e("div",se,[e("form",{onSubmit:q(b,["prevent"])},[oe,e("div",ne,[e("div",null,[ae,i(e("input",{id:"rangeFrom","onUpdate:modelValue":a[0]||(a[0]=o=>s(t).range_from=o),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).range_from]])]),e("div",null,[ie,i(e("input",{id:"rangeFrom","onUpdate:modelValue":a[1]||(a[1]=o=>s(t).range_to=o),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).range_to]])])]),e("div",le,[e("div",null,[re,i(e("input",{id:"employerShare","onUpdate:modelValue":a[2]||(a[2]=o=>s(t).employer_share=o),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).employer_share]]),pe,i(e("input",{id:"employerCompensation","onUpdate:modelValue":a[3]||(a[3]=o=>s(t).employer_compensation=o),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).employer_compensation]]),de,i(e("input",{id:"employerWisp","onUpdate:modelValue":a[4]||(a[4]=o=>s(t).employer_wisp=o),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).employer_wisp]])]),e("div",null,[ue,i(e("input",{id:"employeeShare","onUpdate:modelValue":a[5]||(a[5]=o=>s(t).employee_share=o),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).employee_share]]),me,i(e("input",{id:"employeeCompensation","onUpdate:modelValue":a[6]||(a[6]=o=>s(t).employee_compensation=o),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).employee_compensation]]),ce,i(e("input",{id:"employeeWistp","onUpdate:modelValue":a[7]||(a[7]=o=>s(t).employee_wisp=o),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).employee_wisp]])])]),_e],40,te),e("p",{hidden:"",class:I(["text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!s(d)}])},x(s(d)),3),i(e("p",{hidden:"",class:"text-green-600 text-center font-semibold italic transition-opacity delay-1000"},x(s(g)),513),[[S,s(g)]])])]),_:1},8,["loading"])}}},ge=D(ye,[["__scopeId","data-v-cac95bed"]]),be={class:"text-gray-500 mt-2"},fe=["onSubmit"],he=e("div",{class:"space-y-2"},[e("label",{class:"text-md italic"},"Edit Contribution Range")],-1),xe={class:"grid grid-cols-2 gap-2"},we=e("label",{for:"rangeFrom",class:"text-sm italic"},"Range From",-1),Se=e("label",{for:"rangeTo",class:"text-sm italic"},"Range To",-1),ve={class:"grid grid-cols-2 gap-2"},Ce=e("label",{for:"employerShare",class:"text-sm italic"},"Employer Share",-1),Me=e("label",{for:"employerContrib",class:"text-sm italic"},"Employer Compensation",-1),Ee=e("label",{for:"employerWisp",class:"text-sm italic"},"Employer WISP",-1),Re=e("label",{for:"employeeShare",class:"text-sm italic"},"Employee Share",-1),Ae=e("label",{for:"employeeContrib",class:"text-sm italic"},"Employee Compensation",-1),$e=e("label",{for:"employeeWisp",class:"text-sm italic"},"Employee WISP",-1),Ue=e("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-teal-600 content-center mt-5"}," Save ",-1),Le={hidden:"",class:"text-red-600 text-center font-semibold"},Pe={__name:"editContribution",setup(l){const n=U(),{contribution:t,errorMessage:d,successMessage:g}=E(n),m=P(),u=V(!1),b=()=>{n.reset()},f=async()=>{try{u.value=!0,await n.editContribution(),m.add({type:"success",text:n.successMessage})}catch{m.add({type:"error",text:n.errorMessage||"something went wrong."})}finally{n.clearMessages(),u.value=!1}},a=(y,o)=>{y[o]=Math.abs(y[o])};return(y,o)=>{const L=N,c=K("oninput");return R(),A(L,{title:"Edit Contribution",loading:s(u)},{default:$(()=>[e("div",be,[e("form",{onSubmit:q(f,["prevent"])},[he,e("div",xe,[e("div",null,[we,i(e("input",{id:"rangeFrom","onUpdate:modelValue":o[0]||(o[0]=r=>s(t).range_from=r),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).range_from],[c,a(s(t),"range_from")]])]),e("div",null,[Se,i(e("input",{id:"rangeFrom","onUpdate:modelValue":o[1]||(o[1]=r=>s(t).range_to=r),type:"number",step:".01",min:"0",class:"w-full rounded-lg"},null,512),[[p,s(t).range_to],[c,a(s(t),"range_to")]])])]),e("div",ve,[e("div",null,[Ce,i(e("input",{id:"employerShare","onUpdate:modelValue":o[2]||(o[2]=r=>s(t).employer_share=r),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).employer_share],[c,a(s(t),"employer_share")]]),Me,i(e("input",{id:"employerContrib","onUpdate:modelValue":o[3]||(o[3]=r=>s(t).employer_compensation=r),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).employer_compensation],[c,a(s(t),"employer_compensation")]]),Ee,i(e("input",{id:"employerWisp","onUpdate:modelValue":o[4]||(o[4]=r=>s(t).employer_wisp=r),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).employer_wisp],[c,a(s(t),"employer_wisp")]])]),e("div",null,[Re,i(e("input",{id:"employeeShare","onUpdate:modelValue":o[5]||(o[5]=r=>s(t).employee_share=r),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).employee_share],[c,a(s(t),"employee_share")]]),Ae,i(e("input",{id:"employeeContrib","onUpdate:modelValue":o[6]||(o[6]=r=>s(t).employee_compensation=r),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).employee_compensation],[c,a(s(t),"employee_compensation")]]),$e,i(e("input",{id:"employeeWisp","onUpdate:modelValue":o[7]||(o[7]=r=>s(t).employee_wisp=r),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[p,s(t).employee_wisp],[c,a(s(t),"employee_wisp")]])])]),e("div",{class:"flex justify-end gap-4"},[Ue,e("button",{type:"button",class:"flex-1 text-white p-2 rounded bg-gray-700 content-center mt-5 hover:bg-gray-500",onClick:b}," Cancel ")])],40,fe),e("p",Le,x(s(d)),1),i(e("p",{hidden:"",class:"text-green-600 text-center font-semibold"},x(s(g)),513),[[S,s(g)]])])]),_:1},8,["loading"])}}},Ve={class:"pb-2 text-gray-500 p-2"},ke={class:"flex justify-center mx-auto"},qe={__name:"ContributionList",setup(l){const n=U(),{list:t,isEdit:d,contribution:g,getParams:m,pagination:u,errorMessage:b,successMessage:f}=E(n),a=P(),y=V(!1),o=h=>{d.value=!0,g.value=h},L=async h=>{try{y.value=!0,await n.deleteContribution(h.id),a.add({type:"success",text:n.successMessage})}finally{y.value=!1}},c=h=>{m.value.page=h.page??""},r=[{name:"Range From",id:"range_from"},{name:"Range To",id:"range_to"},{name:"Employer Share",id:"employer_share"},{name:"Employer Compensation",id:"employer_compensation"},{name:"Employer WISP",id:"employer_wisp"},{name:"Employee Share",id:"employee_share"},{name:"Employee Compensation",id:"employee_compensation"},{name:"Employee WISP",id:"employee_wisp"}],T={edit:!0,delete:!0};return(h,Te)=>{const W=J,F=Q,H=k;return R(),A(H,{title:"Contribution Table",class:"w-full",loading:s(y)},{default:$(()=>[e("div",Ve,[w(W,{"header-columns":r,datas:s(t),actions:T,onEditRow:o,onDeleteRow:L},null,8,["datas"])]),e("div",ke,[w(F,{links:s(u),onChangeParams:c},null,8,["links"])]),e("p",{hidden:"",class:I(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!s(b)}])},x(s(b)),3),i(e("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic"},x(s(f)),513),[[S,s(f)]])]),_:1},8,["loading"])}}},Ie={class:"flex flex-col mt-10 md:mt-0 md:flex-row gap-4"},Ze={__name:"sss",setup(l){const n=U(),{isEdit:t}=E(n);return n.getContribution(),Y({title:"SSS"}),(d,g)=>{const m=ge,u=Pe,b=qe,f=X;return R(),A(f,{"if-access":("useCheckAccessibility"in d?d.useCheckAccessibility:s(Z))([("AccessibilityTypes"in d?d.AccessibilityTypes:s(ee)).hrms_setup_sss])},{default:$(()=>[e("div",Ie,[i(w(m,null,null,512),[[S,!s(t)]]),i(w(u,null,null,512),[[S,s(t)]]),w(b)])]),_:1},8,["if-access"])}}};export{Ze as default};
