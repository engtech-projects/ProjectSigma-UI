import{_ as S}from"./PsFormLabel.vue.MbD1f9hE.js";import{_ as M,a as U}from"./ChangesToIndividualLinesPo.DUOqLTvM.js";import{_ as q}from"./PsTextInput.vue.DFQbUHfC.js";import{_ as L}from"./ApprovalsList.GUTJciN1.js";import{s as R,r as _,m as V,L as B,o as n,c as u,a as e,t as N,j as D,b as a,u as t,x as j,D as H,v as k,F as x,i as b,h as F}from"./entry.R6V7NTxy.js";import{u as G,A as $}from"./ncpo.ZdAqDThJ.js";import{u as Y}from"./approvals.Db95ZdMZ.js";const Q={class:"text-gray-500 p-2"},X={class:"flex flex-col gap-4 w-full"},J={class:"basis-[10%] grow-1 shrink-0 flex items-center justify-center rounded-t mb-4"},W={key:0,class:"pl-4 text-xl font-bold text-gray-900 p-4 tracking-wide"},z={class:"flex flex-col gap-4 mb-5"},K={class:"flex flex-row justify-between gap-4"},Z={class:"w-full flex flex-col gap-2"},ee={class:"flex flex-row items-center gap-4"},te=e("label",{for:"poSelect",class:"w-full flex flex-col text-sm uppercase font-medium text-gray-900"}," PO NUMBER ",-1),oe=e("label",null," : ",-1),se=["value"],ie={class:"w-full flex flex-col gap-2"},ae={class:"w-full"},le={class:"w-full"},ne={class:"flex flex-row justify-between gap-4"},ue={class:"w-full flex flex-col gap-2"},re={class:"flex w-full"},ce={class:"pt-5 w-full mb-2 rounded-lg p-4 bg-slate-100"},me=e("label",{for:"approved_by",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Approval:",-1),de=e("div",{class:"flex w-full justify-end items-center gap-4"},[e("button",{type:"submit",class:"text-white bg-emerald-700 hover:bg-emerald-800 focus:ring-4 focus:outline-none focus:ring-emerald-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"}," Submit ")],-1),xe={__name:"ItemForm",props:{title:{type:String,default:""}},async setup(f){let r,v;const g=G(),{approvalList:c}=R(g),o=_({}),y=Y();c.value.list=([r,v]=V(()=>y.getApprovalByName($)),r=await r,v(),r);const m=_([{id:1,item_id:"ITEM001",specification:"High quality steel",quantity:10,uom:"PCS",supplier_id:"BrandX",unit_price:100,net_of_vat:950,input_vat:50,gross_amount:1e3},{id:2,item_id:"ITEM002",specification:"Heavy duty bolts",quantity:25,uom:"SET",supplier_id:"BrandY",unit_price:40,net_of_vat:950,input_vat:50,gross_amount:1e3}]),h=[{name:"ITEM NO.",id:"id"},{name:"ITEM DESCRIPTION",id:"item_id"},{name:"SPECIFICATION",id:"specification"},{name:"QTY",id:"quantity"},{name:"UOM",id:"uom"},{name:"SUPPLIER",id:"supplier_id"},{name:"UNIT PRICE",id:"unit_price"},{name:"NET OF VAT",id:"net_of_vat"},{name:"INPUT VAT",id:"input_vat"},{name:"GROSS AMOUNT",id:"gross_amount"}],O=[{name:"CHANGE OF SUPPLIER",id:"supplier_id"},{name:"CHANGE IN ITEM DESCRIPTION/SPECIFICATION",id:"specification"},{name:"CHANGE IN QTY",id:"quantity"},{name:"CHANGE IN UOM",id:"uom"},{name:"CHANGE IN UNIT PRICE",id:"unit_price"},{name:"NEW TOTAL",id:"gross_amount"},{name:"CHANGE IN BRAND",id:"supplier_id"},{name:"CANCEL ITEM",id:"cancel_item"}],p=_([{ncpo_no:"NCPO-001-123",po_number:"PO-001",po_date:"April 25, 2025",project_code:"001-2323-232",equipment_number:"Equip-923-211",date:"April 24, 2025",items:[{id:1,item_id:"ITEM001",specification:"Steel",quantity:10,uom:"PCS",supplier_id:"BrandX",unit_price:100,net_of_vat:950,input_vat:50,gross_amount:1e3}]},{ncpo_no:"NCPO-002-456",po_number:"PO-002",po_date:"May 2, 2025",project_code:"001-4545-232",equipment_number:"Equip-111-999",date:"May 1, 2025",items:[{id:2,item_id:"ITEM999",specification:"Alloy",quantity:5,uom:"BOX",supplier_id:"BrandY",unit_price:200,net_of_vat:190,input_vat:10,gross_amount:200}]}]),d=_(p.value[0].po_number);return B(d,E=>{const s=p.value.find(l=>l.po_number===E);s&&(o.value.ncpo_no=s.ncpo_no,o.value.po_number=s.po_number,o.value.po_date=s.po_date,o.value.project_code=s.project_code,o.value.equipment_number=s.equipment_number,o.value.date=s.date,m.value=s.items)},{immediate:!0}),(E,s)=>{const l=S,T=M,P=U,A=q,C=L;return n(),u("div",Q,[e("form",null,[e("div",X,[e("div",J,[f.title?(n(),u("h3",W,N(f.title),1)):D("",!0)]),e("div",z,[e("div",K,[e("div",Z,[a(l,{title:"NCPO NO",value:t(o).ncpo_no},null,8,["value"]),e("div",ee,[te,oe,j(e("select",{id:"poSelect","onUpdate:modelValue":s[0]||(s[0]=i=>k(d)?d.value=i:null),class:"w-full block"},[(n(!0),u(x,null,b(t(p),i=>(n(),u("option",{key:i.po_number,value:i.po_number},N(i.po_number),9,se))),128))],512),[[H,t(d)]])]),a(l,{title:"PO DATE",value:t(o).po_date},null,8,["value"]),a(l,{title:"PROJECT CODE",value:t(o).project_code},null,8,["value"]),a(l,{title:"EQUIPMENT NUMBER",value:t(o).equipment_number},null,8,["value"])]),e("div",ie,[a(l,{title:"DATE",value:t(o).date},null,8,["value"])])]),e("div",ae,[a(T,{title:"DETAILS OF THE ENTIRE PO",headers:h,items:t(m)},null,8,["items"])]),e("div",le,[a(P,{title:"CHANGES TO INDIVIDUAL LINES ON PO",headers:O,items:t(m),"base-items":t(m)},null,8,["items","base-items"])]),e("div",ne,[e("div",ue,[a(A,{modelValue:t(o).justification,"onUpdate:modelValue":s[1]||(s[1]=i=>t(o).justification=i),required:!0,class:"w-full",title:"Justification"},null,8,["modelValue"])])])]),e("div",re,[e("div",ce,[me,(n(!0),u(x,null,b(t(c).list,(i,I)=>(n(),F(C,{key:"hrmsetupapprovallist"+i,modelValue:t(c).list[I],"onUpdate:modelValue":w=>t(c).list[I]=w},null,8,["modelValue","onUpdate:modelValue"]))),128))])]),de])])])}}};export{xe as _};
