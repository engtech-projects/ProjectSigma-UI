import{c as i,b as t}from"./CustomFetch.ggXvTdIz.js";import{l as r}from"./entry.32UGFqj-.js";const n="Yes",p="No",g=[n,p],c="Rejected",d="For Hiring",l="Processing",u=[d,c,l],m=r("jobapplicants",{state:()=>({isEdit:!1,isApplicantDetail:!1,addJobApplicantRequest:{isLoading:!1,successMessage:"",errorMessage:""},jobapplicant:{id:null,manpowerrequests_id:null,application_letter_attachment:void 0,resume_attachment:void 0,status:"",hiring_status:"",lastname:"",firstname:"",middlename:"",name_suffix:"",nickname:"",date_of_application:"",date_of_birth:"",per_address_street:"",per_address_brgy:"",per_address_city:"",per_address_zip:"",per_address_province:"",pre_address_street:"",pre_address_brgy:"",pre_address_city:"",pre_address_zip:"",pre_address_province:"",contact_info:"",email:"",how_did_u_learn_about_our_company:"",desired_position:"",currently_employed:"",place_of_birth:"",blood_type:"",date_of_marriage:"",sss:"",philhealth:"",pagibig:"",tin:"",atm:"",citizenship:"",religion:"",height:"",weight:"",father_name:"",mother_name:"",gender:"",civil_status:"",name_of_spouse:"",date_of_birth_spouse:"",occupation_spouse:"",telephone_spouse:"",children:[],icoe_name:"",icoe_relationship:"",icoe_occupation:"",icoe_date_of_birth:"",telephone_icoe:"",workexperience:[],education:[{type:"elementary",name:"",education:"",period_attendance_from:"",period_attendance_to:"",year_graduated:"",honors_received:"",degree_earned_of_school:""},{type:"secondary",name:"",education:"",period_attendance_from:"",period_attendance_to:"",year_graduated:"",honors_received:"",degree_earned_of_school:""},{type:"vocational_course",name:"",education:"",period_attendance_from:"",period_attendance_to:"",year_graduated:"",honors_received:"",degree_earned_of_school:""},{type:"college",name:"",education:"",period_attendance_from:"",period_attendance_to:"",year_graduated:"",honors_received:"",degree_earned_of_school:""},{type:"graduate_studies",name:"",education:"",period_attendance_from:"",period_attendance_to:"",year_graduated:"",honors_received:"",degree_earned_of_school:""}],icoe_brgy:"",icoe_city:"",icoe_province:"",icoe_street:"",icoe_zip:"",remarks:""},list:[],allApplicantList:{isLoading:!1,isLoaded:!1,list:[],params:{},pagination:{}},jobApplicantDetails:[],searchJobApplicantParams:{key:"",type:"AllEmployees"},applicantSearchList:[],pagination:{},getParams:{},jobApplicantIsSearch:!1,errorMessage:"",successMessage:"",showFormComponent:!1,allJobApplicants:{isLoading:!1,isLoaded:!1,list:[],params:{paginated:"true"},pagination:{}}}),getters:{fullname(e){return e.jobapplicant?e.jobapplicant.firstname+" "+(e.jobapplicant.middlename||"")+" "+e.jobapplicant.lastname+" ":""}},actions:{async searchJobApplicants(){await i("/api/job-applicants/hiring/for-pan",{method:"POST",body:this.searchJobApplicantParams,onResponse:({response:e})=>{var a;if(e.ok)this.applicantSearchList=(a=e._data)==null?void 0:a.data;else throw new Error(e._data.message)}})},async getJobApplicantInformation(e){await i("/api/job-applicants/resource/"+e,{onResponse:({response:a})=>{a.ok?(this.jobApplicantIsSearch=!0,this.jobapplicant=a._data.data):this.errorMessage=a._data.message}})},async getAllJobApplicant(){this.allJobApplicants.isLoaded=!0,await i("/api/job-applicants/resource",{method:"GET",params:this.allJobApplicants.params,watch:!1,onRequest:()=>{this.allJobApplicants.isLoading=!0},onResponse:({response:e})=>{if(this.allJobApplicants.isLoading=!1,e.ok)this.allJobApplicants.list=e._data.data,this.allJobApplicants.pagination={first_page:e._data.links.first,pages:e._data.meta.links,last_page:e._data.links.last};else throw this.errorMessage=e._data.message,new Error(e._data.message)}})},async createJobapplicant(){if(this.addJobApplicantRequest.isLoading)return;this.successMessage="",this.errorMessage="";const e=new FormData;return Object.keys(this.jobapplicant).forEach(a=>{["workexperience","education"].includes(a)?e.append(a,JSON.stringify(this.jobapplicant[a])):e.append(a,this.jobapplicant[a])}),await t("/api/job-applicants/resource",{method:"POST",body:e,onRequest:()=>{this.addJobApplicantRequest.isLoading=!0},onResponseError:({response:a})=>{throw this.addJobApplicantRequest.errorMessage=a._data.message,this.errorMessage=a._data.message,new Error(a._data.message)},onResponse:({response:a})=>{if(this.addJobApplicantRequest.isLoading=!1,a.ok)this.$reset(),this.addJobApplicantRequest.successMessage=a._data.message,this.successMessage=a._data.message;else throw this.errorMessage=a._data.message,new Error(a._data.message)}})},clearMessages(){this.errorMessage="",this.successMessage=""},async updateJobapplicant(){this.successMessage="",this.errorMessage="",await t("/api/job-applicants/resource/"+this.jobapplicant.id,{method:"PUT",body:this.jobapplicant,onResponse:({response:e})=>{e.ok?(this.$reset(),this.successMessage=e._data.message):this.errorMessage=e._data.message}})},async updateJobApplicantProcessing(e,a){await t("/api/job-applicants/update-applicant-processing/"+e,{method:"PUT",body:a,onResponseError:({response:s})=>{this.errorMessage=s._data.message},onResponse:({response:s})=>{s.ok&&(this.$reset(),this.successMessage=s._data.message)}})},async deleteJobapplicant(e){const{data:a,error:s}=await t("/api/manpower-requests/"+e,{method:"DELETE",onResponse:({response:o})=>{this.successMessage=o._data.message}});if(a.value)return this.successMessage=a.value.message,a;if(s.value)return this.errorMessage=s.value.data.message,s}}});export{g as C,u as S,m as u};
