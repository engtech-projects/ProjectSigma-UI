import{_ as me,a as _e,b as fe}from"./MainContainer.Do3EBfoz.js";import{_ as ee}from"./StakeholderSelect.vue.CDjagDGl.js";import te from"./Icon.CrHlyQOo.js";import{_ as ye}from"./PsSelectSearch.vue.CT-F0Leg.js";import{f as he,n as K,s as M,K as se,q as oe,L as ae,o as u,c as g,b as n,u as t,r as N,a as e,x as k,A as S,z as ge,g as X,B as ve,m as Z,w,F as q,i as D,t as T,M as be,D as xe,j as V,h as U,y as B,C as Ae,v as Q}from"./entry.32UGFqj-.js";import{u as we}from"./enum.tSDl7h_-.js";import{_ as le}from"./RequestedBy.vue.DqrfI0e9.js";import{_ as ne}from"./ApprovalsList.aVDiIVet.js";import{_ as O}from"./LayoutBoards.vue.D_rbqYxd.js";import{u as I,_ as Re}from"./TransactionFlow.BAsXA0hD.js";import{u as ke,A as Ce}from"./approvals.89EhJm5V.js";import{u as $e}from"./withholdingtax.Qi6vfWXL.js";import{u as Pe}from"./transactionFlowModel.BiQcH7fG.js";import{a as H}from"./Utilities.DofxnkSu.js";import{_ as Y}from"./PsTextInput.vue.C7eOWbog.js";import{_ as W}from"./PsTable.BPIFONj1.js";import{_ as z}from"./CustomPagination.C91H0oe5.js";import{_ as F}from"./AcessContainer.Dum7aOuo.js";import{_ as J}from"./InfoModal.DNM6gBKk.js";import{u as E,A as L}from"./Accessibilities.xGffDRXj.js";import"./id.WqrvI90c.js";import"./client-only.CuVny2dr.js";import"./index.CBzzh1I-.js";import"./index.T-zbMaZc.js";import"./CustomFetch.ggXvTdIz.js";import"./UserEmployeeSelector.vue.CW0bAtx_.js";import"./enum.M1X5V5yu.js";import"./loader.BQ9QddgL.js";import"./enums.DZVv3ml5.js";import"./nuxt-link.C5IpI_HT.js";import"./StatusRibbon.BqmJwJoR.js";import"./ListView.CUwkSJ9r.js";import"./ApprovalDenyButton.2aaI0auR.js";import"./IsoHeader.vue.AGltULgl.js";import"./evenpar.CfYVxA5n.js";import"./FormSignatory.BMtK-lzR.js";import"./LayoutPrint.BjcxelaN.js";import"./PsModal.Bk3xu63Y.js";import"./users.G4iuGzk0.js";const Te={class:"relative"},qe=he({__name:"Particular-group",props:K({stakeholderId:{type:Boolean,default:!0}},{particularGroupInfo:{required:!1,type:Object,default:{}}}),emits:["update:particularGroupInfo"],setup(p){const r=we(),{particularGroupsEnum:o}=M(r);se(()=>{o.value.isLoaded||r.searchParticularGroups()});const s=oe(p,"particularGroupInfo");return ae(s,c=>{s.value=c}),(c,f)=>{const a=ye;return u(),g("div",Te,[n(a,{result:s.value,"onUpdate:result":f[0]||(f[0]=y=>s.value=y),"search-input":t(o).params.key,"onUpdate:searchInput":f[1]||(f[1]=y=>t(o).params.key=y),loading:t(o).isLoading,"search-list":t(o).list,title:"name",placeholder:"Search Particular Group"},null,8,["result","search-input","loading","search-list"])])}}}),Ne={class:"grid grid-cols-11 gap-2"},Se={class:"col-span-2 self-center"},Ue=e("label",{for:"particulars",class:"text-xs italic"},"Particulars",-1),Ee={class:"col-span-2 self-center"},Le=e("label",{for:"projectCode",class:"text-xs italic"},"Project/Section Code",-1),Me={class:"col-span-1 self-center"},Ve=e("label",{for:"cost",class:"text-xs italic"},"Cost",-1),Ie={class:"col-span-1 self-center"},De=e("label",{for:"vat",class:"text-xs italic"},"Vat %",-1),Oe={class:"col-span-1 self-center"},Fe=e("label",{for:"vat",class:"text-xs italic"},"Vat Amount",-1),Ge=["value"],je={class:"col-span-1 self-center"},He=e("label",{for:"total",class:"text-xs italic"},"Total",-1),Be={class:"col-span-3 self-center"},Qe=e("label",{for:"particular_group",class:"text-xs italic"},"Equipment No./Code",-1),Ye={class:"flex gap-1 items-start"},We=e("div",null,null,-1),ze={__name:"DetailItem",props:K({index:{type:Number,required:!0}},{modelValue:{required:!0,type:Object}}),emits:K("delete-item",["update:modelValue"]),setup(p,{emit:r}){const o=N(!0),s=oe(p,"modelValue"),c=()=>{o.value=!0,y()},f=()=>{o.value=!1,y()},a=()=>{y()},y=()=>{o.value?(s.value.total_vat_amount=parseFloat((s.value.cost*(s.value.vat/100)).toFixed(2))||0,s.value.amount=s.value.cost+s.value.total_vat_amount):(s.value.cost=parseFloat((s.value.amount/(s.value.vat/100+1)).toFixed(2))||0,s.value.total_vat_amount=(s.value.cost*(s.value.vat/100)).toFixed(2))},v=i=>{s.value.stakeholderInformation=i,s.value.stakeholder_id=i.id};return(i,l)=>{const b=ee,R=qe,x=te;return u(),g("div",Ne,[e("div",Se,[Ue,k(e("input",{id:"particulars","onUpdate:modelValue":l[0]||(l[0]=d=>s.value.particulars=d),type:"text",class:"w-full rounded-lg h-9 text-sm bg-gray-100",required:""},null,512),[[S,s.value.particulars]])]),e("div",Ee,[Le,n(b,{"stakeholder-id":s.value.stakeholder_id,stakeholder:s.value.stakeholderInformation,style:ge("z-index:"+(10+(200-p.index))),"select-options":["project","department","employee"],onSelect:v},null,8,["stakeholder-id","stakeholder","style"])]),e("div",Me,[Ve,k(e("input",{id:"cost","onUpdate:modelValue":l[1]||(l[1]=d=>s.value.cost=d),type:"number",step:".01",class:"w-full rounded-lg h-9 text-sm bg-gray-100",required:"",onChange:l[2]||(l[2]=d=>c())},null,544),[[S,s.value.cost]])]),e("div",Ie,[De,k(e("input",{id:"vat","onUpdate:modelValue":l[3]||(l[3]=d=>s.value.vat=d),min:"0",max:"100",type:"number",step:".01",class:"w-full rounded-lg h-9 text-sm bg-gray-100",required:"",onChange:l[4]||(l[4]=d=>a())},null,544),[[S,s.value.vat]])]),e("div",Oe,[Fe,e("input",{id:"vat",value:s.value.total_vat_amount,min:"0",max:"100",type:"number",step:".01",class:"w-full rounded-lg h-9 text-sm bg-gray-100",disabled:"",onChange:l[5]||(l[5]=d=>a())},null,40,Ge)]),e("div",je,[He,k(e("input",{id:"total","onUpdate:modelValue":l[6]||(l[6]=d=>s.value.amount=d),type:"number",step:".01",class:"w-full rounded-lg h-9 text-sm bg-gray-100",onChange:l[7]||(l[7]=d=>f())},null,544),[[S,s.value.amount]])]),e("div",Be,[Qe,e("div",Ye,[n(R,{"particular-group-info":s.value.particularGroupInfo,"onUpdate:particularGroupInfo":l[8]||(l[8]=d=>s.value.particularGroupInfo=d),class:"w-full"},null,8,["particular-group-info"]),e("button",{class:"text-white p-2 bg-red-500 content-center rounded-md w-fit",onClick:l[9]||(l[9]=X(d=>r("delete-item",p.index),["prevent"]))},[n(x,{name:"ion:trash",color:"white",class:"bg-red-500 rounded h-6 w-6 p-1"})])])]),We])}}},Je={class:"w-full flex gap-4"},Ke={class:"w-3/4"},Xe=["onSubmit"],Ze={class:"flex flex-col gap-16 pt-8 sticky"},et=e("h1",{class:"text-2xl text-center font-bold"}," PAYMENT REQUEST FORM ",-1),tt={class:"w-full"},st={class:"w-full flex justify-between"},ot={class:"w-full py-2"},at={class:"w-1/3 flex flex-col gap-2"},lt={class:"w-full"},nt={key:1},it={class:"w-1/4"},ct=e("label",{for:"floating_payment_request_attachment",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Payment Request Proof of attachment",-1),ut=e("p",{class:"flex justify-center mx-auto text-xs text-gray-500 dark:text-gray-300 uppercase"}," pdf/jpg/jpeg ",-1),rt={class:"flex gap-2"},dt={class:"w-full"},pt=e("label",{for:"prf",class:"text-xs italic"},"PRF Number",-1),mt={class:"w-full"},_t=e("label",{for:"total",class:"text-xs italic"},"Total Amount",-1),ft={class:"w-full"},yt=e("label",{for:"total",class:"text-xs italic"},"Total Vat",-1),ht={class:"grid grid-cols-2 gap-4"},gt=e("label",{for:"payee",class:"text-xs italic"},"Payee",-1),vt=e("label",{for:"date",class:"text-xs italic"},"Date",-1),bt={class:"py-2"},xt={class:"w-full flex gap-2"},At=e("label",{for:"description",class:"text-xs italic"},"Apply Withholding Tax",-1),wt={key:0},Rt={class:"w-full"},kt=e("label",{for:"withholding_tax",class:"text-xs italic"},"Withholding Tax",-1),Ct=e("option",{value:""}," -Select- ",-1),$t=["value"],Pt={class:"w-full"},Tt=e("label",{for:"description",class:"text-xs italic"},"Description",-1),qt={class:"w-full"},Nt={class:"flex justify-between"},St=e("h2",{class:"text-xl font-bold text-center"}," PAYMENT REQUEST DETAILS ",-1),Ut=["onClick"],Et={class:"flex flex-col bg-gray-100 rounded-lg gap-2"},Lt={key:0,class:"block text-center text-gray-600"},Mt={class:"w-full"},Vt=e("label",{for:"approved_by",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Approvals",-1),It=e("div",{class:"flex justify-end"},[e("div",{class:"flex gap-2 jus"},[e("button",{type:"submit",class:"text-white p-2 px-4 bg-teal-600 content-center mt-5 rounded-md w-fit"}," Submit ")])],-1),Dt={class:"w-1/4"},Ot={__name:"CreateForm",props:{fillable:{type:Boolean,required:!1,default:!1}},async setup(p){let r,o;const s=I(),c=$e(),f=Pe(),{paymentRequest:a,vat:y,paymentRequestAttachmentData:v}=M(s),{TransactionFlowList:i}=M(f),l=ve(),b=ke();[r,o]=Z(()=>s.getVat()),await r,o(),a.value.approvals=([r,o]=Z(()=>b.getApprovalByName(Ce)),r=await r,o(),r),se(()=>{s.generatePrNo(),c.getAllWithholdingTaxes(),f.getTransactionFlow()});const R=N({stakeholder_id:null,particulars:"",stakeholderInformation:{},cost:0,vat:y.value}),x=async m=>{if(m.target.files[0]!==void 0){const _=m.target.files[0];v.value.attachment_files=[...v.value.attachment_files,_],await s.uploadAttachments()}},d=async()=>{try{await s.addPaymentRequest(),a.value.successMessage?l.add({type:"success",text:a.value.successMessage}):l.add({type:"error",text:a.value.errorMessage})}catch{l.add({type:"error",text:a.value.errorMessage})}};ae(()=>a,()=>{a.value.total_vat_amount=a.value.details.reduce((m,_)=>m+parseFloat(_.total_vat_amount),0),a.value.total=a.value.details.reduce((m,_)=>m+parseFloat(_.amount),0)},{deep:!0});const $=m=>{a.value.details.splice(m,1)},P=()=>{a.value.details.push(JSON.parse(JSON.stringify(R.value)))},A=m=>{a.value.stakeholderInformation=m,a.value.stakeholder_id=m.id};return(m,_)=>{const G=ee,ie=te,ce=ze,ue=le,re=ne,de=O,pe=Re;return u(),g("div",Je,[e("div",Ke,[n(de,{title:"Payment Request Form (Non-Purchase)",loading:t(a).isLoading,class:"w-90"},{default:w(()=>[e("div",null,[e("form",{enctype:"multipart/form-data",onSubmit:X(d,["prevent"])},[e("div",Ze,[et,e("div",tt,[e("div",st,[e("div",ot,[e("div",at,[t(v).attachment_files.length>0?(u(!0),g(q,{key:0},D(t(v).attachment_files,(h,C)=>(u(),g("div",{key:C,class:"p-2 bg-gray-400 text-white"},[e("div",lt,T(h.name.length>20?h.name.slice(0,20)+"...":h.name),1)]))),128)):(u(),g("p",nt," No attachments yet "))])]),e("div",it,[ct,e("input",{id:"floating_payment_request_attachment",formenctype:"multipart/form-data",class:"block w-full mb-1 text-xs text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"file_input_help",type:"file",onChange:x},null,32),ut])]),e("div",rt,[e("div",dt,[pt,k(e("input",{id:"prf","onUpdate:modelValue":_[0]||(_[0]=h=>t(a).prf_no=h),type:"text",class:"w-full rounded-lg",required:""},null,512),[[S,t(a).prf_no]])]),e("div",mt,[_t,k(e("input",{id:"total","onUpdate:modelValue":_[1]||(_[1]=h=>t(a).total=h),type:"number",disabled:"",class:"w-full rounded-lg",required:""},null,512),[[S,t(a).total]])]),e("div",ft,[yt,k(e("input",{id:"total","onUpdate:modelValue":_[2]||(_[2]=h=>t(a).total_vat_amount=h),disabled:"",type:"number",class:"w-full rounded-lg",required:""},null,512),[[S,t(a).total_vat_amount]])])]),e("div",ht,[e("div",null,[gt,n(G,{"stakeholder-id":t(a).stakeholder_id,stakeholder:t(a).stakeholderInformation,style:"z-index:10","select-options":["employee","supplier","payee"],onSelect:A},null,8,["stakeholder-id","stakeholder"])]),e("div",null,[vt,k(e("input",{id:"date","onUpdate:modelValue":_[3]||(_[3]=h=>t(a).request_date=h),type:"date",class:"w-full rounded-lg",required:""},null,512),[[S,t(a).request_date]])])]),e("div",bt,[e("div",xt,[At,k(e("input",{id:"monday","onUpdate:modelValue":_[4]||(_[4]=h=>t(a).isWithHolingTax=h),type:"checkbox",value:"",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[be,t(a).isWithHolingTax]])]),t(a).isWithHolingTax?(u(),g("div",wt,[e("div",Rt,[kt,k(e("select",{id:"withholding_tax","onUpdate:modelValue":_[5]||(_[5]=h=>t(a).withholding_tax_id=h),class:"w-full rounded-lg"},[Ct,(u(!0),g(q,null,D(t(c).withHoldingTaxSelectList,(h,C)=>(u(),g("option",{key:C,value:C},T(h),9,$t))),128))],512),[[xe,t(a).withholding_tax_id]])])])):V("",!0)]),e("div",null,[e("div",Pt,[Tt,k(e("textarea",{id:"description","onUpdate:modelValue":_[6]||(_[6]=h=>t(a).description=h),class:"w-full rounded-lg"},null,512),[[S,t(a).description]])])])]),e("div",qt,[e("div",Nt,[St,e("button",{class:"text-white p-2 px-4 bg-teal-600 content-center mt-5 rounded-md w-fit",onClick:X(P,["prevent"])},[n(ie,{name:"fa:plus-circle"})],8,Ut)]),k(e("div",Et,[(u(!0),g(q,null,D(t(a).details,(h,C)=>(u(),U(ce,{key:"detail"+C,modelValue:t(a).details[C],"onUpdate:modelValue":j=>t(a).details[C]=j,index:C,onDeleteItem:j=>$(C)},null,8,["modelValue","onUpdate:modelValue","index","onDeleteItem"]))),128))],512),[[B,t(a).details.length>0]]),t(a).details.length===0?(u(),g("span",Lt," No entries yet. ")):V("",!0)]),e("div",Mt,[n(ue),Vt,e("div",null,[(u(!0),g(q,null,D(t(a).approvals,(h,C)=>(u(),U(re,{key:"hrmsetupapprovallist"+C,modelValue:t(a).approvals[C],"onUpdate:modelValue":j=>t(a).approvals[C]=j},null,8,["modelValue","onUpdate:modelValue"]))),128))])]),It])],40,Xe)])]),_:1},8,["loading"])]),e("div",Dt,[n(pe,{"transaction-option":"create","transaction-flow-model-list":t(i)},null,8,["transaction-flow-model-list"])])])}}},Ft={class:"flex flex-col gap-16 pt-8"},Gt=e("h1",{class:"text-2xl text-center font-bold"}," PAYMENT REQUEST FORM ",-1),jt={class:"w-full"},Ht={class:"flex gap-2"},Bt={class:"w-full"},Qt=e("label",{class:"text-xs italic"},"PRF Number",-1),Yt={class:"w-full rounded-lg p-2 bg-gray-100"},Wt={class:"w-full"},zt=e("label",{class:"text-xs italic"},"Total Amount",-1),Jt={class:"w-full rounded-lg p-2 bg-gray-100"},Kt={class:"grid grid-cols-2 gap-4"},Xt=e("label",{class:"text-xs italic"},"Payee",-1),Zt={class:"w-full rounded-lg p-2 bg-gray-100"},es=e("label",{class:"text-xs italic"},"Date",-1),ts={class:"w-full rounded-lg p-2 bg-gray-100"},ss={class:"w-full"},os=e("label",{class:"text-xs italic"},"Description",-1),as={class:"w-full rounded-lg p-2 bg-gray-100"},ls={class:"w-full"},ns=e("h2",{class:"text-xl font-bold text-center"}," PAYMENT REQUEST DETAILS ",-1),is={class:"flex flex-col bg-gray-100 rounded-lg gap-2"},cs={class:"flex-1"},us=e("label",{class:"text-xs italic"},"Particulars",-1),rs={class:"w-full rounded-lg p-2 bg-gray-100"},ds={class:"flex-1"},ps=e("label",{class:"text-xs italic"},"Project/Section Code",-1),ms={class:"w-full rounded-lg p-2 bg-gray-100"},_s={class:"flex-1"},fs=e("label",{class:"text-xs italic"},"Cost",-1),ys={class:"w-full rounded-lg p-2 bg-gray-100"},hs={class:"flex-1"},gs=e("label",{class:"text-xs italic"},"Vat %",-1),vs={class:"w-full rounded-lg p-2 bg-gray-100"},bs={class:"flex-1"},xs=e("label",{class:"text-xs italic"},"Amount",-1),As={class:"w-full rounded-lg p-2 bg-gray-100"},ws={key:0,class:"block text-center text-gray-600"},Rs={class:"w-full"},ks=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Approvals",-1),Cs={__name:"ViewForm",props:{paymentData:{type:Object,required:!1,default:null}},setup(p){const r=I(),{paymentRequest:o}=M(r);return(s,c)=>{const f=le,a=ne,y=O;return u(),U(y,{title:"Payment Request Form (Non-Purchase)",loading:t(o).isLoading,class:"w-90"},{default:w(()=>{var v,i,l,b,R,x,d,$,P,A;return[e("div",null,[e("div",Ft,[Gt,e("div",jt,[e("div",Ht,[e("div",Bt,[Qt,e("p",Yt,T((v=p.paymentData)==null?void 0:v.prf_no),1)]),e("div",Wt,[zt,e("p",Jt,T(("accountingCurrency"in s?s.accountingCurrency:t(H))((i=p.paymentData)==null?void 0:i.total)),1)])]),e("div",Kt,[e("div",null,[Xt,e("p",Zt,T((b=(l=p.paymentData)==null?void 0:l.stakeholderInformation)==null?void 0:b.name),1)]),e("div",null,[es,e("p",ts,T((R=p.paymentData)==null?void 0:R.request_date),1)])]),e("div",null,[e("div",ss,[os,e("p",as,T((x=p.paymentData)==null?void 0:x.description),1)])])]),e("div",ls,[ns,k(e("div",is,[(u(!0),g(q,null,D((d=p.paymentData)==null?void 0:d.details,(m,_)=>{var G;return u(),g("div",{key:_,class:"flex gap-2"},[e("div",cs,[us,e("p",rs,T(m.particulars),1)]),e("div",ds,[ps,e("p",ms,T((G=m.stakeholderInformation)==null?void 0:G.name),1)]),e("div",_s,[fs,e("p",ys,T(("accountingCurrency"in s?s.accountingCurrency:t(H))(m.cost)),1)]),e("div",hs,[gs,e("p",vs,T(("accountingCurrency"in s?s.accountingCurrency:t(H))(m.vat)),1)]),e("div",bs,[xs,e("p",As,T(("accountingCurrency"in s?s.accountingCurrency:t(H))(Number(m.cost)+Number(m.vat))),1)])])}),128))],512),[[B,(($=p.paymentData)==null?void 0:$.details.length)>0]]),((P=p.paymentData)==null?void 0:P.details.length)===0?(u(),g("span",ws," No entries yet. ")):V("",!0)]),e("div",Rs,[n(f,{disabled:""}),ks,e("div",null,[(u(!0),g(q,null,D((A=p.paymentData)==null?void 0:A.approvals,(m,_)=>(u(),U(a,{key:"hrmsetupapprovallist"+_}))),128))])])])])]}),_:1},8,["loading"])}}},$s={__name:"PurchaseRequestForm",props:{fillable:{type:Boolean,required:!1,default:!1},paymentData:{type:Object,required:!1,default:null}},setup(p){return(r,o)=>{const s=Ot,c=Cs;return u(),g(q,null,[k(e("div",null,[n(s)],512),[[B,p.fillable]]),k(e("div",null,[n(c,{"payment-data":p.paymentData},null,8,["payment-data"])],512),[[B,!p.fillable]])],64)}}},Ps={class:"w-1/3 flex"},Ts={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},qs={class:"flex justify-center mx-auto"},Ns={__name:"AllList",setup(p){const r=I(),{allRequests:o}=M(r),s=N(null),c=N(!1),f=l=>{s.value=l,c.value=!0},a=l=>{o.value.params.page=l.page??""},y=[{name:"PRF Number",id:"prf_no"},{name:"Payee",id:"stakeholder.name"},{name:"Amount",id:"total_amount_formatted"},{name:"Created At",id:"date_filed"},{name:"Status",id:"request_status"}],v={showTable:!0},i=Ae(()=>o.value.list??[]);return(l,b)=>{const R=Y,x=W,d=z,$=F,P=O,A=J;return u(),g(q,null,[n(P,{class:"w-full",loading:t(o).isLoading},{default:w(()=>[n($,{"if-access":("useCheckAccessibility"in l?l.useCheckAccessibility:t(E))([("AccessibilityTypes"in l?l.AccessibilityTypes:t(L)).ACCOUNTING_REQUEST_NON_PURCHASE_ORDER_ALL])},{default:w(()=>[e("div",Ps,[n(R,{modelValue:t(o).params.key,"onUpdate:modelValue":b[0]||(b[0]=m=>t(o).params.key=m),title:"PRF Number / Payee",class:"w-full"},null,8,["modelValue"])]),e("div",Ts,[n(x,{"header-columns":y,actions:v,datas:t(i)??[],onShowTable:f},null,8,["datas"]),e("div",qs,[n(d,{links:t(o).pagination,onChangeParams:a},null,8,["links"])])])]),_:1},8,["if-access"])]),_:1},8,["loading"]),n(A,{showModal:t(c),"onUpdate:showModal":b[1]||(b[1]=m=>Q(c)?c.value=m:null),fillable:!1,"payment-data":t(s)},null,8,["showModal","payment-data"])],64)}}},Ss={class:"w-1/3 flex"},Us={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},Es={class:"flex justify-center mx-auto"},Ls={__name:"MyRequestList",setup(p){const r=I(),{myRequests:o}=M(r),s=N(null),c=N(!1),f=i=>{s.value=i,c.value=!0},a=i=>{o.value.params.page=i.page??""},y=[{name:"PRF Number",id:"prf_no"},{name:"Payee",id:"stakeholder.name"},{name:"Amount",id:"total_amount_formatted"},{name:"Created At",id:"date_filed"},{name:"Status",id:"request_status"}],v={showTable:!0};return(i,l)=>{const b=Y,R=W,x=z,d=F,$=O,P=J;return u(),g(q,null,[n($,{class:"w-full",loading:t(o).isLoading},{default:w(()=>[n(d,{"if-access":("useCheckAccessibility"in i?i.useCheckAccessibility:t(E))([("AccessibilityTypes"in i?i.AccessibilityTypes:t(L)).ACCOUNTING_REQUEST_NON_PURCHASE_ORDER_MY_REQUEST])},{default:w(()=>[e("div",Ss,[n(b,{modelValue:t(o).params.key,"onUpdate:modelValue":l[0]||(l[0]=A=>t(o).params.key=A),title:"PRF Number",class:"w-full"},null,8,["modelValue"])]),e("div",Us,[n(R,{"header-columns":y,actions:v,datas:t(o).list??[],onShowTable:f},null,8,["datas"]),e("div",Es,[n(x,{links:t(o).pagination,onChangeParams:a},null,8,["links"])])])]),_:1},8,["if-access"])]),_:1},8,["loading"]),n(P,{showModal:t(c),"onUpdate:showModal":l[1]||(l[1]=A=>Q(c)?c.value=A:null),fillable:!1,"payment-data":t(s)},null,8,["showModal","payment-data"])],64)}}},Ms={class:"w-1/3 flex"},Vs={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},Is={class:"flex justify-center mx-auto"},Ds={__name:"ApprovalList",setup(p){const r=I(),{myApprovals:o}=M(r),s=N(null),c=N(!1),f=i=>{s.value=i,c.value=!0},a=i=>{o.value.params.page=i.page??""},y=[{name:"PRF Number",id:"prf_no"},{name:"Payee",id:"stakeholder.name"},{name:"Amount",id:"total_amount_formatted"},{name:"Created At",id:"date_filed"},{name:"Status",id:"request_status"}],v={showTable:!0};return(i,l)=>{const b=Y,R=W,x=z,d=F,$=O,P=J;return u(),g(q,null,[n($,{class:"w-full",loading:t(o).isLoading},{default:w(()=>[n(d,{"if-access":("useCheckAccessibility"in i?i.useCheckAccessibility:t(E))([("AccessibilityTypes"in i?i.AccessibilityTypes:t(L)).ACCOUNTING_REQUEST_NON_PURCHASE_ORDER_MY_APPROVAL])},{default:w(()=>[e("div",Ms,[n(b,{modelValue:t(o).params.key,"onUpdate:modelValue":l[0]||(l[0]=A=>t(o).params.key=A),title:"PRF Number",class:"w-full"},null,8,["modelValue"])]),e("div",Vs,[n(R,{"header-columns":y,actions:v,datas:t(o).list??[],onShowTable:f},null,8,["datas"]),e("div",Is,[n(x,{links:t(o).pagination,onChangeParams:a},null,8,["links"])])])]),_:1},8,["if-access"])]),_:1},8,["loading"]),n(P,{showModal:t(c),"onUpdate:showModal":l[1]||(l[1]=A=>Q(c)?c.value=A:null),fillable:!1,"payment-data":t(s)},null,8,["showModal","payment-data"])],64)}}},Os={class:"w-1/3 flex"},Fs={class:"pb-2 text-gray-500 text-[12px] overflow-y-auto p-2"},Gs={class:"flex justify-center mx-auto"},js={__name:"DeniedList",setup(p){const r=I(),{myDeniedRequests:o}=M(r),s=N(null),c=N(!1),f=i=>{s.value=i,c.value=!0},a=i=>{o.value.params.page=i.page??""},y=[{name:"PRF Number",id:"prf_no"},{name:"Payee",id:"stakeholder.name"},{name:"Amount",id:"total_amount_formatted"},{name:"Created At",id:"date_filed"},{name:"Status",id:"request_status"}],v={showTable:!0};return(i,l)=>{const b=Y,R=W,x=z,d=F,$=O,P=J;return u(),g(q,null,[n($,{class:"w-full",loading:t(o).isLoading},{default:w(()=>[n(d,{"if-access":("useCheckAccessibility"in i?i.useCheckAccessibility:t(E))([("AccessibilityTypes"in i?i.AccessibilityTypes:t(L)).ACCOUNTING_REQUEST_NON_PURCHASE_ORDER_MY_APPROVAL])},{default:w(()=>[e("div",Os,[n(b,{modelValue:t(o).params.key,"onUpdate:modelValue":l[0]||(l[0]=A=>t(o).params.key=A),title:"PRF Number",class:"w-full"},null,8,["modelValue"])]),e("div",Fs,[n(R,{"header-columns":y,actions:v,datas:t(o).list??[],onShowTable:f},null,8,["datas"]),e("div",Gs,[n(x,{links:t(o).pagination,onChangeParams:a},null,8,["links"])])])]),_:1},8,["if-access"])]),_:1},8,["loading"]),n(P,{showModal:t(c),"onUpdate:showModal":l[1]||(l[1]=A=>Q(c)?c.value=A:null),fillable:!1,"payment-data":t(s)},null,8,["showModal","payment-data"])],64)}}},Hs={class:"flex flex-col gap-4"},No={__name:"non-purchase-order",setup(p){const r=I();return(o,s)=>{const c=me,f=$s,a=_e,y=Ns,v=Ls,i=Ds,l=js,b=fe,R=F;return u(),U(R,{"if-access":("useCheckAccessibility"in o?o.useCheckAccessibility:t(E))([("AccessibilityTypes"in o?o.AccessibilityTypes:t(L)).ACCOUNTING_REQUEST_NON_PURCHASE_ORDER_GROUP])},{default:w(()=>[e("div",Hs,[n(b,{class:"w-full"},{"tab-titles":w(()=>[n(c,{title:"NPO Form","target-id":"npoForm"}),("useCheckAccessibility"in o?o.useCheckAccessibility:t(E))([("AccessibilityTypes"in o?o.AccessibilityTypes:t(L)).ACCOUNTING_REQUEST_NON_PURCHASE_ORDER_ALL])?(u(),U(c,{key:0,title:"All List","target-id":"allList",onClickOnce:s[0]||(s[0]=x=>t(r).getAllRequests())})):V("",!0),("useCheckAccessibility"in o?o.useCheckAccessibility:t(E))([("AccessibilityTypes"in o?o.AccessibilityTypes:t(L)).ACCOUNTING_REQUEST_NON_PURCHASE_ORDER_MY_REQUEST])?(u(),U(c,{key:1,title:"My Requests","target-id":"myRequests",onClickOnce:s[1]||(s[1]=x=>t(r).getMyRequests())})):V("",!0),("useCheckAccessibility"in o?o.useCheckAccessibility:t(E))([("AccessibilityTypes"in o?o.AccessibilityTypes:t(L)).ACCOUNTING_REQUEST_NON_PURCHASE_ORDER_MY_APPROVAL])?(u(),U(c,{key:2,title:"My Approvals","target-id":"myApprovals",onClickOnce:s[2]||(s[2]=x=>t(r).getMyApprovals())})):V("",!0),("useCheckAccessibility"in o?o.useCheckAccessibility:t(E))([("AccessibilityTypes"in o?o.AccessibilityTypes:t(L)).ACCOUNTING_REQUEST_NON_PURCHASE_ORDER_MY_APPROVAL])?(u(),U(c,{key:3,title:"My Denied Request","target-id":"myDeniedRequest",onClickOnce:s[3]||(s[3]=x=>t(r).getMyDeniedRequests())})):V("",!0)]),"tab-containers":w(()=>[n(a,{id:"npoForm"},{default:w(()=>[n(f,{fillable:!0})]),_:1}),n(a,{id:"allList"},{default:w(()=>[n(y)]),_:1}),n(a,{id:"myRequests"},{default:w(()=>[n(v)]),_:1}),n(a,{id:"myApprovals"},{default:w(()=>[n(i)]),_:1}),n(a,{id:"myDeniedRequest"},{default:w(()=>[n(l)]),_:1})]),_:1})])]),_:1},8,["if-access"])}}};export{No as default};
