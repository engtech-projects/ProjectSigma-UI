import{_ as E}from"./Journal-accounts.vue.BTyziT4t.js";import{_ as P}from"./LayoutBoards.vue.1keADq5t.js";import{_ as W,s as N,B as M,r as C,o as T,h as S,w as $,a as t,g as U,x as d,u as e,A,b as p,D as j,G as k,t as f,y as v,p as B,e as q,C as J,c as z,j as F}from"./entry.R6V7NTxy.js";import{u as V}from"./withholdingtax.BJJjBFCk.js";import{_ as X}from"./editBoards.vue.DJ7sTR7u.js";import{_ as K}from"./PsTextInput.vue.DFQbUHfC.js";import{_ as Q}from"./PsTable.CTJad9K5.js";import{_ as Y}from"./CustomPagination.CR9ildFS.js";import{_ as Z}from"./AcessContainer.DJcSsti6.js";import{u as tt}from"./vue.f36acd1f.Dv_A-myg.js";import{u as et,A as ot}from"./Accessibilities.uaboihcy.js";import{u as at}from"./account.BEeYOjpy.js";import"./PsSelectSearch.vue.CrY1IpH8.js";import"./Icon.DcF_NU9d.js";import"./index.T-zbMaZc.js";import"./enum.Bd1Z-unS.js";import"./CustomFetch.BRBLzGci.js";import"./loader.C2wIXBoB.js";import"./id.Dwf9xs1O.js";import"./client-only.QuN6N-R_.js";import"./nuxt-link.drPfi767.js";import"./Utilities.Cbr1Z9cn.js";import"./users.D5_vMoUK.js";const g=c=>(B("data-v-dd8e790d"),c=c(),q(),c),st={class:"text-gray-500"},nt=["onSubmit"],it={class:"flex flex-col gap-2"},lt=g(()=>t("label",{for:"withholding_tax_name",class:"text-xs italic"},"Withholding Tax Name",-1)),ct=g(()=>t("label",{for:"account_name",class:"text-xs italic"},"Account Name",-1)),dt=g(()=>t("label",{for:"vat_type",class:"text-xs italic"},"Vat Type",-1)),rt=g(()=>t("option",{value:"VAT"}," VAT ",-1)),ut=g(()=>t("option",{value:"NON-VAT"}," NON-VAT ",-1)),_t=[rt,ut],pt=g(()=>t("label",{for:"percentage",class:"text-xs italic"},"Percentage",-1)),mt=g(()=>t("div",{class:"flex justify-end"},[t("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-teal-600 content-center mt-5"}," Add Withholding Tax ")],-1)),ht={__name:"WithholdingCreate",emits:["saved"],setup(c,{emit:o}){const a=V(),{errorMessage:i,successMessage:_}=N(a),l=M(),r=C(!1),m=async()=>{try{r.value=!0,await a.createWithholdingTax(),a.errorMessage!==""?l.add({type:"error",text:a.errorMessage}):(o("saved"),l.add({type:"success",text:a.successMessage}))}catch{i.value=i,l.add({type:"error",text:a.errorMessage})}finally{a.clearMessages(),r.value=!1}};return(h,s)=>{const w=E,y=P;return T(),S(y,{title:"Withholding Tax",loading:e(r)},{default:$(()=>[t("div",st,[t("form",{onSubmit:U(m,["prevent"])},[t("div",it,[t("div",null,[lt,d(t("input",{id:"withholdingTaxName","onUpdate:modelValue":s[0]||(s[0]=n=>e(a).withholdingTax.wtax_name=n),type:"text",class:"w-full rounded-lg",required:""},null,512),[[A,e(a).withholdingTax.wtax_name]])]),t("div",null,[ct,p(w,{"journal-account-info":e(a).withholdingTax.account,"onUpdate:journalAccountInfo":s[1]||(s[1]=n=>e(a).withholdingTax.account=n),"account-id":e(a).withholdingTax.account_id,"onUpdate:accountId":s[2]||(s[2]=n=>e(a).withholdingTax.account_id=n),class:"w-full min-w-[300px]"},null,8,["journal-account-info","account-id"])]),t("div",null,[dt,d(t("select",{id:"vatType","onUpdate:modelValue":s[3]||(s[3]=n=>e(a).withholdingTax.vat_type=n),class:"w-full rounded-lg",required:""},_t,512),[[j,e(a).withholdingTax.vat_type]])]),t("div",null,[pt,d(t("input",{id:"percentage","onUpdate:modelValue":s[4]||(s[4]=n=>e(a).withholdingTax.wtax_percentage=n),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[A,e(a).withholdingTax.wtax_percentage]])])]),mt],40,nt),t("p",{hidden:"",class:k(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!e(i)}])},f(e(i)),3),d(t("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic transition-opacity delay-1000"},f(e(_)),513),[[v,e(_)]])])]),_:1},8,["loading"])}}},gt=W(ht,[["__scopeId","data-v-dd8e790d"]]),x=c=>(B("data-v-24ef64cc"),c=c(),q(),c),xt={class:"text-gray-500"},ft=["onSubmit"],wt={class:"flex flex-col gap-2"},yt=x(()=>t("label",{for:"withholding_tax_name",class:"text-xs italic"},"Withholding Tax Name",-1)),Tt=x(()=>t("label",{for:"account_name",class:"text-xs italic"},"Account Name",-1)),vt=x(()=>t("label",{for:"vat_type",class:"text-xs italic"},"Vat Type",-1)),bt=x(()=>t("option",{value:"VAT"}," VAT ",-1)),At=x(()=>t("option",{value:"NON-VAT"}," NON-VAT ",-1)),St=[bt,At],$t=x(()=>t("label",{for:"percentage",class:"text-xs italic"},"Percentage",-1)),Vt=x(()=>t("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-teal-600 content-center mt-5 hover:bg-teal-500"}," Save ",-1)),Wt={__name:"WithholdingEdit",setup(c){const o=V(),{errorMessage:a,successMessage:i}=N(o),_=M(),l=C(!1),r=async()=>{try{l.value=!0,await o.editWithholdingTax(),o.errorMessage!==""?_.add({type:"error",text:o.errorMessage}):_.add({type:"success",text:o.successMessage})}catch{a.value=a,_.add({type:"error",text:o.errorMessage})}finally{o.clearMessages(),l.value=!1}},m=()=>{o.isEdit=!1,o.reset()};return(h,s)=>{const w=E,y=X;return T(),S(y,{title:"Edit Withholding Tax",loading:e(l)},{default:$(()=>[t("div",xt,[t("form",{onSubmit:U(r,["prevent"])},[t("div",wt,[t("div",null,[yt,d(t("input",{id:"withholdingTaxName","onUpdate:modelValue":s[0]||(s[0]=n=>e(o).withholdingTax.wtax_name=n),type:"text",class:"w-full rounded-lg",required:""},null,512),[[A,e(o).withholdingTax.wtax_name]])]),t("div",null,[Tt,p(w,{"journal-account-info":e(o).withholdingTax.account,"onUpdate:journalAccountInfo":s[1]||(s[1]=n=>e(o).withholdingTax.account=n),"account-id":e(o).withholdingTax.account_id,"onUpdate:accountId":s[2]||(s[2]=n=>e(o).withholdingTax.account_id=n),class:"w-full min-w-[300px]"},null,8,["journal-account-info","account-id"])]),t("div",null,[vt,d(t("select",{id:"vatType","onUpdate:modelValue":s[3]||(s[3]=n=>e(o).withholdingTax.vat_type=n),class:"w-full rounded-lg",required:""},St,512),[[j,e(o).withholdingTax.vat_type]])]),t("div",null,[$t,d(t("input",{id:"percentage","onUpdate:modelValue":s[4]||(s[4]=n=>e(o).withholdingTax.wtax_percentage=n),type:"number",class:"w-full rounded-lg",step:".01",min:"0",required:""},null,512),[[A,e(o).withholdingTax.wtax_percentage]])])]),t("div",{class:"flex justify-end gap-2"},[Vt,t("button",{type:"button",class:"flex-1 text-white p-2 rounded bg-gray-700 content-center mt-5 hover:bg-gray-500",onClick:m}," Cancel ")])],40,ft),t("p",{hidden:"",class:k(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!e(a)}])},f(e(a)),3),d(t("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic transition-opacity delay-1000"},f(e(i)),513),[[v,e(i)]])])]),_:1},8,["loading"])}}},Nt=W(Wt,[["__scopeId","data-v-24ef64cc"]]),Mt={class:"w-1/2 flex px-4"},Ct={class:"pb-2 text-gray-500"},kt={key:0,class:"flex justify-center mx-auto"},It={__name:"WithholdingList",setup(c){const o=V(),{isEdit:a,getParams:i,pagination:_,errorMessage:l,successMessage:r}=N(o),m=u=>{a.value=!0,o.withholdingTax=u},h=async u=>{try{L.value=!0,await o.deleteWithholdingTax(u.id),I.add({type:"success",text:o.successMessage})}catch(b){I.add({type:"error",text:b||"Something went wrong"})}finally{L.value=!1}},s=u=>{i.value.page=u.page??"",o.getWithholdingTaxes()},w=[{name:"Name",id:"wtax_name"},{name:"Vat Type",id:"vat_type"},{name:"Percentage",id:"wtax_percentage"},{name:"Account",id:"account_label"}],y={edit:!0,delete:!0},n=J(()=>o.list.map(u=>({...u,account_label:u.account.account_number+" - "+u.account.account_name}))),I=M(),L=C(!1);return(u,b)=>{const O=K,D=Q,G=Y,H=P;return T(),S(H,{title:"Withholding Tax List",class:"w-full",loading:e(o).isLoading.list},{default:$(()=>[t("div",Mt,[p(O,{modelValue:e(o).getParams.key,"onUpdate:modelValue":b[0]||(b[0]=R=>e(o).getParams.key=R),title:"Search Withholding Tax",class:"w-full"},null,8,["modelValue"])]),t("div",Ct,[p(D,{"header-columns":w,datas:e(n),actions:y,onEditRow:m,onDeleteRow:h},null,8,["datas"])]),e(o).list.length?(T(),z("div",kt,[p(G,{links:e(_),onChangeParams:s},null,8,["links"])])):F("",!0),t("p",{hidden:"",class:k(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!e(l)}])},f(e(l)),3),d(t("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic"},f(e(r)),513),[[v,e(r)]])]),_:1},8,["loading"])}}},Lt={class:"flex flex-col md:flex-row gap-4"},Et={__name:"index",setup(c){const o=at(),a=V();return a.getWithholdingTaxes(),o.getAccounts(),tt({title:"Withholding Tax"}),(i,_)=>{const l=gt,r=Nt,m=It,h=Z;return T(),S(h,{"if-access":("useCheckAccessibility"in i?i.useCheckAccessibility:e(et))([("AccessibilityTypes"in i?i.AccessibilityTypes:e(ot)).ACCOUNTING_SETUP_WITHHOLDING_TAX])},{default:$(()=>[t("div",Lt,[d(p(l,{class:"flex-1"},null,512),[[v,!e(a).isEdit]]),d(p(r,{class:"flex-1"},null,512),[[v,e(a).isEdit]]),p(m,{class:"flex-2"})])]),_:1},8,["if-access"])}}},ne=W(Et,[["__scopeId","data-v-789f4bf8"]]);export{ne as default};
