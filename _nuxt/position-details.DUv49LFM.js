import T from"./Icon.CrHlyQOo.js";import{q as S,o as n,c as i,a as e,F as $,i as D,x as R,M as J,d as q,t,A as K,D as W,u as o,b as h,O as Q,s as U,B as O,ax as B,r as x,h as j,g as Y,w as H,v as M,j as N,n as X,y as Z,K as ee,f as te,m as se}from"./entry.32UGFqj-.js";import{S as ae,u as le}from"./jobapplicant.M4L3XLnX.js";import{_ as z}from"./PsModal.Bk3xu63Y.js";import{_ as oe}from"./ListView.CUwkSJ9r.js";import{u as E,F as ne,H as V,a as F}from"./manpower.CrZPq4Il.js";import{_ as ie}from"./ApprovalDenyButton.2aaI0auR.js";import{_ as ce}from"./editBoards.vue.DA5g6BdX.js";import{n as de}from"./Utilities.DofxnkSu.js";import{a as re,u as pe,A as ue}from"./Accessibilities.xGffDRXj.js";import{_ as _e}from"./PsTextInput.vue.C7eOWbog.js";import{_ as me}from"./loader.BQ9QddgL.js";import{_ as he}from"./AcessContainer.Dum7aOuo.js";import{u as fe}from"./vue.f36acd1f.Ds2AlAv6.js";import"./index.T-zbMaZc.js";import"./CustomFetch.ggXvTdIz.js";import"./id.WqrvI90c.js";import"./client-only.CuVny2dr.js";import"./users.G4iuGzk0.js";const be={class:"flex flex-col gap-4 m-1"},ve={class:"flex flex-row"},ye={class:"flex flex-col w-full items-start list-none"},ge=["onUpdate:modelValue"],we={class:"w-full flex items-center gap-2"},xe={class:"w-full flex items-center gap-2"},Ae=e("option",{value:"select",disabled:"",selected:""}," -- Select -- ",-1),$e=["value"],ke={__name:"StatusSet",props:{processingChecklist:{required:!0},remarks:{required:!0,type:String},hiringStatus:{required:!0,type:String}},emits:["update:processingChecklist","update:remarks","update:hiringStatus"],setup(s){const u=S(s,"processingChecklist"),r=S(s,"remarks"),d=S(s,"hiringStatus");return(g,l)=>(n(),i("div",be,[e("div",ve,[e("div",ye,[(n(!0),i($,null,D(u.value,(a,p)=>(n(),i("li",{key:p},[e("label",null,[R(e("input",{"onUpdate:modelValue":f=>u.value[p]=f,type:"checkbox"},null,8,ge),[[J,u.value[p]]]),q(" "+t(p),1)])]))),128))]),e("div",we,[R(e("textarea",{"onUpdate:modelValue":l[0]||(l[0]=a=>r.value=a),class:"w-full",type:"text"},null,512),[[K,r.value]])])]),e("div",xe,[R(e("select",{"onUpdate:modelValue":l[1]||(l[1]=a=>d.value=a),class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:border-gray-600 dark:focus:border-cyan-500 focus:outline-none focus:ring-0 focus:border-cyan-600 peer"},[Ae,(n(!0),i($,null,D(o(ae),a=>(n(),i("option",{key:a,value:a},t(a),9,$e))),128))],512),[[W,d.value]])])]))}},Ce={class:"flex text-xl font-semibold mb-2 bg-slate-100 p-2 rounded-t-lg"},De={class:"grid grid-cols-4 gap-8 p-4"},Se=e("p",{class:"font-semibold italic"}," Application Letter Attachment: ",-1),qe={class:"truncate hover:cursor-pointer hover:text-blue-500 italic"},Ie=["href"],Le=e("p",{class:"font-semibold italic"}," Resume: ",-1),Pe={class:"truncate hover:cursor-pointer hover:text-blue-500 italic"},Re=["href"],Ue=e("p",{class:"font-semibold italic"}," Desired Position: ",-1),Me=e("p",{class:"font-semibold italic"}," Date of Application: ",-1),Te=e("hr",null,null,-1),He={class:"grid grid-cols-4 gap-8 p-4"},Ne=e("p",{class:"font-semibold italic"}," Personal Information: ",-1),Ee=e("p",{class:"font-semibold italic"}," Date of Birth: ",-1),je=e("p",{class:"font-semibold italic"}," Contact Info: ",-1),Be=e("p",{class:"font-semibold italic"}," Email: ",-1),Ve=["href"],Fe=e("p",{class:"font-semibold italic"}," Place of Birth: ",-1),Je=e("p",{class:"font-semibold italic"}," Blood Type: ",-1),Oe=e("p",{class:"font-semibold italic"}," Gender: ",-1),ze=e("p",{class:"font-semibold italic"}," Religion: ",-1),Ge=e("p",{class:"font-semibold italic"}," Civil Status: ",-1),Ke=e("p",{class:"font-semibold italic"}," Citizenship: ",-1),We=e("p",{class:"font-semibold italic"}," Height: ",-1),Qe=e("p",{class:"font-semibold italic"}," Weight: ",-1),Ye=e("p",{class:"font-semibold italic"}," Mother's Name: ",-1),Xe=e("p",{class:"font-semibold italic"}," Father's Name: ",-1),Ze=e("p",{class:"font-semibold italic"}," Present Address: ",-1),et=e("p",{class:"font-semibold italic"}," Permanent Address: ",-1),tt=e("p",{class:"font-semibold italic"}," Date of Marriage: ",-1),st=e("p",{class:"font-semibold italic"}," Name of Spouse: ",-1),at=e("p",{class:"font-semibold italic"}," Date of Birth (Spouse): ",-1),lt=e("p",{class:"font-semibold italic"}," Contact Number (Spouse): ",-1),ot=e("p",{class:"font-semibold italic"}," Children: ",-1),nt=e("hr",null,null,-1),it=e("h2",{class:"font-semibold italic pt-4 py-4"}," Work Experience: ",-1),ct={class:"grid grid-flow-col auto-cols-max gap-8 p-4"},dt=e("hr",null,null,-1),rt={class:"grid grid-cols-3 gap-8 p-4"},pt=e("p",{class:"font-semibold italic"}," How did your learn about our company? ",-1),ut=e("p",{class:"font-semibold italic"}," Currently Employed? ",-1),_t=e("p",{class:"font-semibold italic"}," In Case of Emergency: ",-1),mt=e("p",{class:"font-semibold italic"}," Address: ",-1),ht=e("p",{class:"font-semibold italic"}," Relationship: ",-1),ft=e("p",{class:"font-semibold italic"}," Telephone: ",-1),bt=e("hr",null,null,-1),vt=e("h2",{class:"font-semibold italic pt-4 py-4"}," Education: ",-1),yt={class:"grid grid-cols-3 gap-8 p-4"},gt={class:"flex gap-8 min-w-max"},wt={class:"font-semibold italic"},G={__name:"ApplicantList",props:{applicant:{type:Object,required:!0}},setup(s){const u=Q();return(r,d)=>{const g=T;return n(),i("div",null,[e("h2",Ce,t(s.applicant.firstname)+" "+t(s.applicant.middlename)+" "+t(s.applicant.lastname),1),e("div",De,[e("div",null,[Se,e("p",qe,[e("a",{target:"_blank",href:o(u).public.HRMS_API_URL+"/storage/"+s.applicant.application_letter_attachment},[h(g,{name:"mage:file-download-fill",class:"h-5 w-5 lg:h-5 lg:w-5"}),q(" Download Application Letter ")],8,Ie)])]),e("div",null,[Le,e("p",Pe,[e("a",{target:"_blank",href:o(u).public.HRMS_API_URL+"/storage/"+s.applicant.resume_attachment},[h(g,{name:"mage:file-download-fill",class:"h-5 w-5 lg:h-5 lg:w-5"}),q(" Download Resume ")],8,Re)])]),e("div",null,[Ue,e("p",null,t(s.applicant.desired_position),1)]),e("div",null,[Me,e("p",null,t(s.applicant.date_of_application),1)])]),Te,e("div",He,[e("div",null,[Ne,e("p",null,t(s.applicant.firstname)+" "+t(s.applicant.middlename)+" "+t(s.applicant.lastname)+" "+t(s.applicant.name_suffix)+" ("+t(s.applicant.nickname)+")",1)]),e("div",null,[Ee,e("p",null,t(s.applicant.date_of_birth),1)]),e("div",null,[je,e("p",null,t(s.applicant.contact_info),1)]),e("div",null,[Be,e("p",null,[e("a",{href:"mailto:"+s.applicant.email,class:"cursor-pointer hover:text-blue-500"},t(s.applicant.email),9,Ve)])]),e("div",null,[Fe,e("p",null,t(s.applicant.place_of_birth),1)]),e("div",null,[Je,e("p",null,t(s.applicant.blood_type),1)]),e("div",null,[Oe,e("p",null,t(s.applicant.gender),1)]),e("div",null,[ze,e("p",null,t(s.applicant.religion),1)]),e("div",null,[Ge,e("p",null,t(s.applicant.civil_status),1)]),e("div",null,[Ke,e("p",null,t(s.applicant.citizenship),1)]),e("div",null,[We,e("p",null,t(s.applicant.height),1)]),e("div",null,[Qe,e("p",null,t(s.applicant.weight),1)]),e("div",null,[Ye,e("p",null,t(s.applicant.mother_name),1)]),e("div",null,[Xe,e("p",null,t(s.applicant.father_name),1)]),e("div",null,[Ze,e("p",null,t(s.applicant.pre_address_street)+" "+t(s.applicant.pre_address_brgy)+" "+t(s.applicant.pre_address_city)+" "+t(s.applicant.pre_address_province)+" "+t(s.applicant.pre_address_zip),1)]),e("div",null,[et,e("p",null,t(s.applicant.per_address_street)+" "+t(s.applicant.per_address_brgy)+" "+t(s.applicant.per_address_city)+" "+t(s.applicant.per_address_province)+" "+t(s.applicant.per_address_zip),1)]),e("div",null,[tt,e("p",null,t(s.applicant.date_of_marriage),1)]),e("div",null,[st,e("p",null,t(s.applicant.name_of_spouse),1)]),e("div",null,[at,e("p",null,t(s.applicant.date_of_birth_spouse),1)]),e("div",null,[lt,e("p",null,t(s.applicant.telephone_spouse),1)]),(n(!0),i($,null,D(s.applicant.children,(l,a)=>(n(),i("div",{key:a},[ot,e("p",null,"Name: "+t(l.name),1),e("p",null,"Birthdate: "+t(l.birthdate),1)]))),128))]),nt,it,e("div",ct,[(n(!0),i($,null,D(s.applicant.workexperience,(l,a)=>(n(),i("div",{key:a},[e("div",null,[e("p",null,"Position: "+t(l.position_title),1),e("p",null,"Department/Agency/Office/Company: "+t(l.dpt_agency_office_company),1),e("p",null,"Status of Appointment: "+t(l.status_of_appointment),1),e("p",null,"Inclusive Dates From: "+t(l.inclusive_dates_from),1),e("p",null,"Inclusive Dates To: "+t(l.inclusive_dates_to),1),e("p",null,"Monthly Salary: "+t(l.monthly_salary),1)])]))),128))]),dt,e("div",rt,[e("div",null,[pt,e("p",null,t(s.applicant.how_did_u_learn_about_our_company),1)]),e("div",null,[ut,e("p",null,t(s.applicant.currently_employed),1)]),e("div",null,[_t,e("p",null,t(s.applicant.icoe_name),1)]),e("div",null,[mt,e("p",null,t(s.applicant.icoe_street)+" "+t(s.applicant.icoe_brgy)+" "+t(s.applicant.icoe_city)+", "+t(s.applicant.icoe_province)+", "+t(s.applicant.icoe_zip),1)]),e("div",null,[ht,e("p",null,t(s.applicant.icoe_relationship),1)]),e("div",null,[ft,e("p",null,t(s.applicant.telephone_icoe),1)])]),bt,vt,e("div",yt,[(n(!0),i($,null,D(s.applicant.education,(l,a)=>(n(),i("div",{key:a},[e("div",gt,[e("div",null,[e("p",wt,t(l.type.toUpperCase()),1),e("p",null,"Name of School: "+t(l.name),1),e("p",null,"From: "+t(l.period_attendance_from),1),e("p",null,"To: "+t(l.period_attendance_to),1),e("p",null,"Year Graduated: "+t(l.year_graduated),1)])])]))),128))])])}}},xt={key:0},At={key:0,class:"overflow--auto"},$t={class:"table-auto border-collapse w-full"},kt=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"border border-gray-400 p-2"}," Applicant Name "),e("th",{class:"border border-gray-400 p-2"}," Status and Remarks "),e("th",{class:"border border-gray-400 p-2"}," Actions ")])],-1),Ct={class:"border border-gray-400 p-2"},Dt=["onClick"],St={class:"border border-gray-400 p-2"},qt={key:0,class:"bg-green-200 p-2 rounded"},It={class:"border border-gray-400 p-2"},Lt={key:0,class:"bg-green-200 p-2 rounded"},Pt={key:1,class:"w-full flex justify-center items-center gap-4"},Rt=["onClick"],Ut={key:1,class:"flex mx-auto justify-center italic p-6"},Mt={class:"w-full"},Tt={__name:"ProcessApplicant",setup(s){const u=E(),{positionDetails:r}=U(u),d=le(),{jobapplicant:g}=U(d),l=O(),a=B(),p=x(!1),f=async c=>{try{p.value=!0,a.query.key?(g.value.manpowerrequests_id=a.query.key,await d.updateJobApplicantProcessing(c.pivot.id,c.pivot),d.errorMessage!==""?l.add({type:"error",text:d.errorMessage}):l.add({type:"success",text:d.successMessage}),await u.getOnePosition(a.query.key)):l.add({type:"error",text:"Failed to update."})}catch{l.add({type:"error",text:d.errorMessage})}finally{d.clearMessages(),p.value=!1}},y=x({}),b=x(!1),k=c=>{b.value=!0,y.value=c};return(c,m)=>{const w=ke,I=T,L=G,P=z,v=oe;return n(),i($,null,[o(r).fill_status!==o(ne)?(n(),i("div",xt,[o(r).job_applicants&&o(r).job_applicants.length>0?(n(),i("div",At,[e("table",$t,[kt,e("tbody",null,[(n(!0),i($,null,D(o(r).job_applicants,(_,C)=>(n(),i("tr",{key:C,class:"bg-white"},[e("td",Ct,[e("span",{class:"cursor-pointer text-blue-500",onClick:A=>k(_)},t(_.firstname)+" "+t(_.middlename)+" "+t(_.lastname),9,Dt)]),e("td",St,[_.pivot.hiring_status===o(V)?(n(),i("div",qt," Hired ")):(n(),j(w,{key:1,hiringStatus:_.pivot.hiring_status,"onUpdate:hiringStatus":A=>_.pivot.hiring_status=A,processingChecklist:_.pivot.processing_checklist,"onUpdate:processingChecklist":A=>_.pivot.processing_checklist=A,remarks:_.pivot.remarks,"onUpdate:remarks":A=>_.pivot.remarks=A},null,8,["hiringStatus","onUpdate:hiringStatus","processingChecklist","onUpdate:processingChecklist","remarks","onUpdate:remarks"]))]),e("td",It,[_.pivot.hiring_status===o(V)?(n(),i("div",Lt," Hired ")):(n(),i("div",Pt,[e("button",{class:"p-2 bg-teal-200 hover:bg-teal-300 rounded",onClick:Y(A=>f(_),["prevent"])},[q(" Update "),h(I,{name:"ic:twotone-system-update-alt",class:"h-5 w-5 lg:h-5 lg:w-5"})],8,Rt)]))])]))),128))])])])):(n(),i("div",Ut," No applicants available. ")),h(P,{"show-modal":o(b),"onUpdate:showModal":m[0]||(m[0]=_=>M(b)?b.value=_:null),"is-loading":o(p),title:"APPLICANT DETAILS"},{body:H(()=>[h(L,{applicant:o(y)},null,8,["applicant"])]),_:1},8,["show-modal","is-loading"])])):N("",!0),e("div",Mt,[h(v,{approvals:o(r).approvals},null,8,["approvals"])])],64)}}},Ht={class:"text-gray-600 text-sm p-2"},Nt={class:"border px-4 py-2"},Et=e("span",{class:"font-semibold"},"Fill Status: ",-1),jt={class:"border px-4 py-2"},Bt=e("span",{class:"font-semibold"},"Request Status: ",-1),Vt={class:"border px-4 py-2"},Ft=e("span",{class:"font-semibold"},"Requesting Department: ",-1),Jt={class:"border px-4 py-2"},Ot=e("span",{class:"font-semibold"},"Requested By: ",-1),zt={class:"border px-4 py-2"},Gt=e("span",{class:"font-semibold"},"Date Requested: ",-1),Kt={class:"border px-4 py-2"},Wt=e("span",{class:"font-semibold"},"Date Required: ",-1),Qt={class:"border px-4 py-2"},Yt=e("span",{class:"font-semibold"},"Position: ",-1),Xt={class:"border px-4 py-2"},Zt=e("span",{class:"font-semibold"},"Employment Type: ",-1),es={class:"border px-4 py-2"},ts=e("span",{class:"font-semibold"},"Brief Description: ",-1),ss={class:"border px-4 py-2"},as=e("span",{class:"font-semibold"},"Job Description: ",-1),ls={class:"truncate hover:cursor-pointer text-blue-500 italic"},os=["href"],ns={class:"border px-4 py-2"},is=e("span",{class:"font-semibold"},"Nature of Request: ",-1),cs={class:"border px-4 py-2"},ds=e("span",{class:"font-semibold"},"Age Range: ",-1),rs={class:"border px-4 py-2"},ps=e("span",{class:"font-semibold"},"Status: ",-1),us={class:"border px-4 py-2"},_s=e("span",{class:"font-semibold"},"Gender: ",-1),ms={class:"border px-4 py-2"},hs=e("span",{class:"font-semibold"},"Educational Requirements: ",-1),fs={class:"border px-4 py-2"},bs=e("span",{class:"font-semibold"},"Preferred Qualifications: ",-1),vs={class:"border px-4 py-2"},ys=e("span",{class:"font-semibold"},"Remarks: ",-1),gs={class:"border px-4 py-2"},ws=e("span",{class:"font-semibold"},"Total Applicants: ",-1),xs={key:0,class:"w-full flex flex-col gap-4"},As={class:"flex gap-2 p-2 justify-end relative"},$s={__name:"HiringDetails",props:{showAddApplicant:{required:!1,type:Boolean,default:!1},manpowerData:{required:!0,type:Object}},emits:X(["setDetail"],["update:showAddApplicant","update:manpowerData"]),setup(s,{emit:u}){const r=O(),d=E(),g=S(s,"showAddApplicant"),{remarks:l}=U(d),a=S(s,"manpowerData"),p=x(!1),f=c=>{u("setDetail",props.manpowerData,c.target.value)},y=()=>{g.value=!0},b=async c=>{try{p.value=!0,await d.approveApprovalForm(c),r.add({type:"success",text:d.successMessage}),await d.getOnePosition(c)}catch(m){r.add({type:"error",text:m||"something went wrong."})}finally{p.value=!1}},k=async c=>{try{p.value=!0,await d.denyApprovalForm(c),r.add({type:"success",text:d.successMessage}),await d.getOnePosition(c)}catch(m){r.add({type:"error",text:m||"something went wrong."})}finally{p.value=!1}};return(c,m)=>{const w=T,I=Tt,L=ie,P=ce;return n(),i("div",null,[h(P,{title:a.value.fill_status===o(F)?"Job Opening Details":"Manpower Request Details",class:"w-full",loading:o(p)},{default:H(()=>{var v,_,C;return[e("div",Ht,[e("div",{class:"rounded p-2 grid grid-cols-2",onChange:f},[e("div",Nt,[Et,e("span",null,t(a.value.fill_status),1),R(e("button",{class:"text-blue-500 hover:text-green-500 flex items-center",onClick:y},[h(w,{name:"pajamas:file-addition",class:"h-4 w-4"}),q(" Add Applicant(s) ")],512),[[Z,a.value.fill_status===o(F)]])]),e("div",jt,[Bt,e("span",null,t(a.value.request_status),1)]),e("div",Vt,[Ft,e("span",null,t(a.value.requesting_department_name),1)]),e("div",Jt,[Ot,e("span",null,t(a.value.requested_by_user_name),1)]),e("div",zt,[Gt,e("span",null,t(a.value.date_requested),1)]),e("div",Kt,[Wt,e("span",null,t(a.value.date_required),1)]),e("div",Qt,[Yt,e("span",null,t((v=a.value.position)==null?void 0:v.name),1)]),e("div",Xt,[Zt,e("span",null,t(a.value.employment_type),1)]),e("div",es,[ts,e("span",null,t(a.value.brief_description),1)]),e("div",ss,[as,e("span",ls,[e("a",{target:"_blank",href:("useHrmsDownloadLink"in c?c.useHrmsDownloadLink:o(de))(a.value.job_description_attachment)},[h(w,{name:"mage:file-download-fill",class:"h-5 w-5 lg:h-5 lg:w-5"}),q(" Download ")],8,os)])]),e("div",ns,[is,e("span",null,t(a.value.nature_of_request),1)]),e("div",cs,[ds,e("span",null,t(a.value.age_range),1)]),e("div",rs,[ps,e("span",null,t(a.value.status),1)]),e("div",us,[_s,e("span",null,t(a.value.gender),1)]),e("div",ms,[hs,e("span",null,t(a.value.educational_requirement),1)]),e("div",fs,[bs,e("span",null,t(a.value.preferred_qualifications),1)]),e("div",vs,[ys,e("span",null,t(a.value.remarks),1)]),e("div",gs,[ws,e("span",null,t(((_=a.value.job_applicants)==null?void 0:_.length)||0),1)])],32),h(I)]),a.value.next_approval&&("useCheckIsCurrentUser"in c?c.useCheckIsCurrentUser:o(re))((C=a.value.next_approval)==null?void 0:C.user_id)?(n(),i("div",xs,[e("div",As,[h(L,{"deny-remarks":o(l),"onUpdate:denyRemarks":m[0]||(m[0]=A=>M(l)?l.value=A:null),"request-id":a.value.id,onApprove:b,onDeny:k},null,8,["deny-remarks","request-id"])])])):N("",!0)]}),_:1},8,["title","loading"])])}}},ks={class:"relative"},Cs={key:0,class:"absolute bg-slate-200/50 rounded-lg w-full h-full flex items-center justify-center"},Ds=e("img",{class:"flex justify-center w-28 rounded-md",src:me,alt:"logo"},null,-1),Ss=[Ds],qs={class:"bg-white border border-gray-200 rounded-lg shadow-md sm:p-6 md:p-2 dark:bg-gray-800 dark:border-gray-700 border-t-8 border-t-green-400"},Is={class:"w-full flex flex-row justify-between gap-4"},Ls=e("h5",{class:"text-xl font-medium text-gray-900 dark:text-white border-b p-2"}," Add Applicant ",-1),Ps={class:"flex flex-row gap-2 items-center justify-center"},Rs={class:"text-gray-600 text-sm p-2"},Us={class:"overflow--auto min-h-96 max-h-96 overflow-y-auto"},Ms={class:"table-auto border-collapse w-full"},Ts=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"border border-gray-400 p-2"}),e("th",{class:"border border-gray-400 p-2"}," Applicant Name "),e("th",{class:"border border-gray-400 p-2"}," Desired Position "),e("th",{class:"border border-gray-400 p-2"}," View ")])],-1),Hs={class:"px-2 py-3 font-medium text-gray-900 whitespace-nowrap text-center"},Ns=["onUpdate:modelValue","checked"],Es={class:"px-2 py-3 font-medium text-gray-900 whitespace-nowrap text-center"},js={class:"px-2 py-3 font-medium text-gray-900 whitespace-nowrap text-center"},Bs={class:"px-2 py-3 font-medium text-gray-900 whitespace-nowrap text-center"},Vs=["onClick"],Fs={class:"flex justify-end mt-4"},Js=["disabled"],Os={__name:"AddApplicant",props:{hideAddApplicant:{required:!1,type:Boolean,default:!1}},emits:["update:hideAddApplicant"],setup(s){const u=E(),{allJobApplicants:r}=U(u),d=x(!1),g=S(s,"hideAddApplicant"),l=x();ee(()=>{r.value.isLoaded||u.getAllAvailableApplicant()});const a=()=>{g.value=!1},p=x(!1),f=c=>{p.value=!0,l.value=c},y=B(),b=x(!1),k=async()=>{if(b.value=!0,y.query.key){u.storeApplicantRequests.form.manpowerrequests_id=y.query.key;const c=u.getAddedApplicants.map(m=>m.id);await u.storeApplicants(c),await u.getOnePosition(y.query.key),b.value=!1}};return(c,m)=>{const w=T,I=_e,L=G,P=z;return n(),i("div",null,[e("div",ks,[o(r).isLoading?(n(),i("div",Cs,Ss)):N("",!0),e("div",qs,[e("div",Is,[Ls,e("div",Ps,[h(w,{name:"material-symbols:dangerous",class:"text-gray-900 h-6 w-6 cursor-pointer",onClick:a})])]),e("div",null,[e("div",Rs,[h(I,{modelValue:o(r).params.name,"onUpdate:modelValue":m[0]||(m[0]=v=>o(r).params.name=v),title:"Applicant Name",class:"w-full mb-4"},null,8,["modelValue"]),e("div",Us,[e("table",Ms,[Ts,e("tbody",null,[(n(!0),i($,null,D(o(r).list,(v,_)=>(n(),i("tr",{key:_+"-applicant",class:"bg-white border-b"},[e("td",Hs,[R(e("input",{id:"checkItem","onUpdate:modelValue":C=>v.isCheck=C,class:"cursor-pointer",type:"checkbox",name:"checkItem",checked:v.isCheck},null,8,Ns),[[J,v.isCheck]])]),e("td",Es,t(v.fullname_last),1),e("td",js,t(v.desired_position),1),e("td",Bs,[e("button",{title:"View Complete Applicant Information",onClick:C=>f(v)},[h(w,{name:"material-symbols:visibility-rounded",color:"white",class:"bg-green-500 rounded h-8 w-8 p-1"})],8,Vs)])]))),128))])])]),e("div",Fs,[e("button",{disabled:o(b),class:"bg-green-500 text-white flex items-center p-2",onClick:k}," Save Applicants ",8,Js)])])])])]),h(P,{"show-modal":o(p),"onUpdate:showModal":m[1]||(m[1]=v=>M(p)?p.value=v:null),"is-loading":o(d),title:"APPLICANT DETAILS"},{body:H(()=>[h(L,{applicant:o(l)},null,8,["applicant"])]),_:1},8,["show-modal","is-loading"])])}}},zs={class:"w-full flex flex-row gap-4"},ua=te({__name:"position-details",async setup(s){let u,r;fe({title:"Position Details"});const d=E(),{positionDetails:g,isDetail:l}=U(d),a=B(),p=x(!1);a.query.key?(p.value=!0,l.value=!0,[u,r]=se(()=>d.getOnePosition(a.query.key)),await u,r()):p.value=!1;const f=x(!1);return(y,b)=>{const k=$s,c=Os,m=he;return n(),j(m,{"if-access":("useCheckAccessibility"in y?y.useCheckAccessibility:o(pe))([("AccessibilityTypes"in y?y.AccessibilityTypes:o(ue)).hrms_employee_manpowerrequest_group])},{default:H(()=>[e("div",zs,[h(k,{showAddApplicant:o(f),"onUpdate:showAddApplicant":b[0]||(b[0]=w=>M(f)?f.value=w:null),"manpower-data":o(g),class:"w-full"},null,8,["showAddApplicant","manpower-data"]),o(f)?(n(),j(c,{key:0,hideAddApplicant:o(f),"onUpdate:hideAddApplicant":b[1]||(b[1]=w=>M(f)?f.value=w:null),class:"w-full"},null,8,["hideAddApplicant"])):N("",!0)])]),_:1},8,["if-access"])}}});export{ua as default};
