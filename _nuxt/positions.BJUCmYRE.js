import{d as i}from"./CustomFetch.ggXvTdIz.js";import{l as o}from"./entry.32UGFqj-.js";const l=o("positionStore",{state:()=>({position:{id:null,name:null,description:null},list:[],pagination:{},getParams:{},errorMessage:"",successMessage:"",isLoading:!1,isEdit:!1}),actions:{async getPositions(){this.isLoading=!0;const{data:s,error:t}=await i("/api/lookups/positions",{method:"GET",params:this.getParams,onResponse:({response:e})=>{this.isLoading=!1,this.list=e._data.data.data,this.pagination={first_page:e._data.data.first_page_url,pages:e._data.data.links,last_page:e._data.data.last_page_url}}});if(s)return s;if(t)return t},async getAllPositions(){this.isLoading=!0;const{data:s,error:t}=await i("/api/lookups/all-position",{method:"GET",params:this.getParams,onResponse:({response:e})=>{this.isLoading=!1,this.list=e._data.data}});if(s)return s;if(t)return t},async showPosition(s){const{data:t,error:e}=await i("/api/lookups/positions/"+s,{method:"GET",params:this.getParams,onResponse:({response:a})=>{this.position=a._data}});if(t)return t;if(e)return e},async createPosition(){this.successMessage="",this.errorMessage="",await i("/api/lookups/positions",{method:"POST",body:this.position,watch:!1,onResponse:({response:s})=>{s.ok?(this.getPositions(),this.successMessage="Position successfully created."):this.errorMessage=s._data.message}})},async editPosition(){this.successMessage="",this.errorMessage="";const{data:s,error:t}=await i("/api/lookups/positions/"+this.position.id,{method:"PATCH",body:this.position,watch:!1});if(s.value)return this.getPositions(),this.successMessage="Particular group successfully updated",s;if(t.value)return this.errorMessage=t.value.data.message,t},async deletePosition(s){this.isLoading=!0;const{data:t,error:e}=await i("/api/lookups/positions/"+s,{method:"DELETE",body:this.position,watch:!1,onResponse:({response:a})=>{this.isLoading=!1,this.getPositions(),a._data.success?this.successMessage=a._data.message:this.errorMessage=a._data.message}});if(t.value)return this.getPositions(),this.successMessage="Position successfully deleted.",t;if(e.value)return this.errorMessage="Something went wrong",e},clearMessages(){this.errorMessage="",this.successMessage=""},reset(){this.position={id:null,name:null,description:null}}}});export{l as u};
