import{u as n}from"./vue.f36acd1f.Dv_A-myg.js";import{u as a}from"./CustomFetch.BRBLzGci.js";import{l as o,f as c,m as u,k as l,o as d,c as _,a as m,b as g,_ as h}from"./entry.R6V7NTxy.js";const p=o("documentSeriesStore",{state:()=>({documentSeries:{series_id:null,series_scheme:null,series_description:null,next_number:null,transaction_type_id:null,status:"active"},list:[],pagination:{},getParams:{},errorMessage:"",successMessage:"",isLoading:!1,isEdit:!1}),actions:{async getSeries(){this.isLoading=!0;const{data:e,error:s}=await a("/api/document-series",{method:"GET",params:this.getParams,onResponse:({response:t})=>{this.isLoading=!1,this.list=t._data.document_series,this.pagination={first_page:t._data.first_page_url,pages:t._data.links,last_page:t._data.last_page_url}}});if(e)return e;if(s)return s},async createSeries(){this.successMessage="",this.errorMessage="",await a("/api/document-series",{method:"POST",body:this.documentSeries,watch:!1,onResponse:({response:e})=>{e.ok?(this.getSeries(),this.reset(),this.successMessage=e._data.message):this.errorMessage=e._data.message}})},async editSeries(){this.successMessage="",this.errorMessage="";const{data:e,error:s}=await a("/api/document-series/"+this.documentSeries.series_id,{method:"PATCH",body:this.documentSeries,watch:!1});if(e.value)return this.getSeries(),this.successMessage=e.value.message,e;if(s.value)return this.errorMessage=s.value.data.message,s},async deleteSeries(e){const{data:s,error:t}=await a("/api/document-series/"+e,{method:"DELETE",body:this.documentSeries,watch:!1,onResponse:({response:i})=>{this.successMessage=i._data.message}});if(s.value)return this.getSeries(),this.successMessage=s.value.message,s;if(t.value)return this.errorMessage="Error",t},reset(){this.documentSeries={series_id:null,series_scheme:null,series_description:null,next_number:null,transaction_type_id:null,status:"active"},this.successMessage="",this.errorMessage=""}}}),f={class:"flex flex-col gap-2"},S={class:"flex gap-4"},M=c({__name:"index",async setup(e){let s,t;const i=p();return[s,t]=u(()=>i.getSeries()),await s,t(),n({title:"Document Series"}),(v,x)=>{const r=l("AccountingDocumentSeriesList");return d(),_("div",f,[m("div",S,[g(r,{class:"flex-2"})])])}}}),b=h(M,[["__scopeId","data-v-d03865a8"]]);export{b as default};
