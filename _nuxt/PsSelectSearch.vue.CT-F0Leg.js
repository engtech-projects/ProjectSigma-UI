import F from"./Icon.CrHlyQOo.js";import{f as O,n as B,r as _,q as m,o as t,c as s,a as l,u as b,x as c,A as L,g as N,t as g,y as v,b as u,F as T,i as j,G as q,j as E}from"./entry.32UGFqj-.js";const M=["disabled"],V={class:"border border-slate-600 rounded-md px-3 text-md flex items-center relative cursor-pointer"},A={class:"h-full flex flex-1 items-center overflow-hidden py-[9px]"},z=["disabled"],P={key:1,class:"flex-1"},G={class:"relative"},H={key:0,class:"absolute max-h-96 left-0 min-w-full py-2 px-2 border border-slate-800 bg-white rounded flex flex-col gap-2 z-10"},Q={class:"mx-auto"},R={key:0,class:"flex flex-col overflow-auto"},U=["onClick"],$={key:1,class:"px-4"},J=l("span",null,"No data available.",-1),K=[J],Z=O({__name:"PsSelectSearch",props:B({placeholder:{type:String,default:"Search"},title:{type:String,default:""},searchList:{type:Array,default:[]},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},{result:{type:Object,required:!0},resultId:{type:Number,required:!1},searchInput:{type:String,required:!0}}),emits:["update:result","update:resultId","update:searchInput"],setup(o){const e=o,x=_(),a=m(o,"result"),y=m(o,"resultId"),f=m(o,"searchInput"),r=_(!1);let p=null;const k=()=>{e.disabled||(p&&clearTimeout(p),r.value=!0)},S=()=>{p=setTimeout(()=>{r.value=!1},100)};function C(h){e.disabled||(a.value=h,y.value=h.id,x.value.focus())}function w(){e.disabled||(a.value={},y.value=null)}function I(){e.disabled||(f.value="")}return(h,n)=>{const d=F;return t(),s("div",{ref_key:"forFocusOut",ref:x,tabindex:"51"},[l("div",{id:"PSSELECTSEARCH",ref:"compContainer",tabindex:"50",disabled:e.disabled,onFocusin:k,onFocusout:S},[l("div",V,[l("div",A,[b(r)?c((t(),s("input",{key:0,"onUpdate:modelValue":n[0]||(n[0]=i=>f.value=i),type:"text",class:"border border-slate-300 rounded w-full h-full",placeholder:"Search",disabled:e.disabled,onClick:n[1]||(n[1]=N(()=>{},["stop"]))},null,8,z)),[[L,f.value]]):(t(),s("span",P,g(Object.keys(a.value).length>0?a.value[o.title]:o.placeholder),1)),c(l("span",{onClick:I},[u(d,{name:"material-symbols:close-rounded",class:"-ml-8 font-bold text-xl",title:"Clear Search Input"})],512),[[v,b(r)]]),c(l("div",{onClick:w},[u(d,{name:"material-symbols:close-rounded",class:"font-bold text-xl",title:"Clear Selection"})],512),[[v,Object.keys(a.value).length>0]]),u(d,{name:"iconoir:nav-arrow-down",class:"font-bold text-xl"})])]),l("div",G,[b(r)?(t(),s("div",H,[c(l("div",Q,[u(d,{name:"svg-spinners:6-dots-rotate"})],512),[[v,o.loading]]),e.searchList.length?(t(),s("div",R,[(t(!0),s(T,null,j(e.searchList,(i,D)=>(t(),s("span",{key:D,class:q([{"cursor-not-allowed":e.disabled},"cursor-pointer hover:bg-slate-100 px-3 py-1 border-b"]),onClick:W=>C(i)},g(i[e.title]),11,U))),128))])):(t(),s("div",$,K))])):E("",!0)])],40,M)],512)}}});export{Z as _};
