import{a as K,_ as M}from"./AcessContainer.Dum7aOuo.js";import{_ as W}from"./DetailsTable.Cy6G1pbV.js";import{_ as z}from"./ApprovalDenyButton.2aaI0auR.js";import{_ as G}from"./PsButton.Cqg1ndZS.js";import{_ as J}from"./LayoutBoards.vue.D_rbqYxd.js";import{u as Q}from"./vue.f36acd1f.Ds2AlAv6.js";import{u as X}from"./id.WqrvI90c.js";import{f as Y,r as y,ax as Z,B as tt,K as et,o as c,h as P,w as $,b as u,u as t,j as m,c as f,F as st,a as e,d as n,t as r,v as at}from"./entry.32UGFqj-.js";import{a as ot,u as nt,A as rt}from"./Accessibilities.xGffDRXj.js";import{u as it}from"./salaryDisbursement.C2HreKfi.js";import"./ListView.CUwkSJ9r.js";import"./Icon.CrHlyQOo.js";import"./index.T-zbMaZc.js";import"./LayoutPrint.BjcxelaN.js";import"./Utilities.DofxnkSu.js";import"./loader.BQ9QddgL.js";import"./client-only.CuVny2dr.js";import"./users.G4iuGzk0.js";import"./CustomFetch.ggXvTdIz.js";const ct={class:"grid md:grid-cols-3 gap-2 md:justify-between"},lt={class:"p-2 flex gap-2"},dt=e("span",{class:"text-teal-600 text-light font-medium"},"Payroll Date: ",-1),ut={class:"text-gray-900"},mt={class:"p-2 flex gap-2"},pt=e("span",{class:"text-teal-600 text-light font-medium"},"Payroll Type: ",-1),_t={class:"p-2 flex gap-2"},yt=e("span",{class:"text-teal-600 text-light font-medium"},"Release Type: ",-1),ft={class:"p-2 flex gap-2"},ht=e("span",{class:"text-teal-600 text-light font-medium"},"Requested By: ",-1),gt=e("br",null,null,-1),vt={class:"p-2 flex gap-2"},xt=e("span",{class:"text-teal-600 text-light font-medium"},"Request Status: ",-1),bt={class:"p-2 flex gap-2"},kt=e("span",{class:"text-teal-600 text-light font-medium"},"Disbursement Status: ",-1),At={class:"w-full"},wt={key:0,class:"flex gap-2 p-2 justify-end relative"},Ct={key:1},Wt=Y({__name:"details",setup(Dt){Q({title:"Payroll Summary Details"});const l=it(),I=X("$qq9BhIWsLh"),p=y(!1),_=Z(),s=y(),i=tt();et(async()=>{_.query.id&&(p.value=!0,s.value=await l.getOne(_.query.id),p.value=!1)});const L=async a=>{try{await l.approveApprovalForm(a),i.add({type:"success",text:"Successfully Approved."})}catch(o){i.add({type:"error",text:o||"something went wrong."})}},d=y(""),F=async a=>{try{await l.denyApprovalForm(a,d.value),i.add({type:"success",text:"Successfully Denied"})}catch(o){i.add({type:"error",text:o||"something went wrong."})}},H=async a=>{try{await l.submitToAccounting(a),i.add({type:"success",text:"Successfully submitted to accounting."})}catch(o){i.add({type:"error",text:o||"something went wrong."})}};return(a,o)=>{const N=K,U=W,V=z,j=G,O=J,E=M;return c(),P(E,{"if-access":("useCheckAccessibility"in a?a.useCheckAccessibility:t(nt))([("AccessibilityTypes"in a?a.AccessibilityTypes:t(rt)).hrms_payroll_salarydisbursement_viewpayslips]),"comp-id":t(I),class:"min-h-40"},{default:$(()=>[u(O,{title:"Payroll Summary Details","is-loading":t(p)},{default:$(()=>{var h,g,v,x,b,k,A,w,C,D,q,S,B;return[t(_).query.id?m("",!0):(c(),P(N,{key:0,message:"Please select a Payroll Disbursement"})),(h=t(s))!=null&&h.data?(c(),f(st,{key:1},[e("div",ct,[e("div",lt,[dt,n(),e("span",ut,r((g=t(s))==null?void 0:g.data.payroll_date_human),1)]),e("div",mt,[pt,n(" "+r((v=t(s))==null?void 0:v.data.payroll_type),1)]),e("div",_t,[yt,n(" "+r((x=t(s))==null?void 0:x.data.release_type),1)]),e("div",ft,[ht,n(" "+r((b=t(s))==null?void 0:b.data.created_by_user_name),1),gt,n(r((k=t(s))==null?void 0:k.data.created_at_human),1)]),e("div",vt,[xt,n(" "+r((A=t(s))==null?void 0:A.data.request_status),1)]),e("div",bt,[kt,n(" "+r((w=t(s))==null?void 0:w.data.disbursement_status),1)])]),e("div",At,[u(U,{data:t(s).data},null,8,["data"])]),(C=t(s))!=null&&C.data.next_approval&&("useCheckIsCurrentUser"in a?a.useCheckIsCurrentUser:t(ot))((q=(D=t(s))==null?void 0:D.data.next_approval)==null?void 0:q.user_id)?(c(),f("div",wt,[u(V,{"deny-remarks":t(d),"onUpdate:denyRemarks":o[0]||(o[0]=R=>at(d)?d.value=R:null),"request-id":(S=t(s))==null?void 0:S.data.id,onApprove:L,onDeny:F},null,8,["deny-remarks","request-id"])])):m("",!0),((B=t(s))==null?void 0:B.data.request_status)==="Approved"?(c(),f("div",Ct,[u(j,{"button-title":"Submit to Accounting",onClick:o[1]||(o[1]=R=>{var T;return H((T=t(s))==null?void 0:T.data.id)})})])):m("",!0)],64)):m("",!0)]}),_:1},8,["is-loading"])]),_:1},8,["if-access","comp-id"])}}});export{Wt as default};
