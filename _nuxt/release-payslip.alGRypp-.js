import{a as P,_ as C}from"./AcessContainer.Dum7aOuo.js";import{_ as D}from"./LayoutBoards.vue.D_rbqYxd.js";import{f as v,r as _,o as n,h as d,w,a as e,x as h,v as g,M as f,u as r,c as k,F as R,i as S,t as x,b as B,O as L,ax as $,K as I}from"./entry.32UGFqj-.js";import{_ as V}from"./PsButton.Cqg1ndZS.js";import{u as q}from"./vue.f36acd1f.Ds2AlAv6.js";import{u as E}from"./id.WqrvI90c.js";import{u as G,A as H}from"./Accessibilities.xGffDRXj.js";import{u as M}from"./salaryDisbursement.C2HreKfi.js";import"./loader.BQ9QddgL.js";import"./Icon.CrHlyQOo.js";import"./index.T-zbMaZc.js";import"./client-only.CuVny2dr.js";import"./users.G4iuGzk0.js";import"./CustomFetch.ggXvTdIz.js";const O={class:"mt-5 mb-6 p-2"},T=e("div",null,null,-1),U={class:"h-80 max-h-80 overflow-auto text-center"},N={class:"w-full text-sm text-left rtl:text-right text-gray-700 dark:text-gray-400"},j={class:"sticky top-0 text-gray-500 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400"},F={class:"py-2"},K=e("label",{for:"selectAll",class:"items-center space-x-2"},[e("span",{class:"cursor-pointer text-sm"}," Employee ID")],-1),Z=e("th",{class:"pb-2 pt-2"}," Employee Name ",-1),z=["for"],J=["id","value"],Q={class:"cursor-pointer text-sm"},W=["for"],X={class:"cursor-pointer text-sm"},Y=v({__name:"GeneratePayslip",props:{data:{type:Object,required:!0}},setup(p){const u=p,m=L(),s=_([]),t=_(!1),i=()=>{s.value=t.value?u.data.map(a=>a.id):[]},b=()=>{const a=new URL(m.public.HRMS_API_URL+"/payslip");a.searchParams.set("ids","["+s.value.join(",")+"]"),window.open(a.toString(),"_blank")};return(a,c)=>{const y=D;return n(),d(y,{title:"Generate Payslip",class:"w-full",loading:!1},{default:w(()=>[e("div",O,[T,e("div",U,[e("table",N,[e("thead",j,[e("tr",null,[e("th",F,[h(e("input",{id:"selectAll","onUpdate:modelValue":c[0]||(c[0]=o=>g(t)?t.value=o:null),type:"checkbox",class:"h-5 w-5 cursor-pointer appearance-none rounded-md border border-blue-gray-200 transition-all checked:border-gray-900 checked:bg-gray-900 hover:before:opacity-10",onChange:i},null,544),[[f,r(t)]]),K]),Z])]),e("tbody",null,[(n(!0),k(R,null,S(p.data,(o,l)=>(n(),k("tr",{key:l,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-100 even:dark:bg-gray-800 border-b dark:border-gray-700"},[e("td",null,[e("label",{for:l+"-checkbox",class:"flex items-center space-x-2"},[h(e("input",{id:l+"-checkbox","onUpdate:modelValue":c[1]||(c[1]=A=>g(s)?s.value=A:null),type:"checkbox",name:"employeeSelectorCheckBoxes",value:o.id,class:"h-5 w-5 cursor-pointer appearance-none rounded-md border border-blue-gray-200 transition-all checked:border-gray-900 checked:bg-gray-900 hover:before:opacity-10"},null,8,J),[[f,r(s)]]),e("span",Q,x(o.employee_company_id),1)],8,z)]),e("td",null,[e("label",{for:l+"-checkbox",class:"flex items-center space-x-2"},[e("span",X,x(o.employee_name),1)],8,W)])]))),128))])])]),B(V,{class:"mt-4",message:"Generate Payslip",onClick:b})])]),_:1})}}}),ye=v({__name:"release-payslip",setup(p){q({title:"Payslip Releasing"});const u=M(),m=E("$7bbIVZATPs"),s=$(),t=_();return I(async()=>{s.query.id&&(t.value=await u.getOnePayslipReady(s.query.id))}),(i,b)=>{const a=P,c=Y,y=C;return n(),d(y,{"if-access":("useCheckAccessibility"in i?i.useCheckAccessibility:r(G))([("AccessibilityTypes"in i?i.AccessibilityTypes:r(H)).hrms_payroll_salarydisbursement_viewpayslips]),"comp-id":r(m)},{default:w(()=>{var o,l;return[r(s).query.id?((o=r(t))==null?void 0:o.status)==="pending"?(n(),d(a,{key:1,message:"Payslip is still being processed"})):(n(),d(c,{key:2,data:((l=r(t))==null?void 0:l.data)??{}},null,8,["data"])):(n(),d(a,{key:0,message:"Please select a Payroll Disbursement"}))]}),_:1},8,["if-access","comp-id"])}}});export{ye as default};
