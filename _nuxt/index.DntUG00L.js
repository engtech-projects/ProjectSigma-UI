import{_ as I}from"./LayoutBoards.vue.1keADq5t.js";import{l as H,_ as S,s as b,B as k,r as L,o as y,h as v,w as M,a as t,g as N,x as n,u as s,A as P,G as A,t as f,y as G,p as R,e as V,b as g,c as F,j as J}from"./entry.R6V7NTxy.js";import{u as x}from"./CustomFetch.BRBLzGci.js";import{_ as K}from"./editBoards.vue.DJ7sTR7u.js";import{_ as Q}from"./PsTextInput.vue.DFQbUHfC.js";import{_ as W}from"./PsTable.CTJad9K5.js";import{_ as X}from"./CustomPagination.CR9ildFS.js";import{_ as Y}from"./AcessContainer.DJcSsti6.js";import{u as Z}from"./vue.f36acd1f.Dv_A-myg.js";import{u as ee,A as te}from"./Accessibilities.uaboihcy.js";import"./loader.C2wIXBoB.js";import"./id.Dwf9xs1O.js";import"./client-only.QuN6N-R_.js";import"./Icon.DcF_NU9d.js";import"./index.T-zbMaZc.js";import"./nuxt-link.drPfi767.js";import"./Utilities.Cbr1Z9cn.js";import"./users.D5_vMoUK.js";const w=H("particularGroupStore",{state:()=>({particularGroup:{id:null,name:null,description:null},list:[],pagination:{},getParams:{},errorMessage:"",successMessage:"",isLoading:!1,isEdit:!1}),actions:{async getParticularGroups(){this.isLoading=!0;const{data:r,error:e}=await x("/api/particular-group",{method:"GET",params:this.getParams,onResponse:({response:a})=>{this.isLoading=!1,this.list=a._data.data.data,this.pagination={first_page:a._data.data.links.first,pages:a._data.data.meta.links,last_page:a._data.data.links.last}}});if(r)return r;if(e)return e},async showParticularGroup(r){const{data:e,error:a}=await x("/api/account-group/"+r,{method:"GET",params:this.getParams,onResponse:({response:o})=>{this.particularGroup=o._data}});if(e)return e;if(a)return a},async createParticularGroup(){this.successMessage="",this.errorMessage="",await x("/api/particular-group",{method:"POST",body:this.particularGroup,watch:!1,onResponse:({response:r})=>{r.ok?(this.getParticularGroups(),this.successMessage="Particular group successfully created."):this.errorMessage=r._data.message}})},async editParticularGroup(){this.successMessage="",this.errorMessage="";const{data:r,error:e}=await x("/api/particular-group/"+this.particularGroup.id,{method:"PATCH",body:this.particularGroup,watch:!1});if(r.value)return this.getParticularGroups(),this.successMessage="Particular group successfully updated",r;if(e.value)return this.errorMessage=e.value.data.message,e},async deleteParticularGroup(r){this.isLoading=!0;const{data:e,error:a}=await x("/api/particular-group/"+r,{method:"DELETE",body:this.particularGroup,watch:!1,onResponse:({response:o})=>{this.isLoading=!1,this.getParticularGroups(),o._data.success?this.successMessage=o._data.message:this.errorMessage=o._data.message}});if(e.value)return this.getParticularGroups(),this.successMessage=e.value.message,e;if(a.value)return this.errorMessage="Something went wrong",a},clearMessages(){this.errorMessage="",this.successMessage=""},reset(){this.particularGroup={id:null,name:null,description:null},this.successMessage="",this.errorMessage=""}}}),$=r=>(R("data-v-f67f13a1"),r=r(),V(),r),se={class:"text-gray-500"},ae=["onSubmit"],re={class:"flex flex-col gap-2"},oe=$(()=>t("label",{for:"particular_group_name",class:"text-xs italic"},"Particular Group Name",-1)),ie=$(()=>t("label",{for:"description",class:"text-xs italic"},"Description",-1)),ce=$(()=>t("div",{class:"flex justify-end"},[t("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-teal-600 content-center mt-5"}," Add Particular Group ")],-1)),le={__name:"ParticulargroupCreate",setup(r){const e=w(),{errorMessage:a,successMessage:o}=b(e),c=k(),i=L(!1),u=async()=>{try{i.value=!0,await e.createParticularGroup(),e.errorMessage!==""?c.add({type:"error",text:e.errorMessage}):(e.reset(),c.add({type:"success",text:e.successMessage}))}catch{a.value=a,c.add({type:"error",text:e.errorMessage})}finally{i.value=!1,e.clearMessages()}};return(d,l)=>{const p=I;return y(),v(p,{title:"Particular Group",loading:s(i)},{default:M(()=>[t("div",se,[t("form",{onSubmit:N(u,["prevent"])},[t("div",re,[t("div",null,[oe,n(t("input",{id:"particularGroupName","onUpdate:modelValue":l[0]||(l[0]=m=>s(e).particularGroup.name=m),type:"text",class:"w-full rounded-lg",required:""},null,512),[[P,s(e).particularGroup.name]])]),t("div",null,[ie,n(t("textarea",{id:"description","onUpdate:modelValue":l[1]||(l[1]=m=>s(e).particularGroup.description=m),type:"text",class:"w-full rounded-lg resize-none h-18"},null,512),[[P,s(e).particularGroup.description]])])]),ce],40,ae),t("p",{hidden:"",class:A(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!s(a)}])},f(s(a)),3),n(t("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic transition-opacity delay-1000"},f(s(o)),513),[[G,s(o)]])])]),_:1},8,["loading"])}}},ne=S(le,[["__scopeId","data-v-f67f13a1"]]),C=r=>(R("data-v-334d0561"),r=r(),V(),r),ue={class:"text-gray-500"},de=["onSubmit"],pe={class:"flex flex-col gap-2"},me=C(()=>t("label",{for:"book_name",class:"text-xs italic"},"Particular Group Name",-1)),_e=C(()=>t("label",{for:"description",class:"text-xs italic"},"Description",-1)),ge=C(()=>t("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-teal-600 content-center mt-5 hover:bg-teal-500"}," Save ",-1)),fe={__name:"ParticulargroupEdit",setup(r){const e=w(),{errorMessage:a,successMessage:o}=b(e),c=k(),i=L(!1),u=async()=>{try{i.value=!0,await e.editParticularGroup(),e.errorMessage!==""?c.add({type:"error",text:e.errorMessage}):c.add({type:"success",text:e.successMessage})}catch{a.value=a,c.add({type:"error",text:e.errorMessage})}finally{i.value=!1,e.clearMessages()}},d=()=>{e.isEdit=!1,e.reset()};return(l,p)=>{const m=K;return y(),v(m,{title:"Particular Group",loading:s(i)},{default:M(()=>[t("div",ue,[t("form",{onSubmit:N(u,["prevent"])},[t("div",pe,[t("div",null,[me,n(t("input",{id:"bookName","onUpdate:modelValue":p[0]||(p[0]=h=>s(e).particularGroup.name=h),type:"text",class:"w-full rounded-lg",required:""},null,512),[[P,s(e).particularGroup.name]])]),t("div",null,[_e,n(t("textarea",{id:"description","onUpdate:modelValue":p[1]||(p[1]=h=>s(e).particularGroup.description=h),type:"text",class:"w-full rounded-lg resize-none h-18"},null,512),[[P,s(e).particularGroup.description]])])]),t("div",{class:"flex justify-end gap-2"},[ge,t("button",{type:"button",class:"flex-1 text-white p-2 rounded bg-gray-700 content-center mt-5 hover:bg-gray-500",onClick:d}," Cancel ")])],40,de),t("p",{hidden:"",class:A(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!s(a)}])},f(s(a)),3),n(t("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic transition-opacity delay-1000"},f(s(o)),513),[[G,s(o)]])])]),_:1},8,["loading"])}}},he=S(fe,[["__scopeId","data-v-334d0561"]]),xe={class:"w-1/2 flex px-4"},ye={class:"pb-2 text-gray-500"},Ge={key:0,class:"flex justify-center mx-auto"},Pe={__name:"ParticulargroupList",setup(r){const e=w(),{list:a,isEdit:o,getParams:c,pagination:i,errorMessage:u,successMessage:d}=b(e),l=_=>{o.value=!0,e.particularGroup=_},p=async _=>{try{E.value=!0,await e.deleteParticularGroup(_.id),B.add({type:"success",text:e.successMessage})}finally{E.value=!1}},m=_=>{c.value.page=_.page??"",e.getParticularGroups()},h=[{name:"Name",id:"name",style:"text-left"},{name:"Description",id:"description",style:"text-left"}],U={edit:!0,delete:!0},B=k(),E=L(!1);return(_,T)=>{const D=Q,j=W,z=X,O=I;return y(),v(O,{title:"Particular Group List",class:"w-full",loading:s(e).isLoading},{default:M(()=>[t("div",xe,[g(D,{modelValue:s(e).getParams.key,"onUpdate:modelValue":T[0]||(T[0]=q=>s(e).getParams.key=q),title:"Search Particular Group",class:"w-full"},null,8,["modelValue"])]),t("div",ye,[g(j,{"header-columns":h,datas:s(a),actions:U,onEditRow:l,onDeleteRow:p},null,8,["datas"])]),s(a).length?(y(),F("div",Ge,[g(z,{links:s(i),onChangeParams:m},null,8,["links"])])):J("",!0),t("p",{hidden:"",class:A(["error-message text-red-600 text-center font-semibold mt-2 italic",{"fade-out":!s(u)}])},f(s(u)),3),n(t("p",{hidden:"",class:"success-message text-green-600 text-center font-semibold italic"},f(s(d)),513),[[G,s(d)]])]),_:1},8,["loading"])}}},be={class:"flex flex-col md:flex-row gap-4"},ve={__name:"index",setup(r){const e=w(),{isEdit:a}=b(e);return e.getParticularGroups(),Z({title:"Particular Groups"}),(o,c)=>{const i=ne,u=he,d=Pe,l=Y;return y(),v(l,{"if-access":("useCheckAccessibility"in o?o.useCheckAccessibility:s(ee))([("AccessibilityTypes"in o?o.AccessibilityTypes:s(te)).ACCOUNTING_SETUP_PARTICULAR_GROUP])},{default:M(()=>[t("div",be,[n(g(i,{class:"flex-1"},null,512),[[G,!s(a)]]),n(g(u,{class:"flex-1"},null,512),[[G,s(a)]]),g(d,{class:"flex-2"})])]),_:1},8,["if-access"])}}},ze=S(ve,[["__scopeId","data-v-fe8e48ea"]]);export{ze as default};
