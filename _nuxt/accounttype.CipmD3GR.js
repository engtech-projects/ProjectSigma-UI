import{u as t}from"./CustomFetch.ggXvTdIz.js";import{l as c}from"./entry.32UGFqj-.js";const r=c("accountTypeStore",{state:()=>({accountType:{id:null,account_type:"",account_category:"",balance_type:"",notation:""},list:[],categories:[],pagination:{},getParams:{},errorMessage:"",successMessage:"",isLoading:{list:!1,show:!1,edit:!1,delete:!1},isEdit:!1}),actions:{async getAccountTypes(){this.isLoading.list=!0;const{data:e,error:a}=await t("/api/account-type",{method:"GET",params:this.getParams,onResponse:({response:s})=>{this.isLoading.list=!1,this.list=s._data.data.data,this.pagination={first_page:s._data.data.links.first,pages:s._data.data.meta.links,last_page:s._data.data.links.last}}});if(e)return e;if(a)return a},async getAccountCategories(){const{data:e,error:a}=await t("/api/account-category",{method:"GET",params:this.getParams,watch:!1,onResponse:({response:s})=>{this.categories=s._data.account_category,this.pagination={first_page:s._data.first_page_url,pages:s._data.links,last_page:s._data.last_page_url}}});if(e)return e;if(a)return a},async createAccountType(){this.successMessage="",this.errorMessage="",await t("/api/account-type",{method:"POST",body:this.accountType,watch:!1,onResponse:({response:e})=>{e.ok?(this.getAccountTypes(),this.reset(),this.successMessage=e._data.message):this.errorMessage=e._data.message}})},async editAccountType(){this.successMessage="",this.errorMessage="";const{data:e,error:a}=await t("/api/account-type/"+this.accountType.id,{method:"PATCH",body:this.accountType,watch:!1});if(e.value)return this.getAccountTypes(),this.successMessage=e.value.message,e;if(a.value)return this.errorMessage=a.value.data.message,a},async deleteAccountType(e){this.successMessage="",this.errorMessage="";const{data:a,error:s}=await t("/api/account-type/"+e,{method:"DELETE",body:this.accountType,watch:!1});if(a.value)return this.getAccountTypes(),this.successMessage=a.value.message,a;if(s.value)return this.errorMessage=s.value.data.message,s},clearMessages(){this.errorMessage="",this.successMessage=""},reset(){this.accountType={id:null,account_type:"",account_category:"",balance_type:"",notation:""},this.successMessage="",this.errorMessage=""}}});export{r as u};
