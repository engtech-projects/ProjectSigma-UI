import{_ as L}from"./LayoutBoards.vue.1keADq5t.js";import{l as N,f as E,r as T,B as P,o,h as x,w as g,a as e,g as C,x as b,u as s,A as G,c,F as w,i as M,t as $,m as U,k as H,b as h,y as F,j,d as q,_ as R}from"./entry.R6V7NTxy.js";import{c as v}from"./CustomFetch.BRBLzGci.js";import I from"./Icon.DcF_NU9d.js";import{u as z,_ as O}from"./ModalContainer.CDqF-arx.js";import{d as J}from"./Utilities.Cbr1Z9cn.js";import{_ as K}from"./AcessContainer.DJcSsti6.js";import{u as Q}from"./vue.f36acd1f.Dv_A-myg.js";import{u as W,A as X}from"./Accessibilities.uaboihcy.js";import"./loader.C2wIXBoB.js";import"./index.T-zbMaZc.js";import"./users.D5_vMoUK.js";const k=N("salaryGradeStore",{state:()=>({isEdit:!1,salaryGrade:{id:null,salary_grade_level:"",salary_grade_step:[{id:null,step_name:"1",monthly_salary_amount:0},{id:null,step_name:"2",monthly_salary_amount:0},{id:null,step_name:"3",monthly_salary_amount:0},{id:null,step_name:"4",monthly_salary_amount:0},{id:null,step_name:"5",monthly_salary_amount:0},{id:null,step_name:"6",monthly_salary_amount:0}]},list:[],pagination:{},getParams:{},errorMessage:"",successMessage:"",isLoading:!1}),actions:{async getSalaryGrade(){this.isLoading=!0;const{data:l,error:a}=await v("/api/salary/resource",{params:this.getParams,onResponse:({response:t})=>{this.isLoading=!1,this.list=t._data.data,this.pagination={first_page:t._data.links.first,pages:t._data.meta.links,last_page:t._data.links.last}}});if(l)return l;if(a)return a},async createSalaryGrade(){this.successMessage="",this.errorMessage="",await v("/api/salary/resource",{method:"POST",body:this.salaryGrade,watch:!1,onResponse:({response:l})=>{l.ok?(this.$reset(),this.getSalaryGrade(),this.successMessage=l._data.message):this.errorMessage=l._data.message}})},clearMessages(){this.errorMessage="",this.successMessage=""},async editSalaryGrade(){this.successMessage="",this.errorMessage="";const{data:l,error:a}=await v("/api/salary/resource/"+this.salaryGrade.id,{method:"PATCH",body:this.salaryGrade,watch:!1});if(l.value)return this.$reset(),this.getSalaryGrade(),this.successMessage=l.value.message,l;if(a.value)return this.errorMessage=a.value.data.message,a},async deleteSalaryGrade(l){const{data:a,error:t}=await v("/api/salary/resource/"+l,{method:"DELETE",watch:!1,onResponse:({response:n})=>{this.successMessage=n._data.message}});if(a.value)return this.getSalaryGrade(),this.successMessage=a.value.message,a;if(t.value)return this.errorMessage=t.value.data.message,t}}}),Y=["onSubmit"],Z={class:"flex flex-col gap-2"},ee=e("label",{for:"salary_grade",class:"text-xs italic"},"Salary Grade Level",-1),ae={class:"flex flex-col"},te=e("label",{for:"salary_grade",class:"text-md font-bold italic"},"Salary Grade Steps",-1),se={class:"flex flex-col gap-2 bg-slate-100 p-3 rounded"},le={class:"flex flex-col gap-1 flex-1"},re={for:"salary_grade",class:"text-xs italic"},oe=["onUpdate:modelValue"],ne={class:"flex justify-end gap-4"},de=["onClick"],ie=e("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-teal-600 content-center mt-5"}," Update Salary Grade ",-1),ce=E({__name:"SalaryGradeEdit",setup(l){const a=k(),t=T(!1),n=P();function r(){a.isEdit=!1}async function u(){try{await a.editSalaryGrade(),n.add({type:"success",text:a.successMessage})}catch{n.add({type:"error",text:a.errorMessage||"something went wrong."})}finally{}}return(p,y)=>{const d=L;return o(),x(d,{title:"Edit Salary Grade",loading:s(t),class:"w-full h-fit border-t-8 rounded-lg border-teal-500"},{default:g(()=>[e("form",{onSubmit:C(u,["prevent"])},[e("div",Z,[e("div",null,[ee,b(e("input",{id:"salaryGradeLevel","onUpdate:modelValue":y[0]||(y[0]=i=>s(a).salaryGrade.salary_grade_level=i),type:"text",class:"w-full rounded-lg",required:""},null,512),[[G,s(a).salaryGrade.salary_grade_level]])]),e("div",ae,[te,e("div",se,[(o(!0),c(w,null,M(s(a).salaryGrade.salary_grade_step,(i,_)=>(o(),c("div",{key:"editSalaryGrade"+i.id+_,class:"flex gap-2"},[e("div",le,[e("label",re,"STEP "+$(i.step_name),1),b(e("input",{id:"salaryGradeLevel","onUpdate:modelValue":f=>i.monthly_salary_amount=f,type:"number",step:".01",min:"0",class:"w-full rounded-lg",required:""},null,8,oe),[[G,i.monthly_salary_amount]])])]))),128))])])]),e("div",ne,[e("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-slate-600 content-center mt-5",onClick:C(r,["prevent"])}," Cancel ",8,de),ie])],40,Y)]),_:1},8,["loading"])}}}),_e=["onSubmit"],ue={class:"flex flex-col gap-2"},ye=e("label",{for:"salary_grade",class:"text-xs italic"},"Salary Grade Level",-1),me={class:"flex flex-col"},pe=e("label",{for:"salary_grade",class:"text-md font-bold italic"},"Salary Grade Steps",-1),fe={class:"flex flex-col gap-2 bg-slate-100 p-3 rounded"},he={class:"flex flex-col gap-1 flex-1"},ge={for:"salary_grade",class:"text-xs italic"},xe=["onUpdate:modelValue"],be=e("div",{class:"flex justify-end gap-4"},[e("button",{type:"submit",class:"flex-1 text-white p-2 rounded bg-teal-600 content-center mt-5"}," Create Salary Grade ")],-1),Se=E({__name:"SalaryGradeNew",setup(l){const a=k(),t=T(!1),n=P();async function r(){try{t.value=!0,await a.createSalaryGrade(),a.errorMessage!==""?n.add({type:"error",text:a.errorMessage}):n.add({type:"success",text:a.successMessage})}catch{n.add({type:"error",text:a.errorMessage})}finally{t.value=!1}}return(u,p)=>{const y=L;return o(),x(y,{title:"Create Salary Grade",loading:s(t),class:"w-full h-fit"},{default:g(()=>[e("form",{onSubmit:C(r,["prevent"])},[e("div",ue,[e("div",null,[ye,b(e("input",{id:"salaryGradeLevel","onUpdate:modelValue":p[0]||(p[0]=d=>s(a).salaryGrade.salary_grade_level=d),type:"text",class:"w-full rounded-lg",required:""},null,512),[[G,s(a).salaryGrade.salary_grade_level]])]),e("div",me,[pe,e("div",fe,[(o(!0),c(w,null,M(s(a).salaryGrade.salary_grade_step,(d,i)=>(o(),c("div",{key:"salarygradestep"+d.id+i,class:"flex gap-2"},[e("div",he,[e("label",ge,"STEP "+$(d.step_name),1),b(e("input",{id:"salaryGradeLevel","onUpdate:modelValue":_=>d.monthly_salary_amount=_,type:"number",step:".01",min:"0",class:"w-full rounded-lg",required:""},null,8,xe),[[G,d.monthly_salary_amount]])])]))),128))])])]),be],40,_e)]),_:1},8,["loading"])}}}),ve={class:"table w-full border"},Ge=e("thead",null,[e("th",{class:"text-left p-2 w-16"}," Salary Grade "),e("th",{class:"text-left p-2"}," STEP 1 "),e("th",{class:"text-left p-2"}," STEP 2 "),e("th",{class:"text-left p-2"}," STEP 3 "),e("th",{class:"text-left p-2"}," STEP 4 "),e("th",{class:"text-left p-2"}," STEP 5 "),e("th",{class:"text-left p-2"}," STEP 6 "),e("th")],-1),we={class:"p-2 w-16 text-center border"},Me={class:"flex gap-2 items-center pl-2"},$e={key:0},ke=e("td",{class:"text-center"}," No data available ",-1),Ce=[ke],Le={class:"flex flex-col gap-6"},Ee={class:"flex gap-3 justify-end"},Te=E({__name:"SalaryGradeList",async setup(l){let a,t;const n=z(),r=k();[a,t]=U(()=>r.getSalaryGrade()),await a,t();const u=P(),p=T({});function y(_){r.salaryGrade=_,r.isEdit=!0}const d=async()=>{n.hideModal();try{r.isLoading=!0,await r.deleteSalaryGrade(p.value.id),u.add({type:"success",text:r.successMessage})}finally{r.isLoading=!1}};function i(_){u.add({type:"warning",text:"Delete has been temporarily disabled."})}return(_,f)=>{const A=I,V=L,B=H("center"),D=O;return o(),c("div",null,[h(V,{title:"Salary Grade List",loading:s(r).isLoading,class:"w-full h-fit"},{default:g(()=>[e("table",ve,[Ge,e("tbody",null,[(o(!0),c(w,null,M(s(r).list,m=>(o(),c("tr",{key:m.id,class:"border"},[e("td",we,$(m.salary_grade_level),1),(o(!0),c(w,null,M(m.salary_grade_step,S=>(o(),c("td",{key:S.id,class:"p-2 text-left border"},$(("useFormatCurrency"in _?_.useFormatCurrency:s(J))(S.monthly_salary_amount)),1))),128)),e("td",null,[e("div",Me,[h(A,{name:"iconoir:edit",class:"text-xl text-green-500 cursor-pointer hover:text-green-700",onClick:S=>y(m)},null,8,["onClick"]),b(h(A,{name:"iconoir:bin-minus-in",class:"text-red-500 cursor-pointer hover:text-red-700",onClick:S=>i(m)},null,8,["onClick"]),[[F,!1]])])])]))),128)),s(r).list.length?j("",!0):(o(),c("tr",$e,Ce))])])]),_:1},8,["loading"]),h(D,{size:"modal-sm"},{default:g(()=>[e("div",Le,[h(B,{class:"text-xl"},{default:g(()=>[q(" Do you want to delete this salary grade? ")]),_:1}),e("div",Ee,[e("button",{class:"px-4 py-2 text-white bg-slate-500 hover:bg-slate-600",onClick:f[0]||(f[0]=(...m)=>s(n).hideModal&&s(n).hideModal(...m))}," Cancel "),e("button",{class:"px-4 py-2 text-white bg-teal-500 hover:bg-teal-600",onClick:f[1]||(f[1]=m=>d())}," Proceed ")])])]),_:1})])}}}),Pe={class:"mt-10 md:flex gap-4 overflow-auto"},Ae={__name:"salary-grade",setup(l){Q({title:"Salary Grade"});const a=k();return(t,n)=>{const r=ce,u=Se,p=Te,y=K;return o(),x(y,{"if-access":("useCheckAccessibility"in t?t.useCheckAccessibility:s(W))([("AccessibilityTypes"in t?t.AccessibilityTypes:s(X)).hrms_setup_salary_grade])},{default:g(()=>[e("div",Pe,[s(a).isEdit?(o(),x(r,{key:0,class:"md:flex w-full md:w-1/3"})):(o(),x(u,{key:1,class:"md:flex w-full md:w-1/3"})),h(p,{class:"md:flex w-full md:w-2/3"})])]),_:1},8,["if-access"])}}},Oe=R(Ae,[["__scopeId","data-v-c6321387"]]);export{Oe as default};
