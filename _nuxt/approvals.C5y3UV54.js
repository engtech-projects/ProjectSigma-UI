import T from"./Icon.CrHlyQOo.js";import{_ as F}from"./UserEmployeeSelector.vue.CW0bAtx_.js";import{_ as L}from"./CustomPagination.C91H0oe5.js";import{_ as P}from"./LayoutBoards.vue.D_rbqYxd.js";import{_ as j,s as H,K as D,B as N,o as i,h as V,w as S,a as e,c as y,F as w,i as C,u as p,t as R,b as _,g as k,x as f,A as K,P as x,p as q,e as z,m as G}from"./entry.32UGFqj-.js";import{u as J}from"./approvals.89EhJm5V.js";import{_ as O}from"./AcessContainer.Dum7aOuo.js";import{u as Q}from"./vue.f36acd1f.Ds2AlAv6.js";import{u as W,A as X}from"./Accessibilities.xGffDRXj.js";import{u as Y}from"./enum.u5rtwjs9.js";import"./index.T-zbMaZc.js";import"./enum.M1X5V5yu.js";import"./CustomFetch.ggXvTdIz.js";import"./loader.BQ9QddgL.js";import"./users.G4iuGzk0.js";const U=d=>(q("data-v-6478cd3f"),d=d(),z(),d),Z={class:"pb-2 text-gray-500"},ee={class:"table-auto w-full border-collapse"},te=U(()=>e("thead",null,[e("tr",{class:""},[e("th",{class:"p-2"}," Form "),e("th",{class:"p-2"}," Approvals "),e("th",{class:"p-2"}," Action ")])],-1)),se={class:"p-2"},oe={class:"p-2 space-y-2"},ae={class:"flex ml-auto"},re={class:"grid gap-2 md:grid-cols-2"},le=U(()=>e("label",{for:"",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Approval Type",-1)),ne=["onUpdate:modelValue"],ce={class:"flex items-center"},ie=["id","onUpdate:modelValue","name","onChange"],de=["for"],ue={class:"flex items-center"},_e=["id","onUpdate:modelValue","name","onChange"],pe=["for"],me={class:"flex items-center"},ge=["id","onUpdate:modelValue","name","onChange"],ye=["for"],fe={class:"p-2 rounded-md"},be={class:"grid md:grid-rows-1 justify-center gap-4 p-2"},he=["onClick"],ve={class:"flex justify-center mx-auto"},ke={__name:"ApprovalsForm",setup(d){const c=J(),{inventoryApprovals:l,editApproval:m}=H(c);D(()=>{l.value.isLoaded||c.getInventoryApprovals()});const n=N(),g=o=>{o.selector_type!=="specific"&&(o.user_id=null)},b=o=>{o.push({type:"",user_id:null,selector_type:"specific"})},h=(o,v)=>{o.splice(v,1)},$=async o=>{try{await c.editApprovals(o),n.add({type:"success",text:m.value.successMessage})}catch{n.add({type:"error",text:m.value.errorMessage})}},I=o=>{l.value.params.page=o.page??""};return(o,v)=>{const A=T,E=F,B=L,M=P;return i(),V(M,{title:"Approvals",class:"w-full",loading:p(l).isLoading},{default:S(()=>[e("div",Z,[e("table",ee,[te,e("tbody",null,[(i(!0),y(w,null,C(p(l).list,(u,r)=>(i(),y("tr",{key:r,class:"border-2 border-slate-300"},[e("td",se,R(u.form),1),e("div",oe,[(i(!0),y(w,null,C(u.approvals,(t,a)=>(i(),y("td",{key:a,class:"p-3 flex flex-col border border-slate-400 rounded-lg"},[e("div",ae,[_(A,{name:"ic:baseline-minus",class:"flex ml-auto bg-red-400 hover:bg-red-500 text-black hover:text-white rounded-sm w-10",onClick:k(s=>h(u.approvals,a),["prevent"])},null,8,["onClick"])]),e("div",re,[e("div",null,[le,f(e("input",{"onUpdate:modelValue":s=>t.type=s,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",type:"text"},null,8,ne),[[K,t.type]])]),e("div",null,[e("div",ce,[f(e("input",{id:a+"user_selector"+r,"onUpdate:modelValue":s=>t.selector_type=s,type:"radio",value:"employee",name:a+"radio1"+r,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",onChange:s=>g(t)},null,40,ie),[[x,t.selector_type]]),e("label",{for:a+"user_selector"+r,class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"}," Employee Selector ",8,de)]),e("div",ue,[f(e("input",{id:a+"head_selector"+r,"onUpdate:modelValue":s=>t.selector_type=s,type:"radio",value:"head",name:a+"radio1"+r,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",onChange:s=>g(t)},null,40,_e),[[x,t.selector_type]]),e("label",{for:a+"head_selector"+r,class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"}," Head Selector ",8,pe)]),e("div",me,[f(e("input",{id:a+"employee_selector"+r,"onUpdate:modelValue":s=>t.selector_type=s,type:"radio",value:"specific",name:a+"radio2"+r,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",onChange:s=>g(t)},null,40,ge),[[x,t.selector_type]]),e("label",{for:a+"employee_selector"+r,class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"}," Specific Employee ",8,ye),_(E,{id:"users_list",modelValue:t.user_id,"onUpdate:modelValue":s=>t.user_id=s,disabled:t.selector_type!=="specific"},null,8,["modelValue","onUpdate:modelValue","disabled"])])])])]))),128)),_(A,{name:"ic:baseline-plus",class:"flex ml-auto bg-green-400 hover:bg-green-500 text-black hover:text-white rounded-sm w-10",onClick:k(t=>b(u.approvals),["prevent"])},null,8,["onClick"])]),e("td",fe,[e("div",be,[e("button",{type:"submit",class:"rounded-md bg-green-400 p-2 text-white hover:bg-green-500 justify-end",onClick:k(t=>$(u),["prevent"])}," Save Changes ",8,he)])])]))),128))])])]),e("div",ve,[_(B,{links:p(l).pagination,onChangeParams:I},null,8,["links"])])]),_:1},8,["loading"])}}},xe=j(ke,[["__scopeId","data-v-6478cd3f"]]),Ae={class:"flex flex-col md:flex-row gap-4"},He={__name:"approvals",async setup(d){let c,l;const m=Y();return[c,l]=G(()=>m.getUserEmployeeEnums()),await c,l(),Q({title:"Approvals"}),(n,g)=>{const b=xe,h=O;return i(),V(h,{"if-access":("useCheckAccessibility"in n?n.useCheckAccessibility:p(W))([("AccessibilityTypes"in n?n.AccessibilityTypes:p(X)).inventory_setup_approvals])},{default:S(()=>[e("div",Ae,[_(b)])]),_:1},8,["if-access"])}}};export{He as default};
